(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _g(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function YP(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Lp={exports:{}},Dl={},Mp={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function XP(){if(u0)return $e;u0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function w(k){return k===null||typeof k!="object"?null:(k=y&&k[y]||k["@@iterator"],typeof k=="function"?k:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,N={};function V(k,$,te){this.props=k,this.context=$,this.refs=N,this.updater=te||I}V.prototype.isReactComponent={},V.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},V.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function B(){}B.prototype=V.prototype;function z(k,$,te){this.props=k,this.context=$,this.refs=N,this.updater=te||I}var H=z.prototype=new B;H.constructor=z,R(H,V.prototype),H.isPureReactComponent=!0;var K=Array.isArray,F=Object.prototype.hasOwnProperty,U={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function A(k,$,te){var re,le={},ae=null,ce=null;if($!=null)for(re in $.ref!==void 0&&(ce=$.ref),$.key!==void 0&&(ae=""+$.key),$)F.call($,re)&&!x.hasOwnProperty(re)&&(le[re]=$[re]);var ge=arguments.length-2;if(ge===1)le.children=te;else if(1<ge){for(var _e=Array(ge),Se=0;Se<ge;Se++)_e[Se]=arguments[Se+2];le.children=_e}if(k&&k.defaultProps)for(re in ge=k.defaultProps,ge)le[re]===void 0&&(le[re]=ge[re]);return{$$typeof:t,type:k,key:ae,ref:ce,props:le,_owner:U.current}}function T(k,$){return{$$typeof:t,type:k.type,key:$,ref:k.ref,props:k.props,_owner:k._owner}}function E(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function L(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(te){return $[te]})}var O=/\/+/g;function C(k,$){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):$.toString(36)}function G(k,$,te,re,le){var ae=typeof k;(ae==="undefined"||ae==="boolean")&&(k=null);var ce=!1;if(k===null)ce=!0;else switch(ae){case"string":case"number":ce=!0;break;case"object":switch(k.$$typeof){case t:case e:ce=!0}}if(ce)return ce=k,le=le(ce),k=re===""?"."+C(ce,0):re,K(le)?(te="",k!=null&&(te=k.replace(O,"$&/")+"/"),G(le,$,te,"",function(Se){return Se})):le!=null&&(E(le)&&(le=T(le,te+(!le.key||ce&&ce.key===le.key?"":(""+le.key).replace(O,"$&/")+"/")+k)),$.push(le)),1;if(ce=0,re=re===""?".":re+":",K(k))for(var ge=0;ge<k.length;ge++){ae=k[ge];var _e=re+C(ae,ge);ce+=G(ae,$,te,_e,le)}else if(_e=w(k),typeof _e=="function")for(k=_e.call(k),ge=0;!(ae=k.next()).done;)ae=ae.value,_e=re+C(ae,ge++),ce+=G(ae,$,te,_e,le);else if(ae==="object")throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return ce}function ue(k,$,te){if(k==null)return k;var re=[],le=0;return G(k,re,"","",function(ae){return $.call(te,ae,le++)}),re}function se(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(te){(k._status===0||k._status===-1)&&(k._status=1,k._result=te)},function(te){(k._status===0||k._status===-1)&&(k._status=2,k._result=te)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var P={current:null},oe={transition:null},q={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:oe,ReactCurrentOwner:U};function b(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:ue,forEach:function(k,$,te){ue(k,function(){$.apply(this,arguments)},te)},count:function(k){var $=0;return ue(k,function(){$++}),$},toArray:function(k){return ue(k,function($){return $})||[]},only:function(k){if(!E(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},$e.Component=V,$e.Fragment=n,$e.Profiler=s,$e.PureComponent=z,$e.StrictMode=r,$e.Suspense=h,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,$e.act=b,$e.cloneElement=function(k,$,te){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var re=R({},k.props),le=k.key,ae=k.ref,ce=k._owner;if($!=null){if($.ref!==void 0&&(ae=$.ref,ce=U.current),$.key!==void 0&&(le=""+$.key),k.type&&k.type.defaultProps)var ge=k.type.defaultProps;for(_e in $)F.call($,_e)&&!x.hasOwnProperty(_e)&&(re[_e]=$[_e]===void 0&&ge!==void 0?ge[_e]:$[_e])}var _e=arguments.length-2;if(_e===1)re.children=te;else if(1<_e){ge=Array(_e);for(var Se=0;Se<_e;Se++)ge[Se]=arguments[Se+2];re.children=ge}return{$$typeof:t,type:k.type,key:le,ref:ae,props:re,_owner:ce}},$e.createContext=function(k){return k={$$typeof:l,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:a,_context:k},k.Consumer=k},$e.createElement=A,$e.createFactory=function(k){var $=A.bind(null,k);return $.type=k,$},$e.createRef=function(){return{current:null}},$e.forwardRef=function(k){return{$$typeof:c,render:k}},$e.isValidElement=E,$e.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:se}},$e.memo=function(k,$){return{$$typeof:p,type:k,compare:$===void 0?null:$}},$e.startTransition=function(k){var $=oe.transition;oe.transition={};try{k()}finally{oe.transition=$}},$e.unstable_act=b,$e.useCallback=function(k,$){return P.current.useCallback(k,$)},$e.useContext=function(k){return P.current.useContext(k)},$e.useDebugValue=function(){},$e.useDeferredValue=function(k){return P.current.useDeferredValue(k)},$e.useEffect=function(k,$){return P.current.useEffect(k,$)},$e.useId=function(){return P.current.useId()},$e.useImperativeHandle=function(k,$,te){return P.current.useImperativeHandle(k,$,te)},$e.useInsertionEffect=function(k,$){return P.current.useInsertionEffect(k,$)},$e.useLayoutEffect=function(k,$){return P.current.useLayoutEffect(k,$)},$e.useMemo=function(k,$){return P.current.useMemo(k,$)},$e.useReducer=function(k,$,te){return P.current.useReducer(k,$,te)},$e.useRef=function(k){return P.current.useRef(k)},$e.useState=function(k){return P.current.useState(k)},$e.useSyncExternalStore=function(k,$,te){return P.current.useSyncExternalStore(k,$,te)},$e.useTransition=function(){return P.current.useTransition()},$e.version="18.3.1",$e}var c0;function un(){return c0||(c0=1,Mp.exports=XP()),Mp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function JP(){if(d0)return Dl;d0=1;var t=un(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var m,y={},w=null,I=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(I=h.ref);for(m in h)r.call(h,m)&&!a.hasOwnProperty(m)&&(y[m]=h[m]);if(c&&c.defaultProps)for(m in h=c.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:c,key:w,ref:I,props:y,_owner:s.current}}return Dl.Fragment=n,Dl.jsx=l,Dl.jsxs=l,Dl}var h0;function ZP(){return h0||(h0=1,Lp.exports=JP()),Lp.exports}var M=ZP(),X=un();const Lr=_g(X);var td={},Vp={exports:{}},bn={},jp={exports:{}},Fp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function eC(){return f0||(f0=1,function(t){function e(oe,q){var b=oe.length;oe.push(q);e:for(;0<b;){var k=b-1>>>1,$=oe[k];if(0<s($,q))oe[k]=q,oe[b]=$,b=k;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var q=oe[0],b=oe.pop();if(b!==q){oe[0]=b;e:for(var k=0,$=oe.length,te=$>>>1;k<te;){var re=2*(k+1)-1,le=oe[re],ae=re+1,ce=oe[ae];if(0>s(le,b))ae<$&&0>s(ce,le)?(oe[k]=ce,oe[ae]=b,k=ae):(oe[k]=le,oe[re]=b,k=re);else if(ae<$&&0>s(ce,b))oe[k]=ce,oe[ae]=b,k=ae;else break e}}return q}function s(oe,q){var b=oe.sortIndex-q.sortIndex;return b!==0?b:oe.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],p=[],m=1,y=null,w=3,I=!1,R=!1,N=!1,V=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(oe){for(var q=n(p);q!==null;){if(q.callback===null)r(p);else if(q.startTime<=oe)r(p),q.sortIndex=q.expirationTime,e(h,q);else break;q=n(p)}}function K(oe){if(N=!1,H(oe),!R)if(n(h)!==null)R=!0,se(F);else{var q=n(p);q!==null&&P(K,q.startTime-oe)}}function F(oe,q){R=!1,N&&(N=!1,B(A),A=-1),I=!0;var b=w;try{for(H(q),y=n(h);y!==null&&(!(y.expirationTime>q)||oe&&!L());){var k=y.callback;if(typeof k=="function"){y.callback=null,w=y.priorityLevel;var $=k(y.expirationTime<=q);q=t.unstable_now(),typeof $=="function"?y.callback=$:y===n(h)&&r(h),H(q)}else r(h);y=n(h)}if(y!==null)var te=!0;else{var re=n(p);re!==null&&P(K,re.startTime-q),te=!1}return te}finally{y=null,w=b,I=!1}}var U=!1,x=null,A=-1,T=5,E=-1;function L(){return!(t.unstable_now()-E<T)}function O(){if(x!==null){var oe=t.unstable_now();E=oe;var q=!0;try{q=x(!0,oe)}finally{q?C():(U=!1,x=null)}}else U=!1}var C;if(typeof z=="function")C=function(){z(O)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ue=G.port2;G.port1.onmessage=O,C=function(){ue.postMessage(null)}}else C=function(){V(O,0)};function se(oe){x=oe,U||(U=!0,C())}function P(oe,q){A=V(function(){oe(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){R||I||(R=!0,se(F))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(oe){switch(w){case 1:case 2:case 3:var q=3;break;default:q=w}var b=w;w=q;try{return oe()}finally{w=b}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,q){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var b=w;w=oe;try{return q()}finally{w=b}},t.unstable_scheduleCallback=function(oe,q,b){var k=t.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?k+b:k):b=k,oe){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=b+$,oe={id:m++,callback:q,priorityLevel:oe,startTime:b,expirationTime:$,sortIndex:-1},b>k?(oe.sortIndex=b,e(p,oe),n(h)===null&&oe===n(p)&&(N?(B(A),A=-1):N=!0,P(K,b-k))):(oe.sortIndex=$,e(h,oe),R||I||(R=!0,se(F))),oe},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(oe){var q=w;return function(){var b=w;w=q;try{return oe.apply(this,arguments)}finally{w=b}}}}(Fp)),Fp}var p0;function tC(){return p0||(p0=1,jp.exports=eC()),jp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function nC(){if(m0)return bn;m0=1;var t=un(),e=tC();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function w(i){return h.call(y,i)?!0:h.call(m,i)?!1:p.test(i)?y[i]=!0:(m[i]=!0,!1)}function I(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,o,u,f){if(o===null||typeof o>"u"||I(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(i,o,u,f,g,_,D){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=_,this.removeEmptyString=D}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){V[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];V[o]=new N(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){V[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){V[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){V[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){V[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){V[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){V[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){V[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(B,z);V[o]=new N(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(B,z);V[o]=new N(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(B,z);V[o]=new N(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){V[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),V.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){V[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function H(i,o,u,f){var g=V.hasOwnProperty(o)?V[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(R(o,u,g,f)&&(u=null),f||g===null?w(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,f=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var K=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),U=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),L=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),oe=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=oe&&i[oe]||i["@@iterator"],typeof i=="function"?i:null)}var b=Object.assign,k;function $(i){if(k===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);k=o&&o[1]||""}return`
`+k+i}var te=!1;function re(i,o){if(!i||te)return"";te=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(ne){var f=ne}Reflect.construct(i,[],o)}else{try{o.call()}catch(ne){f=ne}i.call(o.prototype)}else{try{throw Error()}catch(ne){f=ne}i()}}catch(ne){if(ne&&f&&typeof ne.stack=="string"){for(var g=ne.stack.split(`
`),_=f.stack.split(`
`),D=g.length-1,W=_.length-1;1<=D&&0<=W&&g[D]!==_[W];)W--;for(;1<=D&&0<=W;D--,W--)if(g[D]!==_[W]){if(D!==1||W!==1)do if(D--,W--,0>W||g[D]!==_[W]){var Q=`
`+g[D].replace(" at new "," at ");return i.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",i.displayName)),Q}while(1<=D&&0<=W);break}}}finally{te=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?$(i):""}function le(i){switch(i.tag){case 5:return $(i.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return i=re(i.type,!1),i;case 11:return i=re(i.type.render,!1),i;case 1:return i=re(i.type,!0),i;default:return""}}function ae(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case U:return"Portal";case T:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case G:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case E:return(i._context.displayName||"Context")+".Provider";case O:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ue:return o=i.displayName||null,o!==null?o:ae(i.type)||"Memo";case se:o=i._payload,i=i._init;try{return ae(i(o))}catch{}}return null}function ce(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ge(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function _e(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Se(i){var o=_e(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(D){f=""+D,_.call(this,D)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(D){f=""+D},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ae(i){i._valueTracker||(i._valueTracker=Se(i))}function ze(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=_e(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function Be(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function je(i,o){var u=o.checked;return b({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function We(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=ge(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ot(i,o){o=o.checked,o!=null&&H(i,"checked",o,!1)}function Ue(i,o){ot(i,o);var u=ge(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?lt(i,o.type,u):o.hasOwnProperty("defaultValue")&&lt(i,o.type,ge(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function at(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function lt(i,o,u){(o!=="number"||Be(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var nt=Array.isArray;function yt(i,o,u,f){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&f&&(i[u].defaultSelected=!0)}else{for(u=""+ge(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function Rn(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return b({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function er(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(nt(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:ge(u)}}function Wr(i,o){var u=ge(o.value),f=ge(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function tr(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function xt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?xt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var cn,$a=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,g)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(cn=cn||document.createElement("div"),cn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=cn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function _i(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bs=["Webkit","ms","Moz","O"];Object.keys(Ss).forEach(function(i){bs.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Ss[o]=Ss[i]})});function Wa(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Ss.hasOwnProperty(i)&&Ss[i]?(""+o).trim():o+"px"}function qa(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=Wa(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,g):i[u]=g}}var Ka=b({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ga(i,o){if(o){if(Ka[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Qa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Is=null;function wo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Eo=null,Un=null,Tr=null;function To(i){if(i=_l(i)){if(typeof Eo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=gc(o),Eo(i.stateNode,i.type,o))}}function Sr(i){Un?Tr?Tr.push(i):Tr=[i]:Un=i}function Ya(){if(Un){var i=Un,o=Tr;if(Tr=Un=null,To(i),o)for(i=0;i<o.length;i++)To(o[i])}}function xs(i,o){return i(o)}function Xa(){}var qr=!1;function Ja(i,o,u){if(qr)return i(o,u);qr=!0;try{return xs(i,o,u)}finally{qr=!1,(Un!==null||Tr!==null)&&(Xa(),Ya())}}function Pt(i,o){var u=i.stateNode;if(u===null)return null;var f=gc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var So=!1;if(c)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){So=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{So=!1}function Ps(i,o,u,f,g,_,D,W,Q){var ne=Array.prototype.slice.call(arguments,3);try{o.apply(u,ne)}catch(pe){this.onError(pe)}}var Cs=!1,bo=null,rr=!1,Za=null,uf={onError:function(i){Cs=!0,bo=i}};function Io(i,o,u,f,g,_,D,W,Q){Cs=!1,bo=null,Ps.apply(uf,arguments)}function Bu(i,o,u,f,g,_,D,W,Q){if(Io.apply(this,arguments),Cs){if(Cs){var ne=bo;Cs=!1,bo=null}else throw Error(n(198));rr||(rr=!0,Za=ne)}}function ir(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Rs(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function sr(i){if(ir(i)!==i)throw Error(n(188))}function zu(i){var o=i.alternate;if(!o){if(o=ir(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,f=o;;){var g=u.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===u)return sr(g),i;if(_===f)return sr(g),o;_=_.sibling}throw Error(n(188))}if(u.return!==f.return)u=g,f=_;else{for(var D=!1,W=g.child;W;){if(W===u){D=!0,u=g,f=_;break}if(W===f){D=!0,f=g,u=_;break}W=W.sibling}if(!D){for(W=_.child;W;){if(W===u){D=!0,u=_,f=g;break}if(W===f){D=!0,f=_,u=g;break}W=W.sibling}if(!D)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function el(i){return i=zu(i),i!==null?xo(i):null}function xo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=xo(i);if(o!==null)return o;i=i.sibling}return null}var Po=e.unstable_scheduleCallback,tl=e.unstable_cancelCallback,Hu=e.unstable_shouldYield,cf=e.unstable_requestPaint,it=e.unstable_now,$u=e.unstable_getCurrentPriorityLevel,As=e.unstable_ImmediatePriority,wi=e.unstable_UserBlockingPriority,Bn=e.unstable_NormalPriority,nl=e.unstable_LowPriority,Wu=e.unstable_IdlePriority,ks=null,An=null;function qu(i){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(ks,i,void 0,(i.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:Gu,rl=Math.log,Ku=Math.LN2;function Gu(i){return i>>>=0,i===0?32:31-(rl(i)/Ku|0)|0}var Co=64,Ro=4194304;function Ei(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Os(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,_=i.pingedLanes,D=u&268435455;if(D!==0){var W=D&~g;W!==0?f=Ei(W):(_&=D,_!==0&&(f=Ei(_)))}else D=u&~g,D!==0?f=Ei(D):_!==0&&(f=Ei(_));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,_=o&-o,g>=_||g===16&&(_&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-dn(o),g=1<<u,f|=i[u],o&=~g;return f}function df(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kr(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes;0<_;){var D=31-dn(_),W=1<<D,Q=g[D];Q===-1?((W&u)===0||(W&f)!==0)&&(g[D]=df(W,o)):Q<=o&&(i.expiredLanes|=W),_&=~W}}function kn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ns(){var i=Co;return Co<<=1,(Co&4194240)===0&&(Co=64),i}function Ti(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Si(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-dn(o),i[o]=u}function rt(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-dn(u),_=1<<g;o[g]=0,f[g]=-1,i[g]=-1,u&=~_}}function bi(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-dn(u),g=1<<f;g&o|i[f]&o&&(i[f]|=o),u&=~g}}var Ge=0;function Ii(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Qu,Ao,Yu,Xu,Ju,il=!1,br=[],qt=null,or=null,ar=null,xi=new Map,zn=new Map,Ir=[],hf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zu(i,o){switch(i){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":xi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(o.pointerId)}}function yn(i,o,u,f,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},o!==null&&(o=_l(o),o!==null&&Ao(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function ff(i,o,u,f,g){switch(o){case"focusin":return qt=yn(qt,i,o,u,f,g),!0;case"dragenter":return or=yn(or,i,o,u,f,g),!0;case"mouseover":return ar=yn(ar,i,o,u,f,g),!0;case"pointerover":var _=g.pointerId;return xi.set(_,yn(xi.get(_)||null,i,o,u,f,g)),!0;case"gotpointercapture":return _=g.pointerId,zn.set(_,yn(zn.get(_)||null,i,o,u,f,g)),!0}return!1}function ec(i){var o=js(i.target);if(o!==null){var u=ir(o);if(u!==null){if(o=u.tag,o===13){if(o=Rs(u),o!==null){i.blockedOn=o,Ju(i.priority,function(){Yu(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=ko(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Is=f,u.target.dispatchEvent(f),Is=null}else return o=_l(u),o!==null&&Ao(o),i.blockedOn=u,!1;o.shift()}return!0}function Ds(i,o,u){Gr(i)&&u.delete(o)}function tc(){il=!1,qt!==null&&Gr(qt)&&(qt=null),or!==null&&Gr(or)&&(or=null),ar!==null&&Gr(ar)&&(ar=null),xi.forEach(Ds),zn.forEach(Ds)}function lr(i,o){i.blockedOn===o&&(i.blockedOn=null,il||(il=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tc)))}function ur(i){function o(g){return lr(g,i)}if(0<br.length){lr(br[0],i);for(var u=1;u<br.length;u++){var f=br[u];f.blockedOn===i&&(f.blockedOn=null)}}for(qt!==null&&lr(qt,i),or!==null&&lr(or,i),ar!==null&&lr(ar,i),xi.forEach(o),zn.forEach(o),u=0;u<Ir.length;u++)f=Ir[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<Ir.length&&(u=Ir[0],u.blockedOn===null);)ec(u),u.blockedOn===null&&Ir.shift()}var Qr=K.ReactCurrentBatchConfig,Pi=!0;function ft(i,o,u,f){var g=Ge,_=Qr.transition;Qr.transition=null;try{Ge=1,sl(i,o,u,f)}finally{Ge=g,Qr.transition=_}}function pf(i,o,u,f){var g=Ge,_=Qr.transition;Qr.transition=null;try{Ge=4,sl(i,o,u,f)}finally{Ge=g,Qr.transition=_}}function sl(i,o,u,f){if(Pi){var g=ko(i,o,u,f);if(g===null)If(i,o,f,Ls,u),Zu(i,f);else if(ff(g,i,o,u,f))f.stopPropagation();else if(Zu(i,f),o&4&&-1<hf.indexOf(i)){for(;g!==null;){var _=_l(g);if(_!==null&&Qu(_),_=ko(i,o,u,f),_===null&&If(i,o,f,Ls,u),_===g)break;g=_}g!==null&&f.stopPropagation()}else If(i,o,f,null,u)}}var Ls=null;function ko(i,o,u,f){if(Ls=null,i=wo(f),i=js(i),i!==null)if(o=ir(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Rs(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Ls=i,null}function ol(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($u()){case As:return 1;case wi:return 4;case Bn:case nl:return 16;case Wu:return 536870912;default:return 16}default:return 16}}var On=null,Oo=null,vn=null;function al(){if(vn)return vn;var i,o=Oo,u=o.length,f,g="value"in On?On.value:On.textContent,_=g.length;for(i=0;i<u&&o[i]===g[i];i++);var D=u-i;for(f=1;f<=D&&o[u-f]===g[_-f];f++);return vn=g.slice(i,1<f?1-f:void 0)}function No(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function xr(){return!0}function ll(){return!1}function Kt(i){function o(u,f,g,_,D){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=D,this.currentTarget=null;for(var W in i)i.hasOwnProperty(W)&&(u=i[W],this[W]=u?u(_):_[W]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?xr:ll,this.isPropagationStopped=ll,this}return b(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),o}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=Kt(cr),Pr=b({},cr,{view:0,detail:0}),mf=Kt(Pr),Lo,Yr,Ci,Ms=b({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ci&&(Ci&&i.type==="mousemove"?(Lo=i.screenX-Ci.screenX,Yr=i.screenY-Ci.screenY):Yr=Lo=0,Ci=i),Lo)},movementY:function(i){return"movementY"in i?i.movementY:Yr}}),Mo=Kt(Ms),ul=b({},Ms,{dataTransfer:0}),nc=Kt(ul),Vo=b({},Pr,{relatedTarget:0}),jo=Kt(Vo),rc=b({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xr=Kt(rc),ic=b({},cr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),sc=Kt(ic),oc=b({},cr,{data:0}),cl=Kt(oc),Fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=ac[i])?!!o[i]:!1}function Cr(){return lc}var d=b({},Pr,{key:function(i){if(i.key){var o=Fo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=No(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(i){return i.type==="keypress"?No(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?No(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),v=Kt(d),S=b({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j=Kt(S),J=b({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),ie=Kt(J),ve=b({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=Kt(ve),Mt=b({},Ms,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=Kt(Mt),Bt=[9,13,27,32],kt=c&&"CompositionEvent"in window,Hn=null;c&&"documentMode"in document&&(Hn=document.documentMode);var Nn=c&&"TextEvent"in window&&!Hn,Vs=c&&(!kt||Hn&&8<Hn&&11>=Hn),Uo=" ",rv=!1;function iv(i,o){switch(i){case"keyup":return Bt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bo=!1;function Kx(i,o){switch(i){case"compositionend":return sv(o);case"keypress":return o.which!==32?null:(rv=!0,Uo);case"textInput":return i=o.data,i===Uo&&rv?null:i;default:return null}}function Gx(i,o){if(Bo)return i==="compositionend"||!kt&&iv(i,o)?(i=al(),vn=Oo=On=null,Bo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Vs&&o.locale!=="ko"?null:o.data;default:return null}}var Qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ov(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Qx[i.type]:o==="textarea"}function av(i,o,u,f){Sr(f),o=fc(o,"onChange"),0<o.length&&(u=new Do("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var dl=null,hl=null;function Yx(i){Iv(i,0)}function uc(i){var o=qo(i);if(ze(o))return i}function Xx(i,o){if(i==="change")return o}var lv=!1;if(c){var gf;if(c){var yf="oninput"in document;if(!yf){var uv=document.createElement("div");uv.setAttribute("oninput","return;"),yf=typeof uv.oninput=="function"}gf=yf}else gf=!1;lv=gf&&(!document.documentMode||9<document.documentMode)}function cv(){dl&&(dl.detachEvent("onpropertychange",dv),hl=dl=null)}function dv(i){if(i.propertyName==="value"&&uc(hl)){var o=[];av(o,hl,i,wo(i)),Ja(Yx,o)}}function Jx(i,o,u){i==="focusin"?(cv(),dl=o,hl=u,dl.attachEvent("onpropertychange",dv)):i==="focusout"&&cv()}function Zx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return uc(hl)}function eP(i,o){if(i==="click")return uc(o)}function tP(i,o){if(i==="input"||i==="change")return uc(o)}function nP(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var dr=typeof Object.is=="function"?Object.is:nP;function fl(i,o){if(dr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!h.call(o,g)||!dr(i[g],o[g]))return!1}return!0}function hv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function fv(i,o){var u=hv(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=hv(u)}}function pv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?pv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function mv(){for(var i=window,o=Be();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Be(i.document)}return o}function vf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function rP(i){var o=mv(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&pv(u.ownerDocument.documentElement,u)){if(f!==null&&vf(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,_=Math.min(f.start,g);f=f.end===void 0?_:Math.min(f.end,g),!i.extend&&_>f&&(g=f,f=_,_=g),g=fv(u,_);var D=fv(u,f);g&&D&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==D.node||i.focusOffset!==D.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),_>f?(i.addRange(o),i.extend(D.node,D.offset)):(o.setEnd(D.node,D.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var iP=c&&"documentMode"in document&&11>=document.documentMode,zo=null,_f=null,pl=null,wf=!1;function gv(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;wf||zo==null||zo!==Be(f)||(f=zo,"selectionStart"in f&&vf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),pl&&fl(pl,f)||(pl=f,f=fc(_f,"onSelect"),0<f.length&&(o=new Do("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=zo)))}function cc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Ho={animationend:cc("Animation","AnimationEnd"),animationiteration:cc("Animation","AnimationIteration"),animationstart:cc("Animation","AnimationStart"),transitionend:cc("Transition","TransitionEnd")},Ef={},yv={};c&&(yv=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function dc(i){if(Ef[i])return Ef[i];if(!Ho[i])return i;var o=Ho[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in yv)return Ef[i]=o[u];return i}var vv=dc("animationend"),_v=dc("animationiteration"),wv=dc("animationstart"),Ev=dc("transitionend"),Tv=new Map,Sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(i,o){Tv.set(i,o),a(o,[i])}for(var Tf=0;Tf<Sv.length;Tf++){var Sf=Sv[Tf],sP=Sf.toLowerCase(),oP=Sf[0].toUpperCase()+Sf.slice(1);Ri(sP,"on"+oP)}Ri(vv,"onAnimationEnd"),Ri(_v,"onAnimationIteration"),Ri(wv,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Ev,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function bv(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,Bu(f,o,void 0,i),i.currentTarget=null}function Iv(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],g=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var D=f.length-1;0<=D;D--){var W=f[D],Q=W.instance,ne=W.currentTarget;if(W=W.listener,Q!==_&&g.isPropagationStopped())break e;bv(g,W,ne),_=Q}else for(D=0;D<f.length;D++){if(W=f[D],Q=W.instance,ne=W.currentTarget,W=W.listener,Q!==_&&g.isPropagationStopped())break e;bv(g,W,ne),_=Q}}}if(rr)throw i=Za,rr=!1,Za=null,i}function ut(i,o){var u=o[kf];u===void 0&&(u=o[kf]=new Set);var f=i+"__bubble";u.has(f)||(xv(o,i,2,!1),u.add(f))}function bf(i,o,u){var f=0;o&&(f|=4),xv(u,i,f,o)}var hc="_reactListening"+Math.random().toString(36).slice(2);function gl(i){if(!i[hc]){i[hc]=!0,r.forEach(function(u){u!=="selectionchange"&&(aP.has(u)||bf(u,!1,i),bf(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[hc]||(o[hc]=!0,bf("selectionchange",!1,o))}}function xv(i,o,u,f){switch(ol(o)){case 1:var g=ft;break;case 4:g=pf;break;default:g=sl}u=g.bind(null,o,u,i),g=void 0,!So||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function If(i,o,u,f,g){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var D=f.tag;if(D===3||D===4){var W=f.stateNode.containerInfo;if(W===g||W.nodeType===8&&W.parentNode===g)break;if(D===4)for(D=f.return;D!==null;){var Q=D.tag;if((Q===3||Q===4)&&(Q=D.stateNode.containerInfo,Q===g||Q.nodeType===8&&Q.parentNode===g))return;D=D.return}for(;W!==null;){if(D=js(W),D===null)return;if(Q=D.tag,Q===5||Q===6){f=_=D;continue e}W=W.parentNode}}f=f.return}Ja(function(){var ne=_,pe=wo(u),me=[];e:{var fe=Tv.get(i);if(fe!==void 0){var Ee=Do,xe=i;switch(i){case"keypress":if(No(u)===0)break e;case"keydown":case"keyup":Ee=v;break;case"focusin":xe="focus",Ee=jo;break;case"focusout":xe="blur",Ee=jo;break;case"beforeblur":case"afterblur":Ee=jo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=ie;break;case vv:case _v:case wv:Ee=Xr;break;case Ev:Ee=et;break;case"scroll":Ee=mf;break;case"wheel":Ee=Qe;break;case"copy":case"cut":case"paste":Ee=sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=j}var Pe=(o&4)!==0,Ct=!Pe&&i==="scroll",Z=Pe?fe!==null?fe+"Capture":null:fe;Pe=[];for(var Y=ne,ee;Y!==null;){ee=Y;var ye=ee.stateNode;if(ee.tag===5&&ye!==null&&(ee=ye,Z!==null&&(ye=Pt(Y,Z),ye!=null&&Pe.push(yl(Y,ye,ee)))),Ct)break;Y=Y.return}0<Pe.length&&(fe=new Ee(fe,xe,null,u,pe),me.push({event:fe,listeners:Pe}))}}if((o&7)===0){e:{if(fe=i==="mouseover"||i==="pointerover",Ee=i==="mouseout"||i==="pointerout",fe&&u!==Is&&(xe=u.relatedTarget||u.fromElement)&&(js(xe)||xe[Jr]))break e;if((Ee||fe)&&(fe=pe.window===pe?pe:(fe=pe.ownerDocument)?fe.defaultView||fe.parentWindow:window,Ee?(xe=u.relatedTarget||u.toElement,Ee=ne,xe=xe?js(xe):null,xe!==null&&(Ct=ir(xe),xe!==Ct||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(Ee=null,xe=ne),Ee!==xe)){if(Pe=Mo,ye="onMouseLeave",Z="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=j,ye="onPointerLeave",Z="onPointerEnter",Y="pointer"),Ct=Ee==null?fe:qo(Ee),ee=xe==null?fe:qo(xe),fe=new Pe(ye,Y+"leave",Ee,u,pe),fe.target=Ct,fe.relatedTarget=ee,ye=null,js(pe)===ne&&(Pe=new Pe(Z,Y+"enter",xe,u,pe),Pe.target=ee,Pe.relatedTarget=Ct,ye=Pe),Ct=ye,Ee&&xe)t:{for(Pe=Ee,Z=xe,Y=0,ee=Pe;ee;ee=$o(ee))Y++;for(ee=0,ye=Z;ye;ye=$o(ye))ee++;for(;0<Y-ee;)Pe=$o(Pe),Y--;for(;0<ee-Y;)Z=$o(Z),ee--;for(;Y--;){if(Pe===Z||Z!==null&&Pe===Z.alternate)break t;Pe=$o(Pe),Z=$o(Z)}Pe=null}else Pe=null;Ee!==null&&Pv(me,fe,Ee,Pe,!1),xe!==null&&Ct!==null&&Pv(me,Ct,xe,Pe,!0)}}e:{if(fe=ne?qo(ne):window,Ee=fe.nodeName&&fe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&fe.type==="file")var Ce=Xx;else if(ov(fe))if(lv)Ce=tP;else{Ce=Zx;var ke=Jx}else(Ee=fe.nodeName)&&Ee.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Ce=eP);if(Ce&&(Ce=Ce(i,ne))){av(me,Ce,u,pe);break e}ke&&ke(i,fe,ne),i==="focusout"&&(ke=fe._wrapperState)&&ke.controlled&&fe.type==="number"&&lt(fe,"number",fe.value)}switch(ke=ne?qo(ne):window,i){case"focusin":(ov(ke)||ke.contentEditable==="true")&&(zo=ke,_f=ne,pl=null);break;case"focusout":pl=_f=zo=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,gv(me,u,pe);break;case"selectionchange":if(iP)break;case"keydown":case"keyup":gv(me,u,pe)}var Oe;if(kt)e:{switch(i){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Bo?iv(i,u)&&(Me="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Me="onCompositionStart");Me&&(Vs&&u.locale!=="ko"&&(Bo||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Bo&&(Oe=al()):(On=pe,Oo="value"in On?On.value:On.textContent,Bo=!0)),ke=fc(ne,Me),0<ke.length&&(Me=new cl(Me,i,null,u,pe),me.push({event:Me,listeners:ke}),Oe?Me.data=Oe:(Oe=sv(u),Oe!==null&&(Me.data=Oe)))),(Oe=Nn?Kx(i,u):Gx(i,u))&&(ne=fc(ne,"onBeforeInput"),0<ne.length&&(pe=new cl("onBeforeInput","beforeinput",null,u,pe),me.push({event:pe,listeners:ne}),pe.data=Oe))}Iv(me,o)})}function yl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function fc(i,o){for(var u=o+"Capture",f=[];i!==null;){var g=i,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=Pt(i,u),_!=null&&f.unshift(yl(i,_,g)),_=Pt(i,o),_!=null&&f.push(yl(i,_,g))),i=i.return}return f}function $o(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Pv(i,o,u,f,g){for(var _=o._reactName,D=[];u!==null&&u!==f;){var W=u,Q=W.alternate,ne=W.stateNode;if(Q!==null&&Q===f)break;W.tag===5&&ne!==null&&(W=ne,g?(Q=Pt(u,_),Q!=null&&D.unshift(yl(u,Q,W))):g||(Q=Pt(u,_),Q!=null&&D.push(yl(u,Q,W)))),u=u.return}D.length!==0&&i.push({event:o,listeners:D})}var lP=/\r\n?/g,uP=/\u0000|\uFFFD/g;function Cv(i){return(typeof i=="string"?i:""+i).replace(lP,`
`).replace(uP,"")}function pc(i,o,u){if(o=Cv(o),Cv(i)!==o&&u)throw Error(n(425))}function mc(){}var xf=null,Pf=null;function Cf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Rf=typeof setTimeout=="function"?setTimeout:void 0,cP=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,dP=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(i){return Rv.resolve(null).then(i).catch(hP)}:Rf;function hP(i){setTimeout(function(){throw i})}function Af(i,o){var u=o,f=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){i.removeChild(g),ur(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);ur(o)}function Ai(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Av(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Wo,vl="__reactProps$"+Wo,Jr="__reactContainer$"+Wo,kf="__reactEvents$"+Wo,fP="__reactListeners$"+Wo,pP="__reactHandles$"+Wo;function js(i){var o=i[Rr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Jr]||u[Rr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Av(i);i!==null;){if(u=i[Rr])return u;i=Av(i)}return o}i=u,u=i.parentNode}return null}function _l(i){return i=i[Rr]||i[Jr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function qo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function gc(i){return i[vl]||null}var Of=[],Ko=-1;function ki(i){return{current:i}}function ct(i){0>Ko||(i.current=Of[Ko],Of[Ko]=null,Ko--)}function st(i,o){Ko++,Of[Ko]=i.current,i.current=o}var Oi={},Zt=ki(Oi),_n=ki(!1),Fs=Oi;function Go(i,o){var u=i.type.contextTypes;if(!u)return Oi;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in u)g[_]=o[_];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function wn(i){return i=i.childContextTypes,i!=null}function yc(){ct(_n),ct(Zt)}function kv(i,o,u){if(Zt.current!==Oi)throw Error(n(168));st(Zt,o),st(_n,u)}function Ov(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(n(108,ce(i)||"Unknown",g));return b({},u,f)}function vc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Oi,Fs=Zt.current,st(Zt,i),st(_n,_n.current),!0}function Nv(i,o,u){var f=i.stateNode;if(!f)throw Error(n(169));u?(i=Ov(i,o,Fs),f.__reactInternalMemoizedMergedChildContext=i,ct(_n),ct(Zt),st(Zt,i)):ct(_n),st(_n,u)}var Zr=null,_c=!1,Nf=!1;function Dv(i){Zr===null?Zr=[i]:Zr.push(i)}function mP(i){_c=!0,Dv(i)}function Ni(){if(!Nf&&Zr!==null){Nf=!0;var i=0,o=Ge;try{var u=Zr;for(Ge=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Zr=null,_c=!1}catch(g){throw Zr!==null&&(Zr=Zr.slice(i+1)),Po(As,Ni),g}finally{Ge=o,Nf=!1}}return null}var Qo=[],Yo=0,wc=null,Ec=0,$n=[],Wn=0,Us=null,ei=1,ti="";function Bs(i,o){Qo[Yo++]=Ec,Qo[Yo++]=wc,wc=i,Ec=o}function Lv(i,o,u){$n[Wn++]=ei,$n[Wn++]=ti,$n[Wn++]=Us,Us=i;var f=ei;i=ti;var g=32-dn(f)-1;f&=~(1<<g),u+=1;var _=32-dn(o)+g;if(30<_){var D=g-g%5;_=(f&(1<<D)-1).toString(32),f>>=D,g-=D,ei=1<<32-dn(o)+g|u<<g|f,ti=_+i}else ei=1<<_|u<<g|f,ti=i}function Df(i){i.return!==null&&(Bs(i,1),Lv(i,1,0))}function Lf(i){for(;i===wc;)wc=Qo[--Yo],Qo[Yo]=null,Ec=Qo[--Yo],Qo[Yo]=null;for(;i===Us;)Us=$n[--Wn],$n[Wn]=null,ti=$n[--Wn],$n[Wn]=null,ei=$n[--Wn],$n[Wn]=null}var Dn=null,Ln=null,pt=!1,hr=null;function Mv(i,o){var u=Qn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Vv(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Dn=i,Ln=Ai(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Dn=i,Ln=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Us!==null?{id:ei,overflow:ti}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Qn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Dn=i,Ln=null,!0):!1;default:return!1}}function Mf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Vf(i){if(pt){var o=Ln;if(o){var u=o;if(!Vv(i,o)){if(Mf(i))throw Error(n(418));o=Ai(u.nextSibling);var f=Dn;o&&Vv(i,o)?Mv(f,u):(i.flags=i.flags&-4097|2,pt=!1,Dn=i)}}else{if(Mf(i))throw Error(n(418));i.flags=i.flags&-4097|2,pt=!1,Dn=i}}}function jv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Dn=i}function Tc(i){if(i!==Dn)return!1;if(!pt)return jv(i),pt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Cf(i.type,i.memoizedProps)),o&&(o=Ln)){if(Mf(i))throw Fv(),Error(n(418));for(;o;)Mv(i,o),o=Ai(o.nextSibling)}if(jv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Ln=Ai(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Ln=null}}else Ln=Dn?Ai(i.stateNode.nextSibling):null;return!0}function Fv(){for(var i=Ln;i;)i=Ai(i.nextSibling)}function Xo(){Ln=Dn=null,pt=!1}function jf(i){hr===null?hr=[i]:hr.push(i)}var gP=K.ReactCurrentBatchConfig;function wl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,i));var g=f,_=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(D){var W=g.refs;D===null?delete W[_]:W[_]=D},o._stringRef=_,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Sc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Uv(i){var o=i._init;return o(i._payload)}function Bv(i){function o(Z,Y){if(i){var ee=Z.deletions;ee===null?(Z.deletions=[Y],Z.flags|=16):ee.push(Y)}}function u(Z,Y){if(!i)return null;for(;Y!==null;)o(Z,Y),Y=Y.sibling;return null}function f(Z,Y){for(Z=new Map;Y!==null;)Y.key!==null?Z.set(Y.key,Y):Z.set(Y.index,Y),Y=Y.sibling;return Z}function g(Z,Y){return Z=Bi(Z,Y),Z.index=0,Z.sibling=null,Z}function _(Z,Y,ee){return Z.index=ee,i?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<Y?(Z.flags|=2,Y):ee):(Z.flags|=2,Y)):(Z.flags|=1048576,Y)}function D(Z){return i&&Z.alternate===null&&(Z.flags|=2),Z}function W(Z,Y,ee,ye){return Y===null||Y.tag!==6?(Y=Rp(ee,Z.mode,ye),Y.return=Z,Y):(Y=g(Y,ee),Y.return=Z,Y)}function Q(Z,Y,ee,ye){var Ce=ee.type;return Ce===x?pe(Z,Y,ee.props.children,ye,ee.key):Y!==null&&(Y.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===se&&Uv(Ce)===Y.type)?(ye=g(Y,ee.props),ye.ref=wl(Z,Y,ee),ye.return=Z,ye):(ye=Kc(ee.type,ee.key,ee.props,null,Z.mode,ye),ye.ref=wl(Z,Y,ee),ye.return=Z,ye)}function ne(Z,Y,ee,ye){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?(Y=Ap(ee,Z.mode,ye),Y.return=Z,Y):(Y=g(Y,ee.children||[]),Y.return=Z,Y)}function pe(Z,Y,ee,ye,Ce){return Y===null||Y.tag!==7?(Y=Qs(ee,Z.mode,ye,Ce),Y.return=Z,Y):(Y=g(Y,ee),Y.return=Z,Y)}function me(Z,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=Rp(""+Y,Z.mode,ee),Y.return=Z,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case F:return ee=Kc(Y.type,Y.key,Y.props,null,Z.mode,ee),ee.ref=wl(Z,null,Y),ee.return=Z,ee;case U:return Y=Ap(Y,Z.mode,ee),Y.return=Z,Y;case se:var ye=Y._init;return me(Z,ye(Y._payload),ee)}if(nt(Y)||q(Y))return Y=Qs(Y,Z.mode,ee,null),Y.return=Z,Y;Sc(Z,Y)}return null}function fe(Z,Y,ee,ye){var Ce=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Ce!==null?null:W(Z,Y,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case F:return ee.key===Ce?Q(Z,Y,ee,ye):null;case U:return ee.key===Ce?ne(Z,Y,ee,ye):null;case se:return Ce=ee._init,fe(Z,Y,Ce(ee._payload),ye)}if(nt(ee)||q(ee))return Ce!==null?null:pe(Z,Y,ee,ye,null);Sc(Z,ee)}return null}function Ee(Z,Y,ee,ye,Ce){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return Z=Z.get(ee)||null,W(Y,Z,""+ye,Ce);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case F:return Z=Z.get(ye.key===null?ee:ye.key)||null,Q(Y,Z,ye,Ce);case U:return Z=Z.get(ye.key===null?ee:ye.key)||null,ne(Y,Z,ye,Ce);case se:var ke=ye._init;return Ee(Z,Y,ee,ke(ye._payload),Ce)}if(nt(ye)||q(ye))return Z=Z.get(ee)||null,pe(Y,Z,ye,Ce,null);Sc(Y,ye)}return null}function xe(Z,Y,ee,ye){for(var Ce=null,ke=null,Oe=Y,Me=Y=0,$t=null;Oe!==null&&Me<ee.length;Me++){Oe.index>Me?($t=Oe,Oe=null):$t=Oe.sibling;var Je=fe(Z,Oe,ee[Me],ye);if(Je===null){Oe===null&&(Oe=$t);break}i&&Oe&&Je.alternate===null&&o(Z,Oe),Y=_(Je,Y,Me),ke===null?Ce=Je:ke.sibling=Je,ke=Je,Oe=$t}if(Me===ee.length)return u(Z,Oe),pt&&Bs(Z,Me),Ce;if(Oe===null){for(;Me<ee.length;Me++)Oe=me(Z,ee[Me],ye),Oe!==null&&(Y=_(Oe,Y,Me),ke===null?Ce=Oe:ke.sibling=Oe,ke=Oe);return pt&&Bs(Z,Me),Ce}for(Oe=f(Z,Oe);Me<ee.length;Me++)$t=Ee(Oe,Z,Me,ee[Me],ye),$t!==null&&(i&&$t.alternate!==null&&Oe.delete($t.key===null?Me:$t.key),Y=_($t,Y,Me),ke===null?Ce=$t:ke.sibling=$t,ke=$t);return i&&Oe.forEach(function(zi){return o(Z,zi)}),pt&&Bs(Z,Me),Ce}function Pe(Z,Y,ee,ye){var Ce=q(ee);if(typeof Ce!="function")throw Error(n(150));if(ee=Ce.call(ee),ee==null)throw Error(n(151));for(var ke=Ce=null,Oe=Y,Me=Y=0,$t=null,Je=ee.next();Oe!==null&&!Je.done;Me++,Je=ee.next()){Oe.index>Me?($t=Oe,Oe=null):$t=Oe.sibling;var zi=fe(Z,Oe,Je.value,ye);if(zi===null){Oe===null&&(Oe=$t);break}i&&Oe&&zi.alternate===null&&o(Z,Oe),Y=_(zi,Y,Me),ke===null?Ce=zi:ke.sibling=zi,ke=zi,Oe=$t}if(Je.done)return u(Z,Oe),pt&&Bs(Z,Me),Ce;if(Oe===null){for(;!Je.done;Me++,Je=ee.next())Je=me(Z,Je.value,ye),Je!==null&&(Y=_(Je,Y,Me),ke===null?Ce=Je:ke.sibling=Je,ke=Je);return pt&&Bs(Z,Me),Ce}for(Oe=f(Z,Oe);!Je.done;Me++,Je=ee.next())Je=Ee(Oe,Z,Me,Je.value,ye),Je!==null&&(i&&Je.alternate!==null&&Oe.delete(Je.key===null?Me:Je.key),Y=_(Je,Y,Me),ke===null?Ce=Je:ke.sibling=Je,ke=Je);return i&&Oe.forEach(function(QP){return o(Z,QP)}),pt&&Bs(Z,Me),Ce}function Ct(Z,Y,ee,ye){if(typeof ee=="object"&&ee!==null&&ee.type===x&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case F:e:{for(var Ce=ee.key,ke=Y;ke!==null;){if(ke.key===Ce){if(Ce=ee.type,Ce===x){if(ke.tag===7){u(Z,ke.sibling),Y=g(ke,ee.props.children),Y.return=Z,Z=Y;break e}}else if(ke.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===se&&Uv(Ce)===ke.type){u(Z,ke.sibling),Y=g(ke,ee.props),Y.ref=wl(Z,ke,ee),Y.return=Z,Z=Y;break e}u(Z,ke);break}else o(Z,ke);ke=ke.sibling}ee.type===x?(Y=Qs(ee.props.children,Z.mode,ye,ee.key),Y.return=Z,Z=Y):(ye=Kc(ee.type,ee.key,ee.props,null,Z.mode,ye),ye.ref=wl(Z,Y,ee),ye.return=Z,Z=ye)}return D(Z);case U:e:{for(ke=ee.key;Y!==null;){if(Y.key===ke)if(Y.tag===4&&Y.stateNode.containerInfo===ee.containerInfo&&Y.stateNode.implementation===ee.implementation){u(Z,Y.sibling),Y=g(Y,ee.children||[]),Y.return=Z,Z=Y;break e}else{u(Z,Y);break}else o(Z,Y);Y=Y.sibling}Y=Ap(ee,Z.mode,ye),Y.return=Z,Z=Y}return D(Z);case se:return ke=ee._init,Ct(Z,Y,ke(ee._payload),ye)}if(nt(ee))return xe(Z,Y,ee,ye);if(q(ee))return Pe(Z,Y,ee,ye);Sc(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,Y!==null&&Y.tag===6?(u(Z,Y.sibling),Y=g(Y,ee),Y.return=Z,Z=Y):(u(Z,Y),Y=Rp(ee,Z.mode,ye),Y.return=Z,Z=Y),D(Z)):u(Z,Y)}return Ct}var Jo=Bv(!0),zv=Bv(!1),bc=ki(null),Ic=null,Zo=null,Ff=null;function Uf(){Ff=Zo=Ic=null}function Bf(i){var o=bc.current;ct(bc),i._currentValue=o}function zf(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function ea(i,o){Ic=i,Ff=Zo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(En=!0),i.firstContext=null)}function qn(i){var o=i._currentValue;if(Ff!==i)if(i={context:i,memoizedValue:o,next:null},Zo===null){if(Ic===null)throw Error(n(308));Zo=i,Ic.dependencies={lanes:0,firstContext:i}}else Zo=Zo.next=i;return o}var zs=null;function Hf(i){zs===null?zs=[i]:zs.push(i)}function Hv(i,o,u,f){var g=o.interleaved;return g===null?(u.next=u,Hf(o)):(u.next=g.next,g.next=u),o.interleaved=u,ni(i,f)}function ni(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Di=!1;function $f(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $v(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ri(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Li(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Xe&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,ni(i,u)}return g=f.interleaved,g===null?(o.next=o,Hf(f)):(o.next=g.next,g.next=o),f.interleaved=o,ni(i,u)}function xc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,bi(i,u)}}function Wv(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var D={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?g=_=D:_=_.next=D,u=u.next}while(u!==null);_===null?g=_=o:_=_.next=o}else g=_=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Pc(i,o,u,f){var g=i.updateQueue;Di=!1;var _=g.firstBaseUpdate,D=g.lastBaseUpdate,W=g.shared.pending;if(W!==null){g.shared.pending=null;var Q=W,ne=Q.next;Q.next=null,D===null?_=ne:D.next=ne,D=Q;var pe=i.alternate;pe!==null&&(pe=pe.updateQueue,W=pe.lastBaseUpdate,W!==D&&(W===null?pe.firstBaseUpdate=ne:W.next=ne,pe.lastBaseUpdate=Q))}if(_!==null){var me=g.baseState;D=0,pe=ne=Q=null,W=_;do{var fe=W.lane,Ee=W.eventTime;if((f&fe)===fe){pe!==null&&(pe=pe.next={eventTime:Ee,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var xe=i,Pe=W;switch(fe=o,Ee=u,Pe.tag){case 1:if(xe=Pe.payload,typeof xe=="function"){me=xe.call(Ee,me,fe);break e}me=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Pe.payload,fe=typeof xe=="function"?xe.call(Ee,me,fe):xe,fe==null)break e;me=b({},me,fe);break e;case 2:Di=!0}}W.callback!==null&&W.lane!==0&&(i.flags|=64,fe=g.effects,fe===null?g.effects=[W]:fe.push(W))}else Ee={eventTime:Ee,lane:fe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},pe===null?(ne=pe=Ee,Q=me):pe=pe.next=Ee,D|=fe;if(W=W.next,W===null){if(W=g.shared.pending,W===null)break;fe=W,W=fe.next,fe.next=null,g.lastBaseUpdate=fe,g.shared.pending=null}}while(!0);if(pe===null&&(Q=me),g.baseState=Q,g.firstBaseUpdate=ne,g.lastBaseUpdate=pe,o=g.shared.interleaved,o!==null){g=o;do D|=g.lane,g=g.next;while(g!==o)}else _===null&&(g.shared.lanes=0);Ws|=D,i.lanes=D,i.memoizedState=me}}function qv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var El={},Ar=ki(El),Tl=ki(El),Sl=ki(El);function Hs(i){if(i===El)throw Error(n(174));return i}function Wf(i,o){switch(st(Sl,o),st(Tl,i),st(Ar,El),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:tt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=tt(o,i)}ct(Ar),st(Ar,o)}function ta(){ct(Ar),ct(Tl),ct(Sl)}function Kv(i){Hs(Sl.current);var o=Hs(Ar.current),u=tt(o,i.type);o!==u&&(st(Tl,i),st(Ar,u))}function qf(i){Tl.current===i&&(ct(Ar),ct(Tl))}var vt=ki(0);function Cc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Kf=[];function Gf(){for(var i=0;i<Kf.length;i++)Kf[i]._workInProgressVersionPrimary=null;Kf.length=0}var Rc=K.ReactCurrentDispatcher,Qf=K.ReactCurrentBatchConfig,$s=0,_t=null,Vt=null,zt=null,Ac=!1,bl=!1,Il=0,yP=0;function en(){throw Error(n(321))}function Yf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!dr(i[u],o[u]))return!1;return!0}function Xf(i,o,u,f,g,_){if($s=_,_t=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Rc.current=i===null||i.memoizedState===null?EP:TP,i=u(f,g),bl){_=0;do{if(bl=!1,Il=0,25<=_)throw Error(n(301));_+=1,zt=Vt=null,o.updateQueue=null,Rc.current=SP,i=u(f,g)}while(bl)}if(Rc.current=Nc,o=Vt!==null&&Vt.next!==null,$s=0,zt=Vt=_t=null,Ac=!1,o)throw Error(n(300));return i}function Jf(){var i=Il!==0;return Il=0,i}function kr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?_t.memoizedState=zt=i:zt=zt.next=i,zt}function Kn(){if(Vt===null){var i=_t.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var o=zt===null?_t.memoizedState:zt.next;if(o!==null)zt=o,Vt=i;else{if(i===null)throw Error(n(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},zt===null?_t.memoizedState=zt=i:zt=zt.next=i}return zt}function xl(i,o){return typeof o=="function"?o(i):o}function Zf(i){var o=Kn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=Vt,g=f.baseQueue,_=u.pending;if(_!==null){if(g!==null){var D=g.next;g.next=_.next,_.next=D}f.baseQueue=g=_,u.pending=null}if(g!==null){_=g.next,f=f.baseState;var W=D=null,Q=null,ne=_;do{var pe=ne.lane;if(($s&pe)===pe)Q!==null&&(Q=Q.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),f=ne.hasEagerState?ne.eagerState:i(f,ne.action);else{var me={lane:pe,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};Q===null?(W=Q=me,D=f):Q=Q.next=me,_t.lanes|=pe,Ws|=pe}ne=ne.next}while(ne!==null&&ne!==_);Q===null?D=f:Q.next=W,dr(f,o.memoizedState)||(En=!0),o.memoizedState=f,o.baseState=D,o.baseQueue=Q,u.lastRenderedState=f}if(i=u.interleaved,i!==null){g=i;do _=g.lane,_t.lanes|=_,Ws|=_,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function ep(i){var o=Kn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=u.dispatch,g=u.pending,_=o.memoizedState;if(g!==null){u.pending=null;var D=g=g.next;do _=i(_,D.action),D=D.next;while(D!==g);dr(_,o.memoizedState)||(En=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function Gv(){}function Qv(i,o){var u=_t,f=Kn(),g=o(),_=!dr(f.memoizedState,g);if(_&&(f.memoizedState=g,En=!0),f=f.queue,tp(Jv.bind(null,u,f,i),[i]),f.getSnapshot!==o||_||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,Pl(9,Xv.bind(null,u,f,g,o),void 0,null),Ht===null)throw Error(n(349));($s&30)!==0||Yv(u,o,g)}return g}function Yv(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=_t.updateQueue,o===null?(o={lastEffect:null,stores:null},_t.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Xv(i,o,u,f){o.value=u,o.getSnapshot=f,Zv(o)&&e_(i)}function Jv(i,o,u){return u(function(){Zv(o)&&e_(i)})}function Zv(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!dr(i,u)}catch{return!0}}function e_(i){var o=ni(i,1);o!==null&&gr(o,i,1,-1)}function t_(i){var o=kr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:i},o.queue=i,i=i.dispatch=wP.bind(null,_t,i),[o.memoizedState,i]}function Pl(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=_t.updateQueue,o===null?(o={lastEffect:null,stores:null},_t.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function n_(){return Kn().memoizedState}function kc(i,o,u,f){var g=kr();_t.flags|=i,g.memoizedState=Pl(1|o,u,void 0,f===void 0?null:f)}function Oc(i,o,u,f){var g=Kn();f=f===void 0?null:f;var _=void 0;if(Vt!==null){var D=Vt.memoizedState;if(_=D.destroy,f!==null&&Yf(f,D.deps)){g.memoizedState=Pl(o,u,_,f);return}}_t.flags|=i,g.memoizedState=Pl(1|o,u,_,f)}function r_(i,o){return kc(8390656,8,i,o)}function tp(i,o){return Oc(2048,8,i,o)}function i_(i,o){return Oc(4,2,i,o)}function s_(i,o){return Oc(4,4,i,o)}function o_(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function a_(i,o,u){return u=u!=null?u.concat([i]):null,Oc(4,4,o_.bind(null,o,i),u)}function np(){}function l_(i,o){var u=Kn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Yf(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function u_(i,o){var u=Kn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Yf(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function c_(i,o,u){return($s&21)===0?(i.baseState&&(i.baseState=!1,En=!0),i.memoizedState=u):(dr(u,o)||(u=Ns(),_t.lanes|=u,Ws|=u,i.baseState=!0),o)}function vP(i,o){var u=Ge;Ge=u!==0&&4>u?u:4,i(!0);var f=Qf.transition;Qf.transition={};try{i(!1),o()}finally{Ge=u,Qf.transition=f}}function d_(){return Kn().memoizedState}function _P(i,o,u){var f=Fi(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},h_(i))f_(o,u);else if(u=Hv(i,o,u,f),u!==null){var g=pn();gr(u,i,f,g),p_(u,o,f)}}function wP(i,o,u){var f=Fi(i),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(h_(i))f_(o,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var D=o.lastRenderedState,W=_(D,u);if(g.hasEagerState=!0,g.eagerState=W,dr(W,D)){var Q=o.interleaved;Q===null?(g.next=g,Hf(o)):(g.next=Q.next,Q.next=g),o.interleaved=g;return}}catch{}finally{}u=Hv(i,o,g,f),u!==null&&(g=pn(),gr(u,i,f,g),p_(u,o,f))}}function h_(i){var o=i.alternate;return i===_t||o!==null&&o===_t}function f_(i,o){bl=Ac=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function p_(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,bi(i,u)}}var Nc={readContext:qn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},EP={readContext:qn,useCallback:function(i,o){return kr().memoizedState=[i,o===void 0?null:o],i},useContext:qn,useEffect:r_,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,kc(4194308,4,o_.bind(null,o,i),u)},useLayoutEffect:function(i,o){return kc(4194308,4,i,o)},useInsertionEffect:function(i,o){return kc(4,2,i,o)},useMemo:function(i,o){var u=kr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=kr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=_P.bind(null,_t,i),[f.memoizedState,i]},useRef:function(i){var o=kr();return i={current:i},o.memoizedState=i},useState:t_,useDebugValue:np,useDeferredValue:function(i){return kr().memoizedState=i},useTransition:function(){var i=t_(!1),o=i[0];return i=vP.bind(null,i[1]),kr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=_t,g=kr();if(pt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Ht===null)throw Error(n(349));($s&30)!==0||Yv(f,o,u)}g.memoizedState=u;var _={value:u,getSnapshot:o};return g.queue=_,r_(Jv.bind(null,f,_,i),[i]),f.flags|=2048,Pl(9,Xv.bind(null,f,_,u,o),void 0,null),u},useId:function(){var i=kr(),o=Ht.identifierPrefix;if(pt){var u=ti,f=ei;u=(f&~(1<<32-dn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Il++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=yP++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},TP={readContext:qn,useCallback:l_,useContext:qn,useEffect:tp,useImperativeHandle:a_,useInsertionEffect:i_,useLayoutEffect:s_,useMemo:u_,useReducer:Zf,useRef:n_,useState:function(){return Zf(xl)},useDebugValue:np,useDeferredValue:function(i){var o=Kn();return c_(o,Vt.memoizedState,i)},useTransition:function(){var i=Zf(xl)[0],o=Kn().memoizedState;return[i,o]},useMutableSource:Gv,useSyncExternalStore:Qv,useId:d_,unstable_isNewReconciler:!1},SP={readContext:qn,useCallback:l_,useContext:qn,useEffect:tp,useImperativeHandle:a_,useInsertionEffect:i_,useLayoutEffect:s_,useMemo:u_,useReducer:ep,useRef:n_,useState:function(){return ep(xl)},useDebugValue:np,useDeferredValue:function(i){var o=Kn();return Vt===null?o.memoizedState=i:c_(o,Vt.memoizedState,i)},useTransition:function(){var i=ep(xl)[0],o=Kn().memoizedState;return[i,o]},useMutableSource:Gv,useSyncExternalStore:Qv,useId:d_,unstable_isNewReconciler:!1};function fr(i,o){if(i&&i.defaultProps){o=b({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function rp(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:b({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Dc={isMounted:function(i){return(i=i._reactInternals)?ir(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=pn(),g=Fi(i),_=ri(f,g);_.payload=o,u!=null&&(_.callback=u),o=Li(i,_,g),o!==null&&(gr(o,i,g,f),xc(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=pn(),g=Fi(i),_=ri(f,g);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=Li(i,_,g),o!==null&&(gr(o,i,g,f),xc(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=pn(),f=Fi(i),g=ri(u,f);g.tag=2,o!=null&&(g.callback=o),o=Li(i,g,f),o!==null&&(gr(o,i,f,u),xc(o,i,f))}};function m_(i,o,u,f,g,_,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,_,D):o.prototype&&o.prototype.isPureReactComponent?!fl(u,f)||!fl(g,_):!0}function g_(i,o,u){var f=!1,g=Oi,_=o.contextType;return typeof _=="object"&&_!==null?_=qn(_):(g=wn(o)?Fs:Zt.current,f=o.contextTypes,_=(f=f!=null)?Go(i,g):Oi),o=new o(u,_),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Dc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=_),o}function y_(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Dc.enqueueReplaceState(o,o.state,null)}function ip(i,o,u,f){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},$f(i);var _=o.contextType;typeof _=="object"&&_!==null?g.context=qn(_):(_=wn(o)?Fs:Zt.current,g.context=Go(i,_)),g.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(rp(i,o,_,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Dc.enqueueReplaceState(g,g.state,null),Pc(i,u,g,f),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function na(i,o){try{var u="",f=o;do u+=le(f),f=f.return;while(f);var g=u}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:o,stack:g,digest:null}}function sp(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function op(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var bP=typeof WeakMap=="function"?WeakMap:Map;function v_(i,o,u){u=ri(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Bc||(Bc=!0,Ep=f),op(i,o)},u}function __(i,o,u){u=ri(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;u.payload=function(){return f(g)},u.callback=function(){op(i,o)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){op(i,o),typeof f!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var D=o.stack;this.componentDidCatch(o.value,{componentStack:D!==null?D:""})}),u}function w_(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new bP;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(g.add(u),i=jP.bind(null,i,o,u),o.then(i,i))}function E_(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function T_(i,o,u,f,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ri(-1,1),o.tag=2,Li(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var IP=K.ReactCurrentOwner,En=!1;function fn(i,o,u,f){o.child=i===null?zv(o,null,u,f):Jo(o,i.child,u,f)}function S_(i,o,u,f,g){u=u.render;var _=o.ref;return ea(o,g),f=Xf(i,o,u,f,_,g),u=Jf(),i!==null&&!En?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,ii(i,o,g)):(pt&&u&&Df(o),o.flags|=1,fn(i,o,f,g),o.child)}function b_(i,o,u,f,g){if(i===null){var _=u.type;return typeof _=="function"&&!Cp(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,I_(i,o,_,f,g)):(i=Kc(u.type,null,f,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,(i.lanes&g)===0){var D=_.memoizedProps;if(u=u.compare,u=u!==null?u:fl,u(D,f)&&i.ref===o.ref)return ii(i,o,g)}return o.flags|=1,i=Bi(_,f),i.ref=o.ref,i.return=o,o.child=i}function I_(i,o,u,f,g){if(i!==null){var _=i.memoizedProps;if(fl(_,f)&&i.ref===o.ref)if(En=!1,o.pendingProps=f=_,(i.lanes&g)!==0)(i.flags&131072)!==0&&(En=!0);else return o.lanes=i.lanes,ii(i,o,g)}return ap(i,o,u,f,g)}function x_(i,o,u){var f=o.pendingProps,g=f.children,_=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(ia,Mn),Mn|=u;else{if((u&1073741824)===0)return i=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,st(ia,Mn),Mn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,st(ia,Mn),Mn|=f}else _!==null?(f=_.baseLanes|u,o.memoizedState=null):f=u,st(ia,Mn),Mn|=f;return fn(i,o,g,u),o.child}function P_(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function ap(i,o,u,f,g){var _=wn(u)?Fs:Zt.current;return _=Go(o,_),ea(o,g),u=Xf(i,o,u,f,_,g),f=Jf(),i!==null&&!En?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,ii(i,o,g)):(pt&&f&&Df(o),o.flags|=1,fn(i,o,u,g),o.child)}function C_(i,o,u,f,g){if(wn(u)){var _=!0;vc(o)}else _=!1;if(ea(o,g),o.stateNode===null)Mc(i,o),g_(o,u,f),ip(o,u,f,g),f=!0;else if(i===null){var D=o.stateNode,W=o.memoizedProps;D.props=W;var Q=D.context,ne=u.contextType;typeof ne=="object"&&ne!==null?ne=qn(ne):(ne=wn(u)?Fs:Zt.current,ne=Go(o,ne));var pe=u.getDerivedStateFromProps,me=typeof pe=="function"||typeof D.getSnapshotBeforeUpdate=="function";me||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(W!==f||Q!==ne)&&y_(o,D,f,ne),Di=!1;var fe=o.memoizedState;D.state=fe,Pc(o,f,D,g),Q=o.memoizedState,W!==f||fe!==Q||_n.current||Di?(typeof pe=="function"&&(rp(o,u,pe,f),Q=o.memoizedState),(W=Di||m_(o,u,W,f,fe,Q,ne))?(me||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(o.flags|=4194308)):(typeof D.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=Q),D.props=f,D.state=Q,D.context=ne,f=W):(typeof D.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{D=o.stateNode,$v(i,o),W=o.memoizedProps,ne=o.type===o.elementType?W:fr(o.type,W),D.props=ne,me=o.pendingProps,fe=D.context,Q=u.contextType,typeof Q=="object"&&Q!==null?Q=qn(Q):(Q=wn(u)?Fs:Zt.current,Q=Go(o,Q));var Ee=u.getDerivedStateFromProps;(pe=typeof Ee=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(W!==me||fe!==Q)&&y_(o,D,f,Q),Di=!1,fe=o.memoizedState,D.state=fe,Pc(o,f,D,g);var xe=o.memoizedState;W!==me||fe!==xe||_n.current||Di?(typeof Ee=="function"&&(rp(o,u,Ee,f),xe=o.memoizedState),(ne=Di||m_(o,u,ne,f,fe,xe,Q)||!1)?(pe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(f,xe,Q),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(f,xe,Q)),typeof D.componentDidUpdate=="function"&&(o.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof D.componentDidUpdate!="function"||W===i.memoizedProps&&fe===i.memoizedState||(o.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&fe===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=xe),D.props=f,D.state=xe,D.context=Q,f=ne):(typeof D.componentDidUpdate!="function"||W===i.memoizedProps&&fe===i.memoizedState||(o.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&fe===i.memoizedState||(o.flags|=1024),f=!1)}return lp(i,o,u,f,_,g)}function lp(i,o,u,f,g,_){P_(i,o);var D=(o.flags&128)!==0;if(!f&&!D)return g&&Nv(o,u,!1),ii(i,o,_);f=o.stateNode,IP.current=o;var W=D&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&D?(o.child=Jo(o,i.child,null,_),o.child=Jo(o,null,W,_)):fn(i,o,W,_),o.memoizedState=f.state,g&&Nv(o,u,!0),o.child}function R_(i){var o=i.stateNode;o.pendingContext?kv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&kv(i,o.context,!1),Wf(i,o.containerInfo)}function A_(i,o,u,f,g){return Xo(),jf(g),o.flags|=256,fn(i,o,u,f),o.child}var up={dehydrated:null,treeContext:null,retryLane:0};function cp(i){return{baseLanes:i,cachePool:null,transitions:null}}function k_(i,o,u){var f=o.pendingProps,g=vt.current,_=!1,D=(o.flags&128)!==0,W;if((W=D)||(W=i!==null&&i.memoizedState===null?!1:(g&2)!==0),W?(_=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),st(vt,g&1),i===null)return Vf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(D=f.children,i=f.fallback,_?(f=o.mode,_=o.child,D={mode:"hidden",children:D},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=D):_=Gc(D,f,0,null),i=Qs(i,f,u,null),_.return=o,i.return=o,_.sibling=i,o.child=_,o.child.memoizedState=cp(u),o.memoizedState=up,i):dp(o,D));if(g=i.memoizedState,g!==null&&(W=g.dehydrated,W!==null))return xP(i,o,D,f,W,g,u);if(_){_=f.fallback,D=o.mode,g=i.child,W=g.sibling;var Q={mode:"hidden",children:f.children};return(D&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=Q,o.deletions=null):(f=Bi(g,Q),f.subtreeFlags=g.subtreeFlags&14680064),W!==null?_=Bi(W,_):(_=Qs(_,D,u,null),_.flags|=2),_.return=o,f.return=o,f.sibling=_,o.child=f,f=_,_=o.child,D=i.child.memoizedState,D=D===null?cp(u):{baseLanes:D.baseLanes|u,cachePool:null,transitions:D.transitions},_.memoizedState=D,_.childLanes=i.childLanes&~u,o.memoizedState=up,f}return _=i.child,i=_.sibling,f=Bi(_,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function dp(i,o){return o=Gc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Lc(i,o,u,f){return f!==null&&jf(f),Jo(o,i.child,null,u),i=dp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function xP(i,o,u,f,g,_,D){if(u)return o.flags&256?(o.flags&=-257,f=sp(Error(n(422))),Lc(i,o,D,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(_=f.fallback,g=o.mode,f=Gc({mode:"visible",children:f.children},g,0,null),_=Qs(_,g,D,null),_.flags|=2,f.return=o,_.return=o,f.sibling=_,o.child=f,(o.mode&1)!==0&&Jo(o,i.child,null,D),o.child.memoizedState=cp(D),o.memoizedState=up,_);if((o.mode&1)===0)return Lc(i,o,D,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var W=f.dgst;return f=W,_=Error(n(419)),f=sp(_,f,void 0),Lc(i,o,D,f)}if(W=(D&i.childLanes)!==0,En||W){if(f=Ht,f!==null){switch(D&-D){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|D))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,ni(i,g),gr(f,i,g,-1))}return Pp(),f=sp(Error(n(421))),Lc(i,o,D,f)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=FP.bind(null,i),g._reactRetry=o,null):(i=_.treeContext,Ln=Ai(g.nextSibling),Dn=o,pt=!0,hr=null,i!==null&&($n[Wn++]=ei,$n[Wn++]=ti,$n[Wn++]=Us,ei=i.id,ti=i.overflow,Us=o),o=dp(o,f.children),o.flags|=4096,o)}function O_(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),zf(i.return,o,u)}function hp(i,o,u,f,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=g)}function N_(i,o,u){var f=o.pendingProps,g=f.revealOrder,_=f.tail;if(fn(i,o,f.children,u),f=vt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&O_(i,u,o);else if(i.tag===19)O_(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(st(vt,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&Cc(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),hp(o,!1,g,u,_);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Cc(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}hp(o,!0,u,null,_);break;case"together":hp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Mc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ii(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ws|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Bi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Bi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function PP(i,o,u){switch(o.tag){case 3:R_(o),Xo();break;case 5:Kv(o);break;case 1:wn(o.type)&&vc(o);break;case 4:Wf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;st(bc,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(st(vt,vt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?k_(i,o,u):(st(vt,vt.current&1),i=ii(i,o,u),i!==null?i.sibling:null);st(vt,vt.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return N_(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),st(vt,vt.current),f)break;return null;case 22:case 23:return o.lanes=0,x_(i,o,u)}return ii(i,o,u)}var D_,fp,L_,M_;D_=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},fp=function(){},L_=function(i,o,u,f){var g=i.memoizedProps;if(g!==f){i=o.stateNode,Hs(Ar.current);var _=null;switch(u){case"input":g=je(i,g),f=je(i,f),_=[];break;case"select":g=b({},g,{value:void 0}),f=b({},f,{value:void 0}),_=[];break;case"textarea":g=Rn(i,g),f=Rn(i,f),_=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=mc)}Ga(u,f);var D;u=null;for(ne in g)if(!f.hasOwnProperty(ne)&&g.hasOwnProperty(ne)&&g[ne]!=null)if(ne==="style"){var W=g[ne];for(D in W)W.hasOwnProperty(D)&&(u||(u={}),u[D]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(s.hasOwnProperty(ne)?_||(_=[]):(_=_||[]).push(ne,null));for(ne in f){var Q=f[ne];if(W=g!=null?g[ne]:void 0,f.hasOwnProperty(ne)&&Q!==W&&(Q!=null||W!=null))if(ne==="style")if(W){for(D in W)!W.hasOwnProperty(D)||Q&&Q.hasOwnProperty(D)||(u||(u={}),u[D]="");for(D in Q)Q.hasOwnProperty(D)&&W[D]!==Q[D]&&(u||(u={}),u[D]=Q[D])}else u||(_||(_=[]),_.push(ne,u)),u=Q;else ne==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,W=W?W.__html:void 0,Q!=null&&W!==Q&&(_=_||[]).push(ne,Q)):ne==="children"?typeof Q!="string"&&typeof Q!="number"||(_=_||[]).push(ne,""+Q):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(s.hasOwnProperty(ne)?(Q!=null&&ne==="onScroll"&&ut("scroll",i),_||W===Q||(_=[])):(_=_||[]).push(ne,Q))}u&&(_=_||[]).push("style",u);var ne=_;(o.updateQueue=ne)&&(o.flags|=4)}},M_=function(i,o,u,f){u!==f&&(o.flags|=4)};function Cl(i,o){if(!pt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function tn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function CP(i,o,u){var f=o.pendingProps;switch(Lf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(o),null;case 1:return wn(o.type)&&yc(),tn(o),null;case 3:return f=o.stateNode,ta(),ct(_n),ct(Zt),Gf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Tc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,hr!==null&&(bp(hr),hr=null))),fp(i,o),tn(o),null;case 5:qf(o);var g=Hs(Sl.current);if(u=o.type,i!==null&&o.stateNode!=null)L_(i,o,u,f,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return tn(o),null}if(i=Hs(Ar.current),Tc(o)){f=o.stateNode,u=o.type;var _=o.memoizedProps;switch(f[Rr]=o,f[vl]=_,i=(o.mode&1)!==0,u){case"dialog":ut("cancel",f),ut("close",f);break;case"iframe":case"object":case"embed":ut("load",f);break;case"video":case"audio":for(g=0;g<ml.length;g++)ut(ml[g],f);break;case"source":ut("error",f);break;case"img":case"image":case"link":ut("error",f),ut("load",f);break;case"details":ut("toggle",f);break;case"input":We(f,_),ut("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},ut("invalid",f);break;case"textarea":er(f,_),ut("invalid",f)}Ga(u,_),g=null;for(var D in _)if(_.hasOwnProperty(D)){var W=_[D];D==="children"?typeof W=="string"?f.textContent!==W&&(_.suppressHydrationWarning!==!0&&pc(f.textContent,W,i),g=["children",W]):typeof W=="number"&&f.textContent!==""+W&&(_.suppressHydrationWarning!==!0&&pc(f.textContent,W,i),g=["children",""+W]):s.hasOwnProperty(D)&&W!=null&&D==="onScroll"&&ut("scroll",f)}switch(u){case"input":Ae(f),at(f,_,!0);break;case"textarea":Ae(f),tr(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=mc)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{D=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=xt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=D.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=D.createElement(u,{is:f.is}):(i=D.createElement(u),u==="select"&&(D=i,f.multiple?D.multiple=!0:f.size&&(D.size=f.size))):i=D.createElementNS(i,u),i[Rr]=o,i[vl]=f,D_(i,o,!1,!1),o.stateNode=i;e:{switch(D=Qa(u,f),u){case"dialog":ut("cancel",i),ut("close",i),g=f;break;case"iframe":case"object":case"embed":ut("load",i),g=f;break;case"video":case"audio":for(g=0;g<ml.length;g++)ut(ml[g],i);g=f;break;case"source":ut("error",i),g=f;break;case"img":case"image":case"link":ut("error",i),ut("load",i),g=f;break;case"details":ut("toggle",i),g=f;break;case"input":We(i,f),g=je(i,f),ut("invalid",i);break;case"option":g=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},g=b({},f,{value:void 0}),ut("invalid",i);break;case"textarea":er(i,f),g=Rn(i,f),ut("invalid",i);break;default:g=f}Ga(u,g),W=g;for(_ in W)if(W.hasOwnProperty(_)){var Q=W[_];_==="style"?qa(i,Q):_==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&$a(i,Q)):_==="children"?typeof Q=="string"?(u!=="textarea"||Q!=="")&&_i(i,Q):typeof Q=="number"&&_i(i,""+Q):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?Q!=null&&_==="onScroll"&&ut("scroll",i):Q!=null&&H(i,_,Q,D))}switch(u){case"input":Ae(i),at(i,f,!1);break;case"textarea":Ae(i),tr(i);break;case"option":f.value!=null&&i.setAttribute("value",""+ge(f.value));break;case"select":i.multiple=!!f.multiple,_=f.value,_!=null?yt(i,!!f.multiple,_,!1):f.defaultValue!=null&&yt(i,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=mc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return tn(o),null;case 6:if(i&&o.stateNode!=null)M_(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=Hs(Sl.current),Hs(Ar.current),Tc(o)){if(f=o.stateNode,u=o.memoizedProps,f[Rr]=o,(_=f.nodeValue!==u)&&(i=Dn,i!==null))switch(i.tag){case 3:pc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&pc(f.nodeValue,u,(i.mode&1)!==0)}_&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Rr]=o,o.stateNode=f}return tn(o),null;case 13:if(ct(vt),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(pt&&Ln!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Fv(),Xo(),o.flags|=98560,_=!1;else if(_=Tc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!_)throw Error(n(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Rr]=o}else Xo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;tn(o),_=!1}else hr!==null&&(bp(hr),hr=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(vt.current&1)!==0?jt===0&&(jt=3):Pp())),o.updateQueue!==null&&(o.flags|=4),tn(o),null);case 4:return ta(),fp(i,o),i===null&&gl(o.stateNode.containerInfo),tn(o),null;case 10:return Bf(o.type._context),tn(o),null;case 17:return wn(o.type)&&yc(),tn(o),null;case 19:if(ct(vt),_=o.memoizedState,_===null)return tn(o),null;if(f=(o.flags&128)!==0,D=_.rendering,D===null)if(f)Cl(_,!1);else{if(jt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(D=Cc(i),D!==null){for(o.flags|=128,Cl(_,!1),f=D.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)_=u,i=f,_.flags&=14680066,D=_.alternate,D===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=D.childLanes,_.lanes=D.lanes,_.child=D.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=D.memoizedProps,_.memoizedState=D.memoizedState,_.updateQueue=D.updateQueue,_.type=D.type,i=D.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return st(vt,vt.current&1|2),o.child}i=i.sibling}_.tail!==null&&it()>sa&&(o.flags|=128,f=!0,Cl(_,!1),o.lanes=4194304)}else{if(!f)if(i=Cc(D),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Cl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!D.alternate&&!pt)return tn(o),null}else 2*it()-_.renderingStartTime>sa&&u!==1073741824&&(o.flags|=128,f=!0,Cl(_,!1),o.lanes=4194304);_.isBackwards?(D.sibling=o.child,o.child=D):(u=_.last,u!==null?u.sibling=D:o.child=D,_.last=D)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=it(),o.sibling=null,u=vt.current,st(vt,f?u&1|2:u&1),o):(tn(o),null);case 22:case 23:return xp(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Mn&1073741824)!==0&&(tn(o),o.subtreeFlags&6&&(o.flags|=8192)):tn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function RP(i,o){switch(Lf(o),o.tag){case 1:return wn(o.type)&&yc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ta(),ct(_n),ct(Zt),Gf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return qf(o),null;case 13:if(ct(vt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Xo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ct(vt),null;case 4:return ta(),null;case 10:return Bf(o.type._context),null;case 22:case 23:return xp(),null;case 24:return null;default:return null}}var Vc=!1,nn=!1,AP=typeof WeakSet=="function"?WeakSet:Set,be=null;function ra(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){St(i,o,f)}else u.current=null}function pp(i,o,u){try{u()}catch(f){St(i,o,f)}}var V_=!1;function kP(i,o){if(xf=Pi,i=mv(),vf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var D=0,W=-1,Q=-1,ne=0,pe=0,me=i,fe=null;t:for(;;){for(var Ee;me!==u||g!==0&&me.nodeType!==3||(W=D+g),me!==_||f!==0&&me.nodeType!==3||(Q=D+f),me.nodeType===3&&(D+=me.nodeValue.length),(Ee=me.firstChild)!==null;)fe=me,me=Ee;for(;;){if(me===i)break t;if(fe===u&&++ne===g&&(W=D),fe===_&&++pe===f&&(Q=D),(Ee=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=Ee}u=W===-1||Q===-1?null:{start:W,end:Q}}else u=null}u=u||{start:0,end:0}}else u=null;for(Pf={focusedElem:i,selectionRange:u},Pi=!1,be=o;be!==null;)if(o=be,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,be=i;else for(;be!==null;){o=be;try{var xe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var Pe=xe.memoizedProps,Ct=xe.memoizedState,Z=o.stateNode,Y=Z.getSnapshotBeforeUpdate(o.elementType===o.type?Pe:fr(o.type,Pe),Ct);Z.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ee=o.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){St(o,o.return,ye)}if(i=o.sibling,i!==null){i.return=o.return,be=i;break}be=o.return}return xe=V_,V_=!1,xe}function Rl(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&i)===i){var _=g.destroy;g.destroy=void 0,_!==void 0&&pp(o,u,_)}g=g.next}while(g!==f)}}function jc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function mp(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function j_(i){var o=i.alternate;o!==null&&(i.alternate=null,j_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Rr],delete o[vl],delete o[kf],delete o[fP],delete o[pP])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function F_(i){return i.tag===5||i.tag===3||i.tag===4}function U_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||F_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function gp(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=mc));else if(f!==4&&(i=i.child,i!==null))for(gp(i,o,u),i=i.sibling;i!==null;)gp(i,o,u),i=i.sibling}function yp(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(yp(i,o,u),i=i.sibling;i!==null;)yp(i,o,u),i=i.sibling}var Gt=null,pr=!1;function Mi(i,o,u){for(u=u.child;u!==null;)B_(i,o,u),u=u.sibling}function B_(i,o,u){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(ks,u)}catch{}switch(u.tag){case 5:nn||ra(u,o);case 6:var f=Gt,g=pr;Gt=null,Mi(i,o,u),Gt=f,pr=g,Gt!==null&&(pr?(i=Gt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Gt.removeChild(u.stateNode));break;case 18:Gt!==null&&(pr?(i=Gt,u=u.stateNode,i.nodeType===8?Af(i.parentNode,u):i.nodeType===1&&Af(i,u),ur(i)):Af(Gt,u.stateNode));break;case 4:f=Gt,g=pr,Gt=u.stateNode.containerInfo,pr=!0,Mi(i,o,u),Gt=f,pr=g;break;case 0:case 11:case 14:case 15:if(!nn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var _=g,D=_.destroy;_=_.tag,D!==void 0&&((_&2)!==0||(_&4)!==0)&&pp(u,o,D),g=g.next}while(g!==f)}Mi(i,o,u);break;case 1:if(!nn&&(ra(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(W){St(u,o,W)}Mi(i,o,u);break;case 21:Mi(i,o,u);break;case 22:u.mode&1?(nn=(f=nn)||u.memoizedState!==null,Mi(i,o,u),nn=f):Mi(i,o,u);break;default:Mi(i,o,u)}}function z_(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new AP),o.forEach(function(f){var g=UP.bind(null,i,f);u.has(f)||(u.add(f),f.then(g,g))})}}function mr(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var _=i,D=o,W=D;e:for(;W!==null;){switch(W.tag){case 5:Gt=W.stateNode,pr=!1;break e;case 3:Gt=W.stateNode.containerInfo,pr=!0;break e;case 4:Gt=W.stateNode.containerInfo,pr=!0;break e}W=W.return}if(Gt===null)throw Error(n(160));B_(_,D,g),Gt=null,pr=!1;var Q=g.alternate;Q!==null&&(Q.return=null),g.return=null}catch(ne){St(g,o,ne)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)H_(o,i),o=o.sibling}function H_(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(mr(o,i),Or(i),f&4){try{Rl(3,i,i.return),jc(3,i)}catch(Pe){St(i,i.return,Pe)}try{Rl(5,i,i.return)}catch(Pe){St(i,i.return,Pe)}}break;case 1:mr(o,i),Or(i),f&512&&u!==null&&ra(u,u.return);break;case 5:if(mr(o,i),Or(i),f&512&&u!==null&&ra(u,u.return),i.flags&32){var g=i.stateNode;try{_i(g,"")}catch(Pe){St(i,i.return,Pe)}}if(f&4&&(g=i.stateNode,g!=null)){var _=i.memoizedProps,D=u!==null?u.memoizedProps:_,W=i.type,Q=i.updateQueue;if(i.updateQueue=null,Q!==null)try{W==="input"&&_.type==="radio"&&_.name!=null&&ot(g,_),Qa(W,D);var ne=Qa(W,_);for(D=0;D<Q.length;D+=2){var pe=Q[D],me=Q[D+1];pe==="style"?qa(g,me):pe==="dangerouslySetInnerHTML"?$a(g,me):pe==="children"?_i(g,me):H(g,pe,me,ne)}switch(W){case"input":Ue(g,_);break;case"textarea":Wr(g,_);break;case"select":var fe=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var Ee=_.value;Ee!=null?yt(g,!!_.multiple,Ee,!1):fe!==!!_.multiple&&(_.defaultValue!=null?yt(g,!!_.multiple,_.defaultValue,!0):yt(g,!!_.multiple,_.multiple?[]:"",!1))}g[vl]=_}catch(Pe){St(i,i.return,Pe)}}break;case 6:if(mr(o,i),Or(i),f&4){if(i.stateNode===null)throw Error(n(162));g=i.stateNode,_=i.memoizedProps;try{g.nodeValue=_}catch(Pe){St(i,i.return,Pe)}}break;case 3:if(mr(o,i),Or(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{ur(o.containerInfo)}catch(Pe){St(i,i.return,Pe)}break;case 4:mr(o,i),Or(i);break;case 13:mr(o,i),Or(i),g=i.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(wp=it())),f&4&&z_(i);break;case 22:if(pe=u!==null&&u.memoizedState!==null,i.mode&1?(nn=(ne=nn)||pe,mr(o,i),nn=ne):mr(o,i),Or(i),f&8192){if(ne=i.memoizedState!==null,(i.stateNode.isHidden=ne)&&!pe&&(i.mode&1)!==0)for(be=i,pe=i.child;pe!==null;){for(me=be=pe;be!==null;){switch(fe=be,Ee=fe.child,fe.tag){case 0:case 11:case 14:case 15:Rl(4,fe,fe.return);break;case 1:ra(fe,fe.return);var xe=fe.stateNode;if(typeof xe.componentWillUnmount=="function"){f=fe,u=fe.return;try{o=f,xe.props=o.memoizedProps,xe.state=o.memoizedState,xe.componentWillUnmount()}catch(Pe){St(f,u,Pe)}}break;case 5:ra(fe,fe.return);break;case 22:if(fe.memoizedState!==null){q_(me);continue}}Ee!==null?(Ee.return=fe,be=Ee):q_(me)}pe=pe.sibling}e:for(pe=null,me=i;;){if(me.tag===5){if(pe===null){pe=me;try{g=me.stateNode,ne?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(W=me.stateNode,Q=me.memoizedProps.style,D=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,W.style.display=Wa("display",D))}catch(Pe){St(i,i.return,Pe)}}}else if(me.tag===6){if(pe===null)try{me.stateNode.nodeValue=ne?"":me.memoizedProps}catch(Pe){St(i,i.return,Pe)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===i)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===i)break e;for(;me.sibling===null;){if(me.return===null||me.return===i)break e;pe===me&&(pe=null),me=me.return}pe===me&&(pe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:mr(o,i),Or(i),f&4&&z_(i);break;case 21:break;default:mr(o,i),Or(i)}}function Or(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(F_(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(_i(g,""),f.flags&=-33);var _=U_(i);yp(i,_,g);break;case 3:case 4:var D=f.stateNode.containerInfo,W=U_(i);gp(i,W,D);break;default:throw Error(n(161))}}catch(Q){St(i,i.return,Q)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function OP(i,o,u){be=i,$_(i)}function $_(i,o,u){for(var f=(i.mode&1)!==0;be!==null;){var g=be,_=g.child;if(g.tag===22&&f){var D=g.memoizedState!==null||Vc;if(!D){var W=g.alternate,Q=W!==null&&W.memoizedState!==null||nn;W=Vc;var ne=nn;if(Vc=D,(nn=Q)&&!ne)for(be=g;be!==null;)D=be,Q=D.child,D.tag===22&&D.memoizedState!==null?K_(g):Q!==null?(Q.return=D,be=Q):K_(g);for(;_!==null;)be=_,$_(_),_=_.sibling;be=g,Vc=W,nn=ne}W_(i)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,be=_):W_(i)}}function W_(i){for(;be!==null;){var o=be;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:nn||jc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!nn)if(u===null)f.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:fr(o.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&qv(o,_,f);break;case 3:var D=o.updateQueue;if(D!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}qv(o,D,u)}break;case 5:var W=o.stateNode;if(u===null&&o.flags&4){u=W;var Q=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&u.focus();break;case"img":Q.src&&(u.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var ne=o.alternate;if(ne!==null){var pe=ne.memoizedState;if(pe!==null){var me=pe.dehydrated;me!==null&&ur(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}nn||o.flags&512&&mp(o)}catch(fe){St(o,o.return,fe)}}if(o===i){be=null;break}if(u=o.sibling,u!==null){u.return=o.return,be=u;break}be=o.return}}function q_(i){for(;be!==null;){var o=be;if(o===i){be=null;break}var u=o.sibling;if(u!==null){u.return=o.return,be=u;break}be=o.return}}function K_(i){for(;be!==null;){var o=be;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{jc(4,o)}catch(Q){St(o,u,Q)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(Q){St(o,g,Q)}}var _=o.return;try{mp(o)}catch(Q){St(o,_,Q)}break;case 5:var D=o.return;try{mp(o)}catch(Q){St(o,D,Q)}}}catch(Q){St(o,o.return,Q)}if(o===i){be=null;break}var W=o.sibling;if(W!==null){W.return=o.return,be=W;break}be=o.return}}var NP=Math.ceil,Fc=K.ReactCurrentDispatcher,vp=K.ReactCurrentOwner,Gn=K.ReactCurrentBatchConfig,Xe=0,Ht=null,Ot=null,Qt=0,Mn=0,ia=ki(0),jt=0,Al=null,Ws=0,Uc=0,_p=0,kl=null,Tn=null,wp=0,sa=1/0,si=null,Bc=!1,Ep=null,Vi=null,zc=!1,ji=null,Hc=0,Ol=0,Tp=null,$c=-1,Wc=0;function pn(){return(Xe&6)!==0?it():$c!==-1?$c:$c=it()}function Fi(i){return(i.mode&1)===0?1:(Xe&2)!==0&&Qt!==0?Qt&-Qt:gP.transition!==null?(Wc===0&&(Wc=Ns()),Wc):(i=Ge,i!==0||(i=window.event,i=i===void 0?16:ol(i.type)),i)}function gr(i,o,u,f){if(50<Ol)throw Ol=0,Tp=null,Error(n(185));Si(i,u,f),((Xe&2)===0||i!==Ht)&&(i===Ht&&((Xe&2)===0&&(Uc|=u),jt===4&&Ui(i,Qt)),Sn(i,f),u===1&&Xe===0&&(o.mode&1)===0&&(sa=it()+500,_c&&Ni()))}function Sn(i,o){var u=i.callbackNode;Kr(i,o);var f=Os(i,i===Ht?Qt:0);if(f===0)u!==null&&tl(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&tl(u),o===1)i.tag===0?mP(Q_.bind(null,i)):Dv(Q_.bind(null,i)),dP(function(){(Xe&6)===0&&Ni()}),u=null;else{switch(Ii(f)){case 1:u=As;break;case 4:u=wi;break;case 16:u=Bn;break;case 536870912:u=Wu;break;default:u=Bn}u=r0(u,G_.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function G_(i,o){if($c=-1,Wc=0,(Xe&6)!==0)throw Error(n(327));var u=i.callbackNode;if(oa()&&i.callbackNode!==u)return null;var f=Os(i,i===Ht?Qt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=qc(i,f);else{o=f;var g=Xe;Xe|=2;var _=X_();(Ht!==i||Qt!==o)&&(si=null,sa=it()+500,Ks(i,o));do try{MP();break}catch(W){Y_(i,W)}while(!0);Uf(),Fc.current=_,Xe=g,Ot!==null?o=0:(Ht=null,Qt=0,o=jt)}if(o!==0){if(o===2&&(g=kn(i),g!==0&&(f=g,o=Sp(i,g))),o===1)throw u=Al,Ks(i,0),Ui(i,f),Sn(i,it()),u;if(o===6)Ui(i,f);else{if(g=i.current.alternate,(f&30)===0&&!DP(g)&&(o=qc(i,f),o===2&&(_=kn(i),_!==0&&(f=_,o=Sp(i,_))),o===1))throw u=Al,Ks(i,0),Ui(i,f),Sn(i,it()),u;switch(i.finishedWork=g,i.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:Gs(i,Tn,si);break;case 3:if(Ui(i,f),(f&130023424)===f&&(o=wp+500-it(),10<o)){if(Os(i,0)!==0)break;if(g=i.suspendedLanes,(g&f)!==f){pn(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=Rf(Gs.bind(null,i,Tn,si),o);break}Gs(i,Tn,si);break;case 4:if(Ui(i,f),(f&4194240)===f)break;for(o=i.eventTimes,g=-1;0<f;){var D=31-dn(f);_=1<<D,D=o[D],D>g&&(g=D),f&=~_}if(f=g,f=it()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*NP(f/1960))-f,10<f){i.timeoutHandle=Rf(Gs.bind(null,i,Tn,si),f);break}Gs(i,Tn,si);break;case 5:Gs(i,Tn,si);break;default:throw Error(n(329))}}}return Sn(i,it()),i.callbackNode===u?G_.bind(null,i):null}function Sp(i,o){var u=kl;return i.current.memoizedState.isDehydrated&&(Ks(i,o).flags|=256),i=qc(i,o),i!==2&&(o=Tn,Tn=u,o!==null&&bp(o)),i}function bp(i){Tn===null?Tn=i:Tn.push.apply(Tn,i)}function DP(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],_=g.getSnapshot;g=g.value;try{if(!dr(_(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ui(i,o){for(o&=~_p,o&=~Uc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-dn(o),f=1<<u;i[u]=-1,o&=~f}}function Q_(i){if((Xe&6)!==0)throw Error(n(327));oa();var o=Os(i,0);if((o&1)===0)return Sn(i,it()),null;var u=qc(i,o);if(i.tag!==0&&u===2){var f=kn(i);f!==0&&(o=f,u=Sp(i,f))}if(u===1)throw u=Al,Ks(i,0),Ui(i,o),Sn(i,it()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Gs(i,Tn,si),Sn(i,it()),null}function Ip(i,o){var u=Xe;Xe|=1;try{return i(o)}finally{Xe=u,Xe===0&&(sa=it()+500,_c&&Ni())}}function qs(i){ji!==null&&ji.tag===0&&(Xe&6)===0&&oa();var o=Xe;Xe|=1;var u=Gn.transition,f=Ge;try{if(Gn.transition=null,Ge=1,i)return i()}finally{Ge=f,Gn.transition=u,Xe=o,(Xe&6)===0&&Ni()}}function xp(){Mn=ia.current,ct(ia)}function Ks(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,cP(u)),Ot!==null)for(u=Ot.return;u!==null;){var f=u;switch(Lf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&yc();break;case 3:ta(),ct(_n),ct(Zt),Gf();break;case 5:qf(f);break;case 4:ta();break;case 13:ct(vt);break;case 19:ct(vt);break;case 10:Bf(f.type._context);break;case 22:case 23:xp()}u=u.return}if(Ht=i,Ot=i=Bi(i.current,null),Qt=Mn=o,jt=0,Al=null,_p=Uc=Ws=0,Tn=kl=null,zs!==null){for(o=0;o<zs.length;o++)if(u=zs[o],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,_=u.pending;if(_!==null){var D=_.next;_.next=g,f.next=D}u.pending=f}zs=null}return i}function Y_(i,o){do{var u=Ot;try{if(Uf(),Rc.current=Nc,Ac){for(var f=_t.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Ac=!1}if($s=0,zt=Vt=_t=null,bl=!1,Il=0,vp.current=null,u===null||u.return===null){jt=1,Al=o,Ot=null;break}e:{var _=i,D=u.return,W=u,Q=o;if(o=Qt,W.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ne=Q,pe=W,me=pe.tag;if((pe.mode&1)===0&&(me===0||me===11||me===15)){var fe=pe.alternate;fe?(pe.updateQueue=fe.updateQueue,pe.memoizedState=fe.memoizedState,pe.lanes=fe.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Ee=E_(D);if(Ee!==null){Ee.flags&=-257,T_(Ee,D,W,_,o),Ee.mode&1&&w_(_,ne,o),o=Ee,Q=ne;var xe=o.updateQueue;if(xe===null){var Pe=new Set;Pe.add(Q),o.updateQueue=Pe}else xe.add(Q);break e}else{if((o&1)===0){w_(_,ne,o),Pp();break e}Q=Error(n(426))}}else if(pt&&W.mode&1){var Ct=E_(D);if(Ct!==null){(Ct.flags&65536)===0&&(Ct.flags|=256),T_(Ct,D,W,_,o),jf(na(Q,W));break e}}_=Q=na(Q,W),jt!==4&&(jt=2),kl===null?kl=[_]:kl.push(_),_=D;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var Z=v_(_,Q,o);Wv(_,Z);break e;case 1:W=Q;var Y=_.type,ee=_.stateNode;if((_.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Vi===null||!Vi.has(ee)))){_.flags|=65536,o&=-o,_.lanes|=o;var ye=__(_,W,o);Wv(_,ye);break e}}_=_.return}while(_!==null)}Z_(u)}catch(Ce){o=Ce,Ot===u&&u!==null&&(Ot=u=u.return);continue}break}while(!0)}function X_(){var i=Fc.current;return Fc.current=Nc,i===null?Nc:i}function Pp(){(jt===0||jt===3||jt===2)&&(jt=4),Ht===null||(Ws&268435455)===0&&(Uc&268435455)===0||Ui(Ht,Qt)}function qc(i,o){var u=Xe;Xe|=2;var f=X_();(Ht!==i||Qt!==o)&&(si=null,Ks(i,o));do try{LP();break}catch(g){Y_(i,g)}while(!0);if(Uf(),Xe=u,Fc.current=f,Ot!==null)throw Error(n(261));return Ht=null,Qt=0,jt}function LP(){for(;Ot!==null;)J_(Ot)}function MP(){for(;Ot!==null&&!Hu();)J_(Ot)}function J_(i){var o=n0(i.alternate,i,Mn);i.memoizedProps=i.pendingProps,o===null?Z_(i):Ot=o,vp.current=null}function Z_(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=CP(u,o,Mn),u!==null){Ot=u;return}}else{if(u=RP(u,o),u!==null){u.flags&=32767,Ot=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{jt=6,Ot=null;return}}if(o=o.sibling,o!==null){Ot=o;return}Ot=o=i}while(o!==null);jt===0&&(jt=5)}function Gs(i,o,u){var f=Ge,g=Gn.transition;try{Gn.transition=null,Ge=1,VP(i,o,u,f)}finally{Gn.transition=g,Ge=f}return null}function VP(i,o,u,f){do oa();while(ji!==null);if((Xe&6)!==0)throw Error(n(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var _=u.lanes|u.childLanes;if(rt(i,_),i===Ht&&(Ot=Ht=null,Qt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||zc||(zc=!0,r0(Bn,function(){return oa(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=Gn.transition,Gn.transition=null;var D=Ge;Ge=1;var W=Xe;Xe|=4,vp.current=null,kP(i,u),H_(u,i),rP(Pf),Pi=!!xf,Pf=xf=null,i.current=u,OP(u),cf(),Xe=W,Ge=D,Gn.transition=_}else i.current=u;if(zc&&(zc=!1,ji=i,Hc=g),_=i.pendingLanes,_===0&&(Vi=null),qu(u.stateNode),Sn(i,it()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(Bc)throw Bc=!1,i=Ep,Ep=null,i;return(Hc&1)!==0&&i.tag!==0&&oa(),_=i.pendingLanes,(_&1)!==0?i===Tp?Ol++:(Ol=0,Tp=i):Ol=0,Ni(),null}function oa(){if(ji!==null){var i=Ii(Hc),o=Gn.transition,u=Ge;try{if(Gn.transition=null,Ge=16>i?16:i,ji===null)var f=!1;else{if(i=ji,ji=null,Hc=0,(Xe&6)!==0)throw Error(n(331));var g=Xe;for(Xe|=4,be=i.current;be!==null;){var _=be,D=_.child;if((be.flags&16)!==0){var W=_.deletions;if(W!==null){for(var Q=0;Q<W.length;Q++){var ne=W[Q];for(be=ne;be!==null;){var pe=be;switch(pe.tag){case 0:case 11:case 15:Rl(8,pe,_)}var me=pe.child;if(me!==null)me.return=pe,be=me;else for(;be!==null;){pe=be;var fe=pe.sibling,Ee=pe.return;if(j_(pe),pe===ne){be=null;break}if(fe!==null){fe.return=Ee,be=fe;break}be=Ee}}}var xe=_.alternate;if(xe!==null){var Pe=xe.child;if(Pe!==null){xe.child=null;do{var Ct=Pe.sibling;Pe.sibling=null,Pe=Ct}while(Pe!==null)}}be=_}}if((_.subtreeFlags&2064)!==0&&D!==null)D.return=_,be=D;else e:for(;be!==null;){if(_=be,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Rl(9,_,_.return)}var Z=_.sibling;if(Z!==null){Z.return=_.return,be=Z;break e}be=_.return}}var Y=i.current;for(be=Y;be!==null;){D=be;var ee=D.child;if((D.subtreeFlags&2064)!==0&&ee!==null)ee.return=D,be=ee;else e:for(D=Y;be!==null;){if(W=be,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:jc(9,W)}}catch(Ce){St(W,W.return,Ce)}if(W===D){be=null;break e}var ye=W.sibling;if(ye!==null){ye.return=W.return,be=ye;break e}be=W.return}}if(Xe=g,Ni(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(ks,i)}catch{}f=!0}return f}finally{Ge=u,Gn.transition=o}}return!1}function e0(i,o,u){o=na(u,o),o=v_(i,o,1),i=Li(i,o,1),o=pn(),i!==null&&(Si(i,1,o),Sn(i,o))}function St(i,o,u){if(i.tag===3)e0(i,i,u);else for(;o!==null;){if(o.tag===3){e0(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Vi===null||!Vi.has(f))){i=na(u,i),i=__(o,i,1),o=Li(o,i,1),i=pn(),o!==null&&(Si(o,1,i),Sn(o,i));break}}o=o.return}}function jP(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=pn(),i.pingedLanes|=i.suspendedLanes&u,Ht===i&&(Qt&u)===u&&(jt===4||jt===3&&(Qt&130023424)===Qt&&500>it()-wp?Ks(i,0):_p|=u),Sn(i,o)}function t0(i,o){o===0&&((i.mode&1)===0?o=1:(o=Ro,Ro<<=1,(Ro&130023424)===0&&(Ro=4194304)));var u=pn();i=ni(i,o),i!==null&&(Si(i,o,u),Sn(i,u))}function FP(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),t0(i,u)}function UP(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),t0(i,u)}var n0;n0=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||_n.current)En=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return En=!1,PP(i,o,u);En=(i.flags&131072)!==0}else En=!1,pt&&(o.flags&1048576)!==0&&Lv(o,Ec,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Mc(i,o),i=o.pendingProps;var g=Go(o,Zt.current);ea(o,u),g=Xf(null,o,f,i,g,u);var _=Jf();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,wn(f)?(_=!0,vc(o)):_=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,$f(o),g.updater=Dc,o.stateNode=g,g._reactInternals=o,ip(o,f,i,u),o=lp(null,o,f,!0,_,u)):(o.tag=0,pt&&_&&Df(o),fn(null,o,g,u),o=o.child),o;case 16:f=o.elementType;e:{switch(Mc(i,o),i=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=zP(f),i=fr(f,i),g){case 0:o=ap(null,o,f,i,u);break e;case 1:o=C_(null,o,f,i,u);break e;case 11:o=S_(null,o,f,i,u);break e;case 14:o=b_(null,o,f,fr(f.type,i),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:fr(f,g),ap(i,o,f,g,u);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:fr(f,g),C_(i,o,f,g,u);case 3:e:{if(R_(o),i===null)throw Error(n(387));f=o.pendingProps,_=o.memoizedState,g=_.element,$v(i,o),Pc(o,f,null,u);var D=o.memoizedState;if(f=D.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){g=na(Error(n(423)),o),o=A_(i,o,f,u,g);break e}else if(f!==g){g=na(Error(n(424)),o),o=A_(i,o,f,u,g);break e}else for(Ln=Ai(o.stateNode.containerInfo.firstChild),Dn=o,pt=!0,hr=null,u=zv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Xo(),f===g){o=ii(i,o,u);break e}fn(i,o,f,u)}o=o.child}return o;case 5:return Kv(o),i===null&&Vf(o),f=o.type,g=o.pendingProps,_=i!==null?i.memoizedProps:null,D=g.children,Cf(f,g)?D=null:_!==null&&Cf(f,_)&&(o.flags|=32),P_(i,o),fn(i,o,D,u),o.child;case 6:return i===null&&Vf(o),null;case 13:return k_(i,o,u);case 4:return Wf(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Jo(o,null,f,u):fn(i,o,f,u),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:fr(f,g),S_(i,o,f,g,u);case 7:return fn(i,o,o.pendingProps,u),o.child;case 8:return fn(i,o,o.pendingProps.children,u),o.child;case 12:return fn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,_=o.memoizedProps,D=g.value,st(bc,f._currentValue),f._currentValue=D,_!==null)if(dr(_.value,D)){if(_.children===g.children&&!_n.current){o=ii(i,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var W=_.dependencies;if(W!==null){D=_.child;for(var Q=W.firstContext;Q!==null;){if(Q.context===f){if(_.tag===1){Q=ri(-1,u&-u),Q.tag=2;var ne=_.updateQueue;if(ne!==null){ne=ne.shared;var pe=ne.pending;pe===null?Q.next=Q:(Q.next=pe.next,pe.next=Q),ne.pending=Q}}_.lanes|=u,Q=_.alternate,Q!==null&&(Q.lanes|=u),zf(_.return,u,o),W.lanes|=u;break}Q=Q.next}}else if(_.tag===10)D=_.type===o.type?null:_.child;else if(_.tag===18){if(D=_.return,D===null)throw Error(n(341));D.lanes|=u,W=D.alternate,W!==null&&(W.lanes|=u),zf(D,u,o),D=_.sibling}else D=_.child;if(D!==null)D.return=_;else for(D=_;D!==null;){if(D===o){D=null;break}if(_=D.sibling,_!==null){_.return=D.return,D=_;break}D=D.return}_=D}fn(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,ea(o,u),g=qn(g),f=f(g),o.flags|=1,fn(i,o,f,u),o.child;case 14:return f=o.type,g=fr(f,o.pendingProps),g=fr(f.type,g),b_(i,o,f,g,u);case 15:return I_(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:fr(f,g),Mc(i,o),o.tag=1,wn(f)?(i=!0,vc(o)):i=!1,ea(o,u),g_(o,f,g),ip(o,f,g,u),lp(null,o,f,!0,i,u);case 19:return N_(i,o,u);case 22:return x_(i,o,u)}throw Error(n(156,o.tag))};function r0(i,o){return Po(i,o)}function BP(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(i,o,u,f){return new BP(i,o,u,f)}function Cp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function zP(i){if(typeof i=="function")return Cp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===O)return 11;if(i===ue)return 14}return 2}function Bi(i,o){var u=i.alternate;return u===null?(u=Qn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Kc(i,o,u,f,g,_){var D=2;if(f=i,typeof i=="function")Cp(i)&&(D=1);else if(typeof i=="string")D=5;else e:switch(i){case x:return Qs(u.children,g,_,o);case A:D=8,g|=8;break;case T:return i=Qn(12,u,o,g|2),i.elementType=T,i.lanes=_,i;case C:return i=Qn(13,u,o,g),i.elementType=C,i.lanes=_,i;case G:return i=Qn(19,u,o,g),i.elementType=G,i.lanes=_,i;case P:return Gc(u,g,_,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:D=10;break e;case L:D=9;break e;case O:D=11;break e;case ue:D=14;break e;case se:D=16,f=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Qn(D,u,o,g),o.elementType=i,o.type=f,o.lanes=_,o}function Qs(i,o,u,f){return i=Qn(7,i,f,o),i.lanes=u,i}function Gc(i,o,u,f){return i=Qn(22,i,f,o),i.elementType=P,i.lanes=u,i.stateNode={isHidden:!1},i}function Rp(i,o,u){return i=Qn(6,i,null,o),i.lanes=u,i}function Ap(i,o,u){return o=Qn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function HP(i,o,u,f,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ti(0),this.expirationTimes=Ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function kp(i,o,u,f,g,_,D,W,Q){return i=new HP(i,o,u,W,Q),o===1?(o=1,_===!0&&(o|=8)):o=0,_=Qn(3,null,null,o),i.current=_,_.stateNode=i,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},$f(_),i}function $P(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function i0(i){if(!i)return Oi;i=i._reactInternals;e:{if(ir(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(wn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(wn(u))return Ov(i,u,o)}return o}function s0(i,o,u,f,g,_,D,W,Q){return i=kp(u,f,!0,i,g,_,D,W,Q),i.context=i0(null),u=i.current,f=pn(),g=Fi(u),_=ri(f,g),_.callback=o??null,Li(u,_,g),i.current.lanes=g,Si(i,g,f),Sn(i,f),i}function Qc(i,o,u,f){var g=o.current,_=pn(),D=Fi(g);return u=i0(u),o.context===null?o.context=u:o.pendingContext=u,o=ri(_,D),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Li(g,o,D),i!==null&&(gr(i,g,D,_),xc(i,g,D)),D}function Yc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function o0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Op(i,o){o0(i,o),(i=i.alternate)&&o0(i,o)}function WP(){return null}var a0=typeof reportError=="function"?reportError:function(i){console.error(i)};function Np(i){this._internalRoot=i}Xc.prototype.render=Np.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Qc(i,o,null,null)},Xc.prototype.unmount=Np.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;qs(function(){Qc(null,i,null,null)}),o[Jr]=null}};function Xc(i){this._internalRoot=i}Xc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Xu();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ir.length&&o!==0&&o<Ir[u].priority;u++);Ir.splice(u,0,i),u===0&&ec(i)}};function Dp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Jc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function l0(){}function qP(i,o,u,f,g){if(g){if(typeof f=="function"){var _=f;f=function(){var ne=Yc(D);_.call(ne)}}var D=s0(o,f,i,0,null,!1,!1,"",l0);return i._reactRootContainer=D,i[Jr]=D.current,gl(i.nodeType===8?i.parentNode:i),qs(),D}for(;g=i.lastChild;)i.removeChild(g);if(typeof f=="function"){var W=f;f=function(){var ne=Yc(Q);W.call(ne)}}var Q=kp(i,0,!1,null,null,!1,!1,"",l0);return i._reactRootContainer=Q,i[Jr]=Q.current,gl(i.nodeType===8?i.parentNode:i),qs(function(){Qc(o,Q,u,f)}),Q}function Zc(i,o,u,f,g){var _=u._reactRootContainer;if(_){var D=_;if(typeof g=="function"){var W=g;g=function(){var Q=Yc(D);W.call(Q)}}Qc(o,D,i,g)}else D=qP(u,o,i,g,f);return Yc(D)}Qu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ei(o.pendingLanes);u!==0&&(bi(o,u|1),Sn(o,it()),(Xe&6)===0&&(sa=it()+500,Ni()))}break;case 13:qs(function(){var f=ni(i,1);if(f!==null){var g=pn();gr(f,i,1,g)}}),Op(i,1)}},Ao=function(i){if(i.tag===13){var o=ni(i,134217728);if(o!==null){var u=pn();gr(o,i,134217728,u)}Op(i,134217728)}},Yu=function(i){if(i.tag===13){var o=Fi(i),u=ni(i,o);if(u!==null){var f=pn();gr(u,i,o,f)}Op(i,o)}},Xu=function(){return Ge},Ju=function(i,o){var u=Ge;try{return Ge=i,o()}finally{Ge=u}},Eo=function(i,o,u){switch(o){case"input":if(Ue(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var g=gc(f);if(!g)throw Error(n(90));ze(f),Ue(f,g)}}}break;case"textarea":Wr(i,u);break;case"select":o=u.value,o!=null&&yt(i,!!u.multiple,o,!1)}},xs=Ip,Xa=qs;var KP={usingClientEntryPoint:!1,Events:[_l,qo,gc,Sr,Ya,Ip]},Nl={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GP={bundleType:Nl.bundleType,version:Nl.version,rendererPackageName:Nl.rendererPackageName,rendererConfig:Nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=el(i),i===null?null:i.stateNode},findFiberByHostInstance:Nl.findFiberByHostInstance||WP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{ks=ed.inject(GP),An=ed}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KP,bn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dp(o))throw Error(n(200));return $P(i,o,null,u)},bn.createRoot=function(i,o){if(!Dp(i))throw Error(n(299));var u=!1,f="",g=a0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=kp(i,1,!1,null,null,u,!1,f,g),i[Jr]=o.current,gl(i.nodeType===8?i.parentNode:i),new Np(o)},bn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=el(o),i=i===null?null:i.stateNode,i},bn.flushSync=function(i){return qs(i)},bn.hydrate=function(i,o,u){if(!Jc(o))throw Error(n(200));return Zc(null,i,o,!0,u)},bn.hydrateRoot=function(i,o,u){if(!Dp(i))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,g=!1,_="",D=a0;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(D=u.onRecoverableError)),o=s0(o,null,i,1,u??null,g,!1,_,D),i[Jr]=o.current,gl(i),f)for(i=0;i<f.length;i++)u=f[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new Xc(o)},bn.render=function(i,o,u){if(!Jc(o))throw Error(n(200));return Zc(null,i,o,!1,u)},bn.unmountComponentAtNode=function(i){if(!Jc(i))throw Error(n(40));return i._reactRootContainer?(qs(function(){Zc(null,null,i,!1,function(){i._reactRootContainer=null,i[Jr]=null})}),!0):!1},bn.unstable_batchedUpdates=Ip,bn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!Jc(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Zc(i,o,u,!1,f)},bn.version="18.3.1-next-f1338f8080-20240426",bn}var g0;function wg(){if(g0)return Vp.exports;g0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vp.exports=nC(),Vp.exports}var y0;function rC(){if(y0)return td;y0=1;var t=wg();return td.createRoot=t.createRoot,td.hydrateRoot=t.hydrateRoot,td}var iC=rC();const sC=_g(iC);var Ll={},v0;function oC(){if(v0)return Ll;v0=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.parse=l,Ll.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,I){const R=new a,N=w.length;if(N<2)return R;const V=(I==null?void 0:I.decode)||m;let B=0;do{const z=w.indexOf("=",B);if(z===-1)break;const H=w.indexOf(";",B),K=H===-1?N:H;if(z>K){B=w.lastIndexOf(";",z-1)+1;continue}const F=c(w,B,z),U=h(w,z,F),x=w.slice(F,U);if(R[x]===void 0){let A=c(w,z+1,K),T=h(w,K,A);const E=V(w.slice(A,T));R[x]=E}B=K+1}while(B<N);return R}function c(w,I,R){do{const N=w.charCodeAt(I);if(N!==32&&N!==9)return I}while(++I<R);return R}function h(w,I,R){for(;I>R;){const N=w.charCodeAt(--I);if(N!==32&&N!==9)return I+1}return R}function p(w,I,R){const N=(R==null?void 0:R.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const V=N(I);if(!e.test(V))throw new TypeError(`argument val is invalid: ${I}`);let B=w+"="+V;if(!R)return B;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);B+="; Max-Age="+R.maxAge}if(R.domain){if(!n.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);B+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);B+="; Path="+R.path}if(R.expires){if(!y(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);B+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(B+="; HttpOnly"),R.secure&&(B+="; Secure"),R.partitioned&&(B+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return B}function m(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function y(w){return s.call(w)==="[object Date]"}return Ll}oC();var _0="popstate";function aC(t={}){function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return km("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:au(s)}return uC(e,n,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lC(){return Math.random().toString(36).substring(2,10)}function w0(t,e){return{usr:t.state,key:t.key,idx:e}}function km(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Oa(e):e,state:n,key:e&&e.key||r||lC()}}function au({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function uC(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",h=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function y(){c="POP";let V=m(),B=V==null?null:V-p;p=V,h&&h({action:c,location:N.location,delta:B})}function w(V,B){c="PUSH";let z=km(N.location,V,B);p=m()+1;let H=w0(z,p),K=N.createHref(z);try{l.pushState(H,"",K)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(K)}a&&h&&h({action:c,location:N.location,delta:1})}function I(V,B){c="REPLACE";let z=km(N.location,V,B);p=m();let H=w0(z,p),K=N.createHref(z);l.replaceState(H,"",K),a&&h&&h({action:c,location:N.location,delta:0})}function R(V){return cC(V)}let N={get action(){return c},get location(){return t(s,l)},listen(V){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(_0,y),h=V,()=>{s.removeEventListener(_0,y),h=null}},createHref(V){return e(s,V)},createURL:R,encodeLocation(V){let B=R(V);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:I,go(V){return l.go(V)}};return N}function cC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:au(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function nS(t,e,n="/"){return dC(t,e,n,!1)}function dC(t,e,n,r){let s=typeof e=="string"?Oa(e):e,a=hi(s.pathname||"/",n);if(a==null)return null;let l=rS(t);hC(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=SC(a);c=EC(l[h],p,r)}return c}function rS(t,e=[],n=[],r=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(gt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=ui([r,h.relativePath]),m=n.concat(h);a.children&&a.children.length>0&&(gt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),rS(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:_C(p,a.index),routesMeta:m})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of iS(a.path))s(a,l,h)}),e}function iS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=iS(r.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function hC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var fC=/^:[\w-]+$/,pC=3,mC=2,gC=1,yC=10,vC=-2,E0=t=>t==="*";function _C(t,e){let n=t.split("/"),r=n.length;return n.some(E0)&&(r+=vC),e&&(r+=mC),n.filter(s=>!E0(s)).reduce((s,a)=>s+(fC.test(a)?pC:a===""?gC:yC),r)}function wC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function EC(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=Hd({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),w=h.route;if(!y&&p&&n&&!r[r.length-1].route.index&&(y=Hd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:ui([a,y.pathname]),pathnameBase:PC(ui([a,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(a=ui([a,y.pathnameBase]))}return l}function Hd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:y},w)=>{if(m==="*"){let R=c[w]||"";l=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const I=c[w];return y&&!I?p[m]=void 0:p[m]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function TC(t,e=!1,n=!0){vr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function SC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function hi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bC(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Oa(t):t;return{pathname:n?n.startsWith("/")?n:IC(n,e):e,search:CC(r),hash:RC(s)}}function IC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Up(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Eg(t){let e=xC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Tg(t,e,n,r=!1){let s;typeof t=="string"?s=Oa(t):(s={...t},gt(!s.pathname||!s.pathname.includes("?"),Up("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),Up("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),Up("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;s.pathname=w.join("/")}c=y>=0?e[y]:"/"}let h=bC(s,c),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var ui=t=>t.join("/").replace(/\/\/+/g,"/"),PC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sS=["POST","PUT","PATCH","DELETE"];new Set(sS);var kC=["GET",...sS];new Set(kC);var Na=X.createContext(null);Na.displayName="DataRouter";var Sh=X.createContext(null);Sh.displayName="DataRouterState";var oS=X.createContext({isTransitioning:!1});oS.displayName="ViewTransition";var OC=X.createContext(new Map);OC.displayName="Fetchers";var NC=X.createContext(null);NC.displayName="Await";var Er=X.createContext(null);Er.displayName="Navigation";var Tu=X.createContext(null);Tu.displayName="Location";var Hr=X.createContext({outlet:null,matches:[],isDataRoute:!1});Hr.displayName="Route";var Sg=X.createContext(null);Sg.displayName="RouteError";function DC(t,{relative:e}={}){gt(Da(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=X.useContext(Er),{hash:s,pathname:a,search:l}=Su(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:ui([n,a])),r.createHref({pathname:c,search:l,hash:s})}function Da(){return X.useContext(Tu)!=null}function gs(){return gt(Da(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Tu).location}var aS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lS(t){X.useContext(Er).static||X.useLayoutEffect(t)}function bh(){let{isDataRoute:t}=X.useContext(Hr);return t?KC():LC()}function LC(){gt(Da(),"useNavigate() may be used only in the context of a <Router> component.");let t=X.useContext(Na),{basename:e,navigator:n}=X.useContext(Er),{matches:r}=X.useContext(Hr),{pathname:s}=gs(),a=JSON.stringify(Eg(r)),l=X.useRef(!1);return lS(()=>{l.current=!0}),X.useCallback((h,p={})=>{if(vr(l.current,aS),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=Tg(h,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ui([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,a,s,t])}X.createContext(null);function Su(t,{relative:e}={}){let{matches:n}=X.useContext(Hr),{pathname:r}=gs(),s=JSON.stringify(Eg(n));return X.useMemo(()=>Tg(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function MC(t,e){return uS(t,e)}function uS(t,e,n,r){var B;gt(Da(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=X.useContext(Er),{matches:a}=X.useContext(Hr),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",p=l?l.pathnameBase:"/",m=l&&l.route;{let z=m&&m.path||"";cS(h,!m||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let y=gs(),w;if(e){let z=typeof e=="string"?Oa(e):e;gt(p==="/"||((B=z.pathname)==null?void 0:B.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${z.pathname}" was given in the \`location\` prop.`),w=z}else w=y;let I=w.pathname||"/",R=I;if(p!=="/"){let z=p.replace(/^\//,"").split("/");R="/"+I.replace(/^\//,"").split("/").slice(z.length).join("/")}let N=nS(t,{pathname:R});vr(m||N!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),vr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=BC(N&&N.map(z=>Object.assign({},z,{params:Object.assign({},c,z.params),pathname:ui([p,s.encodeLocation?s.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?p:ui([p,s.encodeLocation?s.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),a,n,r);return e&&V?X.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},V):V}function VC(){let t=qC(),e=AC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=X.createElement(X.Fragment,null,X.createElement("p",null,"💿 Hey developer 👋"),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:a},"ErrorBoundary")," or"," ",X.createElement("code",{style:a},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:s},n):null,l)}var jC=X.createElement(VC,null),FC=class extends X.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?X.createElement(Hr.Provider,{value:this.props.routeContext},X.createElement(Sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UC({routeContext:t,match:e,children:n}){let r=X.useContext(Na);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(Hr.Provider,{value:t},n)}function BC(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);gt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:m,errors:y}=n,w=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,p,m)=>{let y,w=!1,I=null,R=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||jC,l&&(c<0&&m===0?(cS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):c===m&&(w=!0,R=p.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,m+1)),V=()=>{let B;return y?B=I:w?B=R:p.route.Component?B=X.createElement(p.route.Component,null):p.route.element?B=p.route.element:B=h,X.createElement(UC,{match:p,routeContext:{outlet:h,matches:N,isDataRoute:n!=null},children:B})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?X.createElement(FC,{location:n.location,revalidation:n.revalidation,component:I,error:y,children:V(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):V()},null)}function bg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zC(t){let e=X.useContext(Na);return gt(e,bg(t)),e}function HC(t){let e=X.useContext(Sh);return gt(e,bg(t)),e}function $C(t){let e=X.useContext(Hr);return gt(e,bg(t)),e}function Ig(t){let e=$C(t),n=e.matches[e.matches.length-1];return gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function WC(){return Ig("useRouteId")}function qC(){var r;let t=X.useContext(Sg),e=HC("useRouteError"),n=Ig("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function KC(){let{router:t}=zC("useNavigate"),e=Ig("useNavigate"),n=X.useRef(!1);return lS(()=>{n.current=!0}),X.useCallback(async(s,a={})=>{vr(n.current,aS),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var T0={};function cS(t,e,n){!e&&!T0[t]&&(T0[t]=!0,vr(!1,n))}X.memo(GC);function GC({routes:t,future:e,state:n}){return uS(t,void 0,n,e)}function QC({to:t,replace:e,state:n,relative:r}){gt(Da(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=X.useContext(Er);vr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=X.useContext(Hr),{pathname:l}=gs(),c=bh(),h=Tg(t,Eg(a),l,r==="path"),p=JSON.stringify(h);return X.useEffect(()=>{c(JSON.parse(p),{replace:e,state:n,relative:r})},[c,p,r,e,n]),null}function aa(t){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){gt(!Da(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=X.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Oa(n));let{pathname:h="/",search:p="",hash:m="",state:y=null,key:w="default"}=n,I=X.useMemo(()=>{let R=hi(h,l);return R==null?null:{location:{pathname:R,search:p,hash:m,state:y,key:w},navigationType:r}},[l,h,p,m,y,w,r]);return vr(I!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:X.createElement(Er.Provider,{value:c},X.createElement(Tu.Provider,{children:e,value:I}))}function XC({children:t,location:e}){return MC(Om(t),e)}function Om(t,e=[]){let n=[];return X.Children.forEach(t,(r,s)=>{if(!X.isValidElement(r))return;let a=[...e,s];if(r.type===X.Fragment){n.push.apply(n,Om(r.props.children,a));return}gt(r.type===aa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Om(r.props.children,a)),n.push(l)}),n}var Rd="get",Ad="application/x-www-form-urlencoded";function Ih(t){return t!=null&&typeof t.tagName=="string"}function JC(t){return Ih(t)&&t.tagName.toLowerCase()==="button"}function ZC(t){return Ih(t)&&t.tagName.toLowerCase()==="form"}function eR(t){return Ih(t)&&t.tagName.toLowerCase()==="input"}function tR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nR(t,e){return t.button===0&&(!e||e==="_self")&&!tR(t)}var nd=null;function rR(){if(nd===null)try{new FormData(document.createElement("form"),0),nd=!1}catch{nd=!0}return nd}var iR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bp(t){return t!=null&&!iR.has(t)?(vr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ad}"`),null):t}function sR(t,e){let n,r,s,a,l;if(ZC(t)){let c=t.getAttribute("action");r=c?hi(c,e):null,n=t.getAttribute("method")||Rd,s=Bp(t.getAttribute("enctype"))||Ad,a=new FormData(t)}else if(JC(t)||eR(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(r=h?hi(h,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Rd,s=Bp(t.getAttribute("formenctype"))||Bp(c.getAttribute("enctype"))||Ad,a=new FormData(c,t),!rR()){let{name:p,type:m,value:y}=t;if(m==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,y)}}else{if(Ih(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rd,r=null,s=Ad,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}function xg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function oR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lR(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await oR(a,n);return l.links?l.links():[]}return[]}));return hR(r.flat(1).filter(aR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function S0(t,e,n,r,s,a){let l=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,c=(h,p)=>{var m;return n[p].pathname!==h.pathname||((m=n[p].route.path)==null?void 0:m.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):a==="data"?e.filter((h,p)=>{var y;let m=r.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function uR(t,e,{includeHydrateFallback:n}={}){return cR(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function cR(t){return[...new Set(t)]}function dR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function hR(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(dR(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fR=new Set([100,101,204,205]);function pR(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&hi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function dS(){let t=X.useContext(Na);return xg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mR(){let t=X.useContext(Sh);return xg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pg=X.createContext(void 0);Pg.displayName="FrameworkContext";function hS(){let t=X.useContext(Pg);return xg(t,"You must render this element inside a <HydratedRouter> element"),t}function gR(t,e){let n=X.useContext(Pg),[r,s]=X.useState(!1),[a,l]=X.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=e,w=X.useRef(null);X.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let N=B=>{B.forEach(z=>{l(z.isIntersecting)})},V=new IntersectionObserver(N,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[t]),X.useEffect(()=>{if(r){let N=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(N)}}},[r]);let I=()=>{s(!0)},R=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:Ml(c,I),onBlur:Ml(h,R),onMouseEnter:Ml(p,I),onMouseLeave:Ml(m,R),onTouchStart:Ml(y,I)}]:[!1,w,{}]}function Ml(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yR({page:t,...e}){let{router:n}=dS(),r=X.useMemo(()=>nS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?X.createElement(_R,{page:t,matches:r,...e}):null}function vR(t){let{manifest:e,routeModules:n}=hS(),[r,s]=X.useState([]);return X.useEffect(()=>{let a=!1;return lR(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function _R({page:t,matches:e,...n}){let r=gs(),{manifest:s,routeModules:a}=hS(),{basename:l}=dS(),{loaderData:c,matches:h}=mR(),p=X.useMemo(()=>S0(t,e,h,s,r,"data"),[t,e,h,s,r]),m=X.useMemo(()=>S0(t,e,h,s,r,"assets"),[t,e,h,s,r]),y=X.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let R=new Set,N=!1;if(e.forEach(B=>{var H;let z=s.routes[B.route.id];!z||!z.hasLoader||(!p.some(K=>K.route.id===B.route.id)&&B.route.id in c&&((H=a[B.route.id])!=null&&H.shouldRevalidate)||z.hasClientLoader?N=!0:R.add(B.route.id))}),R.size===0)return[];let V=pR(t,l);return N&&R.size>0&&V.searchParams.set("_routes",e.filter(B=>R.has(B.route.id)).map(B=>B.route.id).join(",")),[V.pathname+V.search]},[l,c,r,s,p,e,t,a]),w=X.useMemo(()=>uR(m,s),[m,s]),I=vR(m);return X.createElement(X.Fragment,null,y.map(R=>X.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),w.map(R=>X.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),I.map(({key:R,link:N})=>X.createElement("link",{key:R,...N})))}function wR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fS&&(window.__reactRouterVersion="7.6.2")}catch{}function ER({basename:t,children:e,window:n}){let r=X.useRef();r.current==null&&(r.current=aC({window:n,v5Compat:!0}));let s=r.current,[a,l]=X.useState({action:s.action,location:s.location}),c=X.useCallback(h=>{X.startTransition(()=>l(h))},[l]);return X.useLayoutEffect(()=>s.listen(c),[s,c]),X.createElement(YC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var pS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mS=X.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:p,preventScrollReset:m,viewTransition:y,...w},I){let{basename:R}=X.useContext(Er),N=typeof p=="string"&&pS.test(p),V,B=!1;if(typeof p=="string"&&N&&(V=p,fS))try{let T=new URL(window.location.href),E=p.startsWith("//")?new URL(T.protocol+p):new URL(p),L=hi(E.pathname,R);E.origin===T.origin&&L!=null?p=L+E.search+E.hash:B=!0}catch{vr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=DC(p,{relative:s}),[H,K,F]=gR(r,w),U=IR(p,{replace:l,state:c,target:h,preventScrollReset:m,relative:s,viewTransition:y});function x(T){e&&e(T),T.defaultPrevented||U(T)}let A=X.createElement("a",{...w,...F,href:V||z,onClick:B||a?e:x,ref:wR(I,K),target:h,"data-discover":!N&&n==="render"?"true":void 0});return H&&!N?X.createElement(X.Fragment,null,A,X.createElement(yR,{page:z})):A});mS.displayName="Link";var TR=X.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...p},m){let y=Su(l,{relative:p.relative}),w=gs(),I=X.useContext(Sh),{navigator:R,basename:N}=X.useContext(Er),V=I!=null&&AR(y)&&c===!0,B=R.encodeLocation?R.encodeLocation(y).pathname:y.pathname,z=w.pathname,H=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(z=z.toLowerCase(),H=H?H.toLowerCase():null,B=B.toLowerCase()),H&&N&&(H=hi(H,N)||H);const K=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let F=z===B||!s&&z.startsWith(B)&&z.charAt(K)==="/",U=H!=null&&(H===B||!s&&H.startsWith(B)&&H.charAt(B.length)==="/"),x={isActive:F,isPending:U,isTransitioning:V},A=F?e:void 0,T;typeof r=="function"?T=r(x):T=[r,F?"active":null,U?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let E=typeof a=="function"?a(x):a;return X.createElement(mS,{...p,"aria-current":A,className:T,ref:m,style:E,to:l,viewTransition:c},typeof h=="function"?h(x):h)});TR.displayName="NavLink";var SR=X.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=Rd,action:c,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:y,...w},I)=>{let R=CR(),N=RR(c,{relative:p}),V=l.toLowerCase()==="get"?"get":"post",B=typeof c=="string"&&pS.test(c),z=H=>{if(h&&h(H),H.defaultPrevented)return;H.preventDefault();let K=H.nativeEvent.submitter,F=(K==null?void 0:K.getAttribute("formmethod"))||l;R(K||H.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:s,state:a,relative:p,preventScrollReset:m,viewTransition:y})};return X.createElement("form",{ref:I,method:V,action:N,onSubmit:r?h:z,...w,"data-discover":!B&&t==="render"?"true":void 0})});SR.displayName="Form";function bR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gS(t){let e=X.useContext(Na);return gt(e,bR(t)),e}function IR(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=bh(),h=gs(),p=Su(t,{relative:a});return X.useCallback(m=>{if(nR(m,e)){m.preventDefault();let y=n!==void 0?n:au(h)===au(p);c(t,{replace:y,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,p,n,r,e,t,s,a,l])}var xR=0,PR=()=>`__${String(++xR)}__`;function CR(){let{router:t}=gS("useSubmit"),{basename:e}=X.useContext(Er),n=WC();return X.useCallback(async(r,s={})=>{let{action:a,method:l,encType:c,formData:h,body:p}=sR(r,e);if(s.navigate===!1){let m=s.fetcherKey||PR();await t.fetch(m,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function RR(t,{relative:e}={}){let{basename:n}=X.useContext(Er),r=X.useContext(Hr);gt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Su(t||".",{relative:e})},l=gs();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(m=>m==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ui([n,a.pathname])),au(a)}function AR(t,e={}){let n=X.useContext(oS);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gS("useViewTransitionState"),s=Su(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=hi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=hi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Hd(s.pathname,l)!=null||Hd(s.pathname,a)!=null}[...fR];var yS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},b0=Lr.createContext&&Lr.createContext(yS),kR=["attr","size","title"];function OR(t,e){if(t==null)return{};var n=NR(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NR(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$d.apply(this,arguments)}function I0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I0(Object(n),!0).forEach(function(r){DR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DR(t,e,n){return e=LR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LR(t){var e=MR(t,"string");return typeof e=="symbol"?e:e+""}function MR(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vS(t){return t&&t.map((e,n)=>Lr.createElement(e.tag,Wd({key:n},e.attr),vS(e.child)))}function ho(t){return e=>Lr.createElement(VR,$d({attr:Wd({},t.attr)},e),vS(t.child))}function VR(t){var e=n=>{var{attr:r,size:s,title:a}=t,l=OR(t,kR),c=s||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Lr.createElement("svg",$d({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:h,style:Wd(Wd({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Lr.createElement("title",null,a),t.children)};return b0!==void 0?Lr.createElement(b0.Consumer,null,n=>e(n)):e(yS)}function _S(t){return ho({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(t)}function wS(t){return ho({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function ES(t){return ho({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}const TS=X.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),xh=X.createContext({}),Cg=X.createContext(null),Ph=typeof document<"u",jR=Ph?X.useLayoutEffect:X.useEffect,SS=X.createContext({strict:!1}),Rg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),FR="framerAppearId",bS="data-"+Rg(FR);function UR(t,e,n,r){const{visualElement:s}=X.useContext(xh),a=X.useContext(SS),l=X.useContext(Cg),c=X.useContext(TS).reducedMotion,h=X.useRef();r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const p=h.current;X.useInsertionEffect(()=>{p&&p.update(n,l)});const m=X.useRef(!!(n[bS]&&!window.HandoffComplete));return jR(()=>{p&&(p.render(),m.current&&p.animationState&&p.animationState.animateChanges())}),X.useEffect(()=>{p&&(p.updateFeatures(),!m.current&&p.animationState&&p.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),p}function ha(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function BR(t,e,n){return X.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ha(n)&&(n.current=r))},[e])}function lu(t){return typeof t=="string"||Array.isArray(t)}function Ch(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ag=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kg=["initial",...Ag];function Rh(t){return Ch(t.animate)||kg.some(e=>lu(t[e]))}function IS(t){return!!(Rh(t)||t.variants)}function zR(t,e){if(Rh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||lu(n)?n:void 0,animate:lu(r)?r:void 0}}return t.inherit!==!1?e:{}}function HR(t){const{initial:e,animate:n}=zR(t,X.useContext(xh));return X.useMemo(()=>({initial:e,animate:n}),[x0(e),x0(n)])}function x0(t){return Array.isArray(t)?t.join(" "):t}const P0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},uu={};for(const t in P0)uu[t]={isEnabled:e=>P0[t].some(n=>!!e[n])};function $R(t){for(const e in t)uu[e]={...uu[e],...t[e]}}const xS=X.createContext({}),PS=X.createContext({}),WR=Symbol.for("motionComponentSymbol");function qR({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&$R(t);function a(c,h){let p;const m={...X.useContext(TS),...c,layoutId:KR(c)},{isStatic:y}=m,w=HR(c),I=r(c,y);if(!y&&Ph){w.visualElement=UR(s,I,m,e);const R=X.useContext(PS),N=X.useContext(SS).strict;w.visualElement&&(p=w.visualElement.loadFeatures(m,N,t,R))}return X.createElement(xh.Provider,{value:w},p&&w.visualElement?X.createElement(p,{visualElement:w.visualElement,...m}):null,n(s,c,BR(I,w.visualElement,h),I,y,w.visualElement))}const l=X.forwardRef(a);return l[WR]=s,l}function KR({layoutId:t}){const e=X.useContext(xS).id;return e&&t!==void 0?e+"-"+t:t}function GR(t){function e(r,s={}){return qR(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const QR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Og(t){return typeof t!="string"||t.includes("-")?!1:!!(QR.indexOf(t)>-1||/[A-Z]/.test(t))}const qd={};function YR(t){Object.assign(qd,t)}const bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fo=new Set(bu);function CS(t,{layout:e,layoutId:n}){return fo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qd[t]||t==="opacity")}const Cn=t=>!!(t&&t.getVelocity),XR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JR=bu.length;function ZR(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let a="";for(let l=0;l<JR;l++){const c=bu[l];if(t[c]!==void 0){const h=XR[c]||c;a+=`${h}(${t[c]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(t,r?"":a):n&&r&&(a="none"),a}const RS=t=>e=>typeof e=="string"&&e.startsWith(t),AS=RS("--"),Nm=RS("var(--"),eA=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,tA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,os=(t,e,n)=>Math.min(Math.max(n,t),e),po={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yl={...po,transform:t=>os(0,1,t)},rd={...po,default:1},Xl=t=>Math.round(t*1e5)/1e5,Ah=/(-)?([\d]*\.?[\d])+/g,kS=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,nA=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Iu(t){return typeof t=="string"}const xu=t=>({test:e=>Iu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$i=xu("deg"),Mr=xu("%"),Ne=xu("px"),rA=xu("vh"),iA=xu("vw"),C0={...Mr,parse:t=>Mr.parse(t)/100,transform:t=>Mr.transform(t*100)},R0={...po,transform:Math.round},OS={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,size:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,rotate:$i,rotateX:$i,rotateY:$i,rotateZ:$i,scale:rd,scaleX:rd,scaleY:rd,scaleZ:rd,skew:$i,skewX:$i,skewY:$i,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:Yl,originX:C0,originY:C0,originZ:Ne,zIndex:R0,fillOpacity:Yl,strokeOpacity:Yl,numOctaves:R0};function Ng(t,e,n,r){const{style:s,vars:a,transform:l,transformOrigin:c}=t;let h=!1,p=!1,m=!0;for(const y in e){const w=e[y];if(AS(y)){a[y]=w;continue}const I=OS[y],R=tA(w,I);if(fo.has(y)){if(h=!0,l[y]=R,!m)continue;w!==(I.default||0)&&(m=!1)}else y.startsWith("origin")?(p=!0,c[y]=R):s[y]=R}if(e.transform||(h||r?s.transform=ZR(t.transform,n,m,r):s.transform&&(s.transform="none")),p){const{originX:y="50%",originY:w="50%",originZ:I=0}=c;s.transformOrigin=`${y} ${w} ${I}`}}const Dg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NS(t,e,n){for(const r in e)!Cn(e[r])&&!CS(r,n)&&(t[r]=e[r])}function sA({transformTemplate:t},e,n){return X.useMemo(()=>{const r=Dg();return Ng(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function oA(t,e,n){const r=t.style||{},s={};return NS(s,r,t),Object.assign(s,sA(t,e,n)),t.transformValues?t.transformValues(s):s}function aA(t,e,n){const r={},s=oA(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const lA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lA.has(t)}let DS=t=>!Kd(t);function uA(t){t&&(DS=e=>e.startsWith("on")?!Kd(e):t(e))}try{uA(require("@emotion/is-prop-valid").default)}catch{}function cA(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(DS(s)||n===!0&&Kd(s)||!e&&!Kd(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function A0(t,e,n){return typeof t=="string"?t:Ne.transform(e+n*t)}function dA(t,e,n){const r=A0(e,t.x,t.width),s=A0(n,t.y,t.height);return`${r} ${s}`}const hA={offset:"stroke-dashoffset",array:"stroke-dasharray"},fA={offset:"strokeDashoffset",array:"strokeDasharray"};function pA(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?hA:fA;t[a.offset]=Ne.transform(-r);const l=Ne.transform(e),c=Ne.transform(n);t[a.array]=`${l} ${c}`}function Lg(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...p},m,y,w){if(Ng(t,p,m,w),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:I,style:R,dimensions:N}=t;I.transform&&(N&&(R.transform=I.transform),delete I.transform),N&&(s!==void 0||a!==void 0||R.transform)&&(R.transformOrigin=dA(N,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(I.x=e),n!==void 0&&(I.y=n),r!==void 0&&(I.scale=r),l!==void 0&&pA(I,l,c,h,!1)}const LS=()=>({...Dg(),attrs:{}}),Mg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mA(t,e,n,r){const s=X.useMemo(()=>{const a=LS();return Lg(a,e,{enableHardwareAcceleration:!1},Mg(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};NS(a,t.style,t),s.style={...a,...s.style}}return s}function gA(t=!1){return(n,r,s,{latestValues:a},l)=>{const h=(Og(n)?mA:aA)(r,a,l,n),m={...cA(r,typeof n=="string",t),...h,ref:s},{children:y}=r,w=X.useMemo(()=>Cn(y)?y.get():y,[y]);return X.createElement(n,{...m,children:w})}}function MS(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const VS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jS(t,e,n,r){MS(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(VS.has(s)?s:Rg(s),e.attrs[s])}function Vg(t,e){const{style:n}=t,r={};for(const s in n)(Cn(n[s])||e.style&&Cn(e.style[s])||CS(s,t))&&(r[s]=n[s]);return r}function FS(t,e){const n=Vg(t,e);for(const r in t)if(Cn(t[r])||Cn(e[r])){const s=bu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function jg(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function yA(t){const e=X.useRef(null);return e.current===null&&(e.current=t()),e.current}const Gd=t=>Array.isArray(t),vA=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),_A=t=>Gd(t)?t[t.length-1]||0:t;function kd(t){const e=Cn(t)?t.get():t;return vA(e)?e.toValue():e}function wA({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,a){const l={latestValues:EA(r,s,a,t),renderState:e()};return n&&(l.mount=c=>n(r,c,l)),l}const US=t=>(e,n)=>{const r=X.useContext(xh),s=X.useContext(Cg),a=()=>wA(t,e,r,s);return n?a():yA(a)};function EA(t,e,n,r){const s={},a=r(t,{});for(const w in a)s[w]=kd(a[w]);let{initial:l,animate:c}=t;const h=Rh(t),p=IS(t);e&&p&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const y=m?c:l;return y&&typeof y!="boolean"&&!Ch(y)&&(Array.isArray(y)?y:[y]).forEach(I=>{const R=jg(t,I);if(!R)return;const{transitionEnd:N,transition:V,...B}=R;for(const z in B){let H=B[z];if(Array.isArray(H)){const K=m?H.length-1:0;H=H[K]}H!==null&&(s[z]=H)}for(const z in N)s[z]=N[z]}),s}const At=t=>t;class k0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function TA(t){let e=new k0,n=new k0,r=0,s=!1,a=!1;const l=new WeakSet,c={schedule:(h,p=!1,m=!1)=>{const y=m&&s,w=y?e:n;return p&&l.add(h),w.add(h)&&y&&s&&(r=e.order.length),h},cancel:h=>{n.remove(h),l.delete(h)},process:h=>{if(s){a=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let p=0;p<r;p++){const m=e.order[p];m(h),l.has(m)&&(c.schedule(m),t())}s=!1,a&&(a=!1,c.process(h))}};return c}const id=["prepare","read","update","preRender","render","postRender"],SA=40;function bA(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=id.reduce((y,w)=>(y[w]=TA(()=>n=!0),y),{}),l=y=>a[y].process(s),c=()=>{const y=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(y-s.timestamp,SA),1),s.timestamp=y,s.isProcessing=!0,id.forEach(l),s.isProcessing=!1,n&&e&&(r=!1,t(c))},h=()=>{n=!0,r=!0,s.isProcessing||t(c)};return{schedule:id.reduce((y,w)=>{const I=a[w];return y[w]=(R,N=!1,V=!1)=>(n||h(),I.schedule(R,N,V)),y},{}),cancel:y=>id.forEach(w=>a[w].cancel(y)),state:s,steps:a}}const{schedule:ht,cancel:fi,state:sn,steps:zp}=bA(typeof requestAnimationFrame<"u"?requestAnimationFrame:At,!0),IA={useVisualState:US({scrapeMotionValuesFromProps:FS,createRenderState:LS,onMount:(t,e,{renderState:n,latestValues:r})=>{ht.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ht.render(()=>{Lg(n,r,{enableHardwareAcceleration:!1},Mg(e.tagName),t.transformTemplate),jS(e,n)})}})},xA={useVisualState:US({scrapeMotionValuesFromProps:Vg,createRenderState:Dg})};function PA(t,{forwardMotionProps:e=!1},n,r){return{...Og(t)?IA:xA,preloadedFeatures:n,useRender:gA(e),createVisualElement:r,Component:t}}function oi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const BS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function kh(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const CA=t=>e=>BS(e)&&t(e,kh(e));function ci(t,e,n,r){return oi(t,e,CA(n),r)}const RA=(t,e)=>n=>e(t(n)),Zi=(...t)=>t.reduce(RA);function zS(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const O0=zS("dragHorizontal"),N0=zS("dragVertical");function HS(t){let e=!1;if(t==="y")e=N0();else if(t==="x")e=O0();else{const n=O0(),r=N0();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function $S(){const t=HS(!0);return t?(t(),!1):!0}class ys{constructor(e){this.isMounted=!1,this.node=e}update(){}}function D0(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(a,l)=>{if(a.pointerType==="touch"||$S())return;const c=t.getProps();t.animationState&&c.whileHover&&t.animationState.setActive("whileHover",e),c[r]&&ht.update(()=>c[r](a,l))};return ci(t.current,n,s,{passive:!t.getProps()[r]})}class AA extends ys{mount(){this.unmount=Zi(D0(this.node,!0),D0(this.node,!1))}unmount(){}}class kA extends ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zi(oi(this.node.current,"focus",()=>this.onFocus()),oi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const WS=(t,e)=>e?t===e?!0:WS(t,e.parentElement):!1;function Hp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,kh(n))}class OA extends ys{constructor(){super(...arguments),this.removeStartListeners=At,this.removeEndListeners=At,this.removeAccessibleListeners=At,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=ci(window,"pointerup",(c,h)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:m,globalTapTarget:y}=this.node.getProps();ht.update(()=>{!y&&!WS(this.node.current,c.target)?m&&m(c,h):p&&p(c,h)})},{passive:!(r.onTap||r.onPointerUp)}),l=ci(window,"pointercancel",(c,h)=>this.cancelPress(c,h),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Zi(a,l),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const l=c=>{c.key!=="Enter"||!this.checkPressEnd()||Hp("up",(h,p)=>{const{onTap:m}=this.node.getProps();m&&ht.update(()=>m(h,p))})};this.removeEndListeners(),this.removeEndListeners=oi(this.node.current,"keyup",l),Hp("down",(c,h)=>{this.startPress(c,h)})},n=oi(this.node.current,"keydown",e),r=()=>{this.isPressing&&Hp("cancel",(a,l)=>this.cancelPress(a,l))},s=oi(this.node.current,"blur",r);this.removeAccessibleListeners=Zi(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ht.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!$S()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ht.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ci(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=oi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Zi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Dm=new WeakMap,$p=new WeakMap,NA=t=>{const e=Dm.get(t.target);e&&e(t)},DA=t=>{t.forEach(NA)};function LA({root:t,...e}){const n=t||document;$p.has(n)||$p.set(n,{});const r=$p.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(DA,{root:t,...e})),r[s]}function MA(t,e,n){const r=LA(e);return Dm.set(t,n),r.observe(t),()=>{Dm.delete(t),r.unobserve(t)}}const VA={some:0,all:1};class jA extends ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:VA[s]},c=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),w=p?m:y;w&&w(h)};return MA(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(FA(e,n))&&this.startObserver()}unmount(){}}function FA({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const UA={inView:{Feature:jA},tap:{Feature:OA},focus:{Feature:kA},hover:{Feature:AA}};function qS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function BA(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function zA(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Oh(t,e,n){const r=t.getProps();return jg(r,e,n!==void 0?n:r.custom,BA(t),zA(t))}let Fg=At;const ro=t=>t*1e3,di=t=>t/1e3,HA={current:!1},KS=t=>Array.isArray(t)&&typeof t[0]=="number";function GS(t){return!!(!t||typeof t=="string"&&QS[t]||KS(t)||Array.isArray(t)&&t.every(GS))}const $l=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,QS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$l([0,.65,.55,1]),circOut:$l([.55,0,1,.45]),backIn:$l([.31,.01,.66,-.59]),backOut:$l([.33,1.53,.69,.99])};function YS(t){if(t)return KS(t)?$l(t):Array.isArray(t)?t.map(YS):QS[t]}function $A(t,e,n,{delay:r=0,duration:s,repeat:a=0,repeatType:l="loop",ease:c,times:h}={}){const p={[e]:n};h&&(p.offset=h);const m=YS(c);return Array.isArray(m)&&(p.easing=m),t.animate(p,{delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}function WA(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const XS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,qA=1e-7,KA=12;function GA(t,e,n,r,s){let a,l,c=0;do l=e+(n-e)/2,a=XS(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>qA&&++c<KA);return l}function Pu(t,e,n,r){if(t===e&&n===r)return At;const s=a=>GA(a,0,1,t,n);return a=>a===0||a===1?a:XS(s(a),e,r)}const QA=Pu(.42,0,1,1),YA=Pu(0,0,.58,1),JS=Pu(.42,0,.58,1),XA=t=>Array.isArray(t)&&typeof t[0]!="number",ZS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,e1=t=>e=>1-t(1-e),Ug=t=>1-Math.sin(Math.acos(t)),t1=e1(Ug),JA=ZS(Ug),n1=Pu(.33,1.53,.69,.99),Bg=e1(n1),ZA=ZS(Bg),ek=t=>(t*=2)<1?.5*Bg(t):.5*(2-Math.pow(2,-10*(t-1))),tk={linear:At,easeIn:QA,easeInOut:JS,easeOut:YA,circIn:Ug,circInOut:JA,circOut:t1,backIn:Bg,backInOut:ZA,backOut:n1,anticipate:ek},L0=t=>{if(Array.isArray(t)){Fg(t.length===4);const[e,n,r,s]=t;return Pu(e,n,r,s)}else if(typeof t=="string")return tk[t];return t},zg=(t,e)=>n=>!!(Iu(n)&&nA.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),r1=(t,e,n)=>r=>{if(!Iu(r))return r;const[s,a,l,c]=r.match(Ah);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},nk=t=>os(0,255,t),Wp={...po,transform:t=>Math.round(nk(t))},to={test:zg("rgb","red"),parse:r1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Wp.transform(t)+", "+Wp.transform(e)+", "+Wp.transform(n)+", "+Xl(Yl.transform(r))+")"};function rk(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Lm={test:zg("#"),parse:rk,transform:to.transform},fa={test:zg("hsl","hue"),parse:r1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Mr.transform(Xl(e))+", "+Mr.transform(Xl(n))+", "+Xl(Yl.transform(r))+")"},gn={test:t=>to.test(t)||Lm.test(t)||fa.test(t),parse:t=>to.test(t)?to.parse(t):fa.test(t)?fa.parse(t):Lm.parse(t),transform:t=>Iu(t)?t:t.hasOwnProperty("red")?to.transform(t):fa.transform(t)},wt=(t,e,n)=>-n*t+n*e+t;function qp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ik({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;s=qp(h,c,t+1/3),a=qp(h,c,t),l=qp(h,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}const Kp=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},sk=[Lm,to,fa],ok=t=>sk.find(e=>e.test(t));function M0(t){const e=ok(t);let n=e.parse(t);return e===fa&&(n=ik(n)),n}const i1=(t,e)=>{const n=M0(t),r=M0(e),s={...n};return a=>(s.red=Kp(n.red,r.red,a),s.green=Kp(n.green,r.green,a),s.blue=Kp(n.blue,r.blue,a),s.alpha=wt(n.alpha,r.alpha,a),to.transform(s))};function ak(t){var e,n;return isNaN(t)&&Iu(t)&&(((e=t.match(Ah))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(kS))===null||n===void 0?void 0:n.length)||0)>0}const s1={regex:eA,countKey:"Vars",token:"${v}",parse:At},o1={regex:kS,countKey:"Colors",token:"${c}",parse:gn.parse},a1={regex:Ah,countKey:"Numbers",token:"${n}",parse:po.parse};function Gp(t,{regex:e,countKey:n,token:r,parse:s}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...a.map(s)))}function Qd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Gp(n,s1),Gp(n,o1),Gp(n,a1),n}function l1(t){return Qd(t).values}function u1(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Qd(t),a=e.length;return l=>{let c=s;for(let h=0;h<a;h++)h<r?c=c.replace(s1.token,l[h]):h<r+n?c=c.replace(o1.token,gn.transform(l[h])):c=c.replace(a1.token,Xl(l[h]));return c}}const lk=t=>typeof t=="number"?0:t;function uk(t){const e=l1(t);return u1(t)(e.map(lk))}const as={test:ak,parse:l1,createTransformer:u1,getAnimatableNone:uk},c1=(t,e)=>n=>`${n>0?e:t}`;function d1(t,e){return typeof t=="number"?n=>wt(t,e,n):gn.test(t)?i1(t,e):t.startsWith("var(")?c1(t,e):f1(t,e)}const h1=(t,e)=>{const n=[...t],r=n.length,s=t.map((a,l)=>d1(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}},ck=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=d1(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}},f1=(t,e)=>{const n=as.createTransformer(e),r=Qd(t),s=Qd(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Zi(h1(r.values,s.values),n):c1(t,e)},cu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},V0=(t,e)=>n=>wt(t,e,n);function dk(t){return typeof t=="number"?V0:typeof t=="string"?gn.test(t)?i1:f1:Array.isArray(t)?h1:typeof t=="object"?ck:V0}function hk(t,e,n){const r=[],s=n||dk(t[0]),a=t.length-1;for(let l=0;l<a;l++){let c=s(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||At:e;c=Zi(h,c)}r.push(c)}return r}function p1(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Fg(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=hk(e,r,s),c=l.length,h=p=>{let m=0;if(c>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const y=cu(t[m],t[m+1],p);return l[m](y)};return n?p=>h(os(t[0],t[a-1],p)):h}function fk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=cu(0,e,r);t.push(wt(n,1,s))}}function pk(t){const e=[0];return fk(e,t.length-1),e}function mk(t,e){return t.map(n=>n*e)}function gk(t,e){return t.map(()=>e||JS).splice(0,t.length-1)}function Yd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=XA(r)?r.map(L0):L0(r),a={done:!1,value:e[0]},l=mk(n&&n.length===e.length?n:pk(e),t),c=p1(l,e,{ease:Array.isArray(s)?s:gk(e,s)});return{calculatedDuration:t,next:h=>(a.value=c(h),a.done=h>=t,a)}}function m1(t,e){return e?t*(1e3/e):0}const yk=5;function g1(t,e,n){const r=Math.max(e-yk,0);return m1(n-t(r),e-r)}const Qp=.001,vk=.01,_k=10,wk=.05,Ek=1;function Tk({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,a,l=1-e;l=os(wk,Ek,l),t=os(vk,_k,di(t)),l<1?(s=p=>{const m=p*l,y=m*t,w=m-n,I=Mm(p,l),R=Math.exp(-y);return Qp-w/I*R},a=p=>{const y=p*l*t,w=y*n+n,I=Math.pow(l,2)*Math.pow(p,2)*t,R=Math.exp(-y),N=Mm(Math.pow(p,2),l);return(-s(p)+Qp>0?-1:1)*((w-I)*R)/N}):(s=p=>{const m=Math.exp(-p*t),y=(p-n)*t+1;return-Qp+m*y},a=p=>{const m=Math.exp(-p*t),y=(n-p)*(t*t);return m*y});const c=5/t,h=bk(s,a,c);if(t=ro(t),isNaN(h))return{stiffness:100,damping:10,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const Sk=12;function bk(t,e,n){let r=n;for(let s=1;s<Sk;s++)r=r-t(r)/e(r);return r}function Mm(t,e){return t*Math.sqrt(1-e*e)}const Ik=["duration","bounce"],xk=["stiffness","damping","mass"];function j0(t,e){return e.some(n=>t[n]!==void 0)}function Pk(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!j0(t,xk)&&j0(t,Ik)){const n=Tk(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function y1({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],a=t[t.length-1],l={done:!1,value:s},{stiffness:c,damping:h,mass:p,duration:m,velocity:y,isResolvedFromDuration:w}=Pk({...r,velocity:-di(r.velocity||0)}),I=y||0,R=h/(2*Math.sqrt(c*p)),N=a-s,V=di(Math.sqrt(c/p)),B=Math.abs(N)<5;n||(n=B?.01:2),e||(e=B?.005:.5);let z;if(R<1){const H=Mm(V,R);z=K=>{const F=Math.exp(-R*V*K);return a-F*((I+R*V*N)/H*Math.sin(H*K)+N*Math.cos(H*K))}}else if(R===1)z=H=>a-Math.exp(-V*H)*(N+(I+V*N)*H);else{const H=V*Math.sqrt(R*R-1);z=K=>{const F=Math.exp(-R*V*K),U=Math.min(H*K,300);return a-F*((I+R*V*N)*Math.sinh(U)+H*N*Math.cosh(U))/H}}return{calculatedDuration:w&&m||null,next:H=>{const K=z(H);if(w)l.done=H>=m;else{let F=I;H!==0&&(R<1?F=g1(z,H,K):F=0);const U=Math.abs(F)<=n,x=Math.abs(a-K)<=e;l.done=U&&x}return l.value=l.done?a:K,l}}}function F0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:p=.5,restSpeed:m}){const y=t[0],w={done:!1,value:y},I=A=>c!==void 0&&A<c||h!==void 0&&A>h,R=A=>c===void 0?h:h===void 0||Math.abs(c-A)<Math.abs(h-A)?c:h;let N=n*e;const V=y+N,B=l===void 0?V:l(V);B!==V&&(N=B-y);const z=A=>-N*Math.exp(-A/r),H=A=>B+z(A),K=A=>{const T=z(A),E=H(A);w.done=Math.abs(T)<=p,w.value=w.done?B:E};let F,U;const x=A=>{I(w.value)&&(F=A,U=y1({keyframes:[w.value,R(w.value)],velocity:g1(H,A,w.value),damping:s,stiffness:a,restDelta:p,restSpeed:m}))};return x(0),{calculatedDuration:null,next:A=>{let T=!1;return!U&&F===void 0&&(T=!0,K(A),x(A)),F!==void 0&&A>F?U.next(A-F):(!T&&K(A),w)}}}const Ck=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ht.update(e,!0),stop:()=>fi(e),now:()=>sn.isProcessing?sn.timestamp:performance.now()}},U0=2e4;function B0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<U0;)e+=n,r=t.next(e);return e>=U0?1/0:e}const Rk={decay:F0,inertia:F0,tween:Yd,keyframes:Yd,spring:y1};function Xd({autoplay:t=!0,delay:e=0,driver:n=Ck,keyframes:r,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",onPlay:h,onStop:p,onComplete:m,onUpdate:y,...w}){let I=1,R=!1,N,V;const B=()=>{V=new Promise(k=>{N=k})};B();let z;const H=Rk[s]||Yd;let K;H!==Yd&&typeof r[0]!="number"&&(K=p1([0,100],r,{clamp:!1}),r=[0,100]);const F=H({...w,keyframes:r});let U;c==="mirror"&&(U=H({...w,keyframes:[...r].reverse(),velocity:-(w.velocity||0)}));let x="idle",A=null,T=null,E=null;F.calculatedDuration===null&&a&&(F.calculatedDuration=B0(F));const{calculatedDuration:L}=F;let O=1/0,C=1/0;L!==null&&(O=L+l,C=O*(a+1)-l);let G=0;const ue=k=>{if(T===null)return;I>0&&(T=Math.min(T,k)),I<0&&(T=Math.min(k-C/I,T)),A!==null?G=A:G=Math.round(k-T)*I;const $=G-e*(I>=0?1:-1),te=I>=0?$<0:$>C;G=Math.max($,0),x==="finished"&&A===null&&(G=C);let re=G,le=F;if(a){const _e=Math.min(G,C)/O;let Se=Math.floor(_e),Ae=_e%1;!Ae&&_e>=1&&(Ae=1),Ae===1&&Se--,Se=Math.min(Se,a+1),!!(Se%2)&&(c==="reverse"?(Ae=1-Ae,l&&(Ae-=l/O)):c==="mirror"&&(le=U)),re=os(0,1,Ae)*O}const ae=te?{done:!1,value:r[0]}:le.next(re);K&&(ae.value=K(ae.value));let{done:ce}=ae;!te&&L!==null&&(ce=I>=0?G>=C:G<=0);const ge=A===null&&(x==="finished"||x==="running"&&ce);return y&&y(ae.value),ge&&oe(),ae},se=()=>{z&&z.stop(),z=void 0},P=()=>{x="idle",se(),N(),B(),T=E=null},oe=()=>{x="finished",m&&m(),se(),N()},q=()=>{if(R)return;z||(z=n(ue));const k=z.now();h&&h(),A!==null?T=k-A:(!T||x==="finished")&&(T=k),x==="finished"&&B(),E=T,A=null,x="running",z.start()};t&&q();const b={then(k,$){return V.then(k,$)},get time(){return di(G)},set time(k){k=ro(k),G=k,A!==null||!z||I===0?A=k:T=z.now()-k/I},get duration(){const k=F.calculatedDuration===null?B0(F):F.calculatedDuration;return di(k)},get speed(){return I},set speed(k){k===I||!z||(I=k,b.time=di(G))},get state(){return x},play:q,pause:()=>{x="paused",A=G},stop:()=>{R=!0,x!=="idle"&&(x="idle",p&&p(),P())},cancel:()=>{E!==null&&ue(E),P()},complete:()=>{x="finished"},sample:k=>(T=0,ue(k))};return b}function Ak(t){let e;return()=>(e===void 0&&(e=t()),e)}const kk=Ak(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ok=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sd=10,Nk=2e4,Dk=(t,e)=>e.type==="spring"||t==="backgroundColor"||!GS(e.ease);function Lk(t,e,{onUpdate:n,onComplete:r,...s}){if(!(kk()&&Ok.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let l=!1,c,h,p=!1;const m=()=>{h=new Promise(H=>{c=H})};m();let{keyframes:y,duration:w=300,ease:I,times:R}=s;if(Dk(e,s)){const H=Xd({...s,repeat:0,delay:0});let K={done:!1,value:y[0]};const F=[];let U=0;for(;!K.done&&U<Nk;)K=H.sample(U),F.push(K.value),U+=sd;R=void 0,y=F,w=U-sd,I="linear"}const N=$A(t.owner.current,e,y,{...s,duration:w,ease:I,times:R}),V=()=>{p=!1,N.cancel()},B=()=>{p=!0,ht.update(V),c(),m()};return N.onfinish=()=>{p||(t.set(WA(y,s)),r&&r(),B())},{then(H,K){return h.then(H,K)},attachTimeline(H){return N.timeline=H,N.onfinish=null,At},get time(){return di(N.currentTime||0)},set time(H){N.currentTime=ro(H)},get speed(){return N.playbackRate},set speed(H){N.playbackRate=H},get duration(){return di(w)},play:()=>{l||(N.play(),fi(V))},pause:()=>N.pause(),stop:()=>{if(l=!0,N.playState==="idle")return;const{currentTime:H}=N;if(H){const K=Xd({...s,autoplay:!1});t.setWithVelocity(K.sample(H-sd).value,K.sample(H).value,sd)}B()},complete:()=>{p||N.finish()},cancel:B}}function Mk({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:At,pause:At,stop:At,then:a=>(a(),Promise.resolve()),cancel:At,complete:At});return e?Xd({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const Vk={type:"spring",stiffness:500,damping:25,restSpeed:10},jk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Fk={type:"keyframes",duration:.8},Uk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bk=(t,{keyframes:e})=>e.length>2?Fk:fo.has(t)?t.startsWith("scale")?jk(e[1]):Vk:Uk,Vm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(as.test(e)||e==="0")&&!e.startsWith("url(")),zk=new Set(["brightness","contrast","saturate","opacity"]);function Hk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ah)||[];if(!r)return t;const s=n.replace(r,"");let a=zk.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const $k=/([a-z-]*)\(.*?\)/g,jm={...as,getAnimatableNone:t=>{const e=t.match($k);return e?e.map(Hk).join(" "):t}},Wk={...OS,color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:jm,WebkitFilter:jm},Hg=t=>Wk[t];function v1(t,e){let n=Hg(t);return n!==jm&&(n=as),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _1=t=>/^0[^.\s]+$/.test(t);function qk(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||_1(t)}function Kk(t,e,n,r){const s=Vm(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const l=r.from!==void 0?r.from:t.get();let c;const h=[];for(let p=0;p<a.length;p++)a[p]===null&&(a[p]=p===0?l:a[p-1]),qk(a[p])&&h.push(p),typeof a[p]=="string"&&a[p]!=="none"&&a[p]!=="0"&&(c=a[p]);if(s&&h.length&&c)for(let p=0;p<h.length;p++){const m=h[p];a[m]=v1(e,c)}return a}function Gk({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:p,...m}){return!!Object.keys(m).length}function $g(t,e){return t[e]||t.default||t}const Qk={skipAnimations:!1},Wg=(t,e,n,r={})=>s=>{const a=$g(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ro(l);const h=Kk(e,t,n,a),p=h[0],m=h[h.length-1],y=Vm(t,p),w=Vm(t,m);let I={keyframes:h,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-c,onUpdate:R=>{e.set(R),a.onUpdate&&a.onUpdate(R)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(Gk(a)||(I={...I,...Bk(t,I)}),I.duration&&(I.duration=ro(I.duration)),I.repeatDelay&&(I.repeatDelay=ro(I.repeatDelay)),!y||!w||HA.current||a.type===!1||Qk.skipAnimations)return Mk(I);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const R=Lk(e,t,I);if(R)return R}return Xd(I)};function Jd(t){return!!(Cn(t)&&t.add)}const w1=t=>/^\-?\d*\.?\d+$/.test(t);function qg(t,e){t.indexOf(e)===-1&&t.push(e)}function Kg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Gg{constructor(){this.subscriptions=[]}add(e){return qg(this.subscriptions,e),()=>Kg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yk=t=>!isNaN(parseFloat(t));class Xk{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:l}=sn;this.lastUpdated!==l&&(this.timeDelta=a,this.lastUpdated=l,ht.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ht.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Yk(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Gg);const r=this.events[e].add(n);return e==="change"?()=>{r(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?m1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ea(t,e){return new Xk(t,e)}const E1=t=>e=>e.test(t),Jk={test:t=>t==="auto",parse:t=>t},T1=[po,Ne,Mr,$i,iA,rA,Jk],Vl=t=>T1.find(E1(t)),Zk=[...T1,gn,as],eO=t=>Zk.find(E1(t));function tO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ea(n))}function nO(t,e){const n=Oh(t,e);let{transitionEnd:r={},transition:s={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const l in a){const c=_A(a[l]);tO(t,l,c)}}function rO(t,e,n){var r,s;const a=Object.keys(e).filter(c=>!t.hasValue(c)),l=a.length;if(l)for(let c=0;c<l;c++){const h=a[c],p=e[h];let m=null;Array.isArray(p)&&(m=p[0]),m===null&&(m=(s=(r=n[h])!==null&&r!==void 0?r:t.readValue(h))!==null&&s!==void 0?s:e[h]),m!=null&&(typeof m=="string"&&(w1(m)||_1(m))?m=parseFloat(m):!eO(m)&&as.test(p)&&(m=v1(h,p)),t.addValue(h,Ea(m,{owner:t})),n[h]===void 0&&(n[h]=m),m!==null&&t.setBaseTarget(h,m))}}function iO(t,e){return e?(e[t]||e.default||e).from:void 0}function sO(t,e,n){const r={};for(const s in t){const a=iO(s,e);if(a!==void 0)r[s]=a;else{const l=n.getValue(s);l&&(r[s]=l.get())}}return r}function oO({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function aO(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function S1(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=t.makeTargetAnimatable(e);const h=t.getValue("willChange");r&&(a=r);const p=[],m=s&&t.animationState&&t.animationState.getState()[s];for(const y in c){const w=t.getValue(y),I=c[y];if(!w||I===void 0||m&&oO(m,y))continue;const R={delay:n,elapsed:0,...$g(a||{},y)};if(window.HandoffAppearAnimations){const B=t.getProps()[bS];if(B){const z=window.HandoffAppearAnimations(B,y,w,ht);z!==null&&(R.elapsed=z,R.isHandoff=!0)}}let N=!R.isHandoff&&!aO(w,I);if(R.type==="spring"&&(w.getVelocity()||R.velocity)&&(N=!1),w.animation&&(N=!1),N)continue;w.start(Wg(y,w,I,t.shouldReduceMotion&&fo.has(y)?{type:!1}:R));const V=w.animation;Jd(h)&&(h.add(y),V.then(()=>h.remove(y))),p.push(V)}return l&&Promise.all(p).then(()=>{l&&nO(t,l)}),p}function Fm(t,e,n={}){const r=Oh(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(S1(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:y}=s;return lO(t,e,p+h,m,y,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[h,p]=c==="beforeChildren"?[a,l]:[l,a];return h().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function lO(t,e,n=0,r=0,s=1,a){const l=[],c=(t.variantChildren.size-1)*r,h=s===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(t.variantChildren).sort(uO).forEach((p,m)=>{p.notify("AnimationStart",e),l.push(Fm(p,e,{...a,delay:n+h(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function uO(t,e){return t.sortNodePosition(e)}function cO(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Fm(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Fm(t,e,n);else{const s=typeof e=="function"?Oh(t,e,n.custom):e;r=Promise.all(S1(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const dO=[...Ag].reverse(),hO=Ag.length;function fO(t){return e=>Promise.all(e.map(({animation:n,options:r})=>cO(t,n,r)))}function pO(t){let e=fO(t);const n=gO();let r=!0;const s=(h,p)=>{const m=Oh(t,p);if(m){const{transition:y,transitionEnd:w,...I}=m;h={...h,...I,...w}}return h};function a(h){e=h(t)}function l(h,p){const m=t.getProps(),y=t.getVariantContext(!0)||{},w=[],I=new Set;let R={},N=1/0;for(let B=0;B<hO;B++){const z=dO[B],H=n[z],K=m[z]!==void 0?m[z]:y[z],F=lu(K),U=z===p?H.isActive:null;U===!1&&(N=B);let x=K===y[z]&&K!==m[z]&&F;if(x&&r&&t.manuallyAnimateOnMount&&(x=!1),H.protectedKeys={...R},!H.isActive&&U===null||!K&&!H.prevProp||Ch(K)||typeof K=="boolean")continue;let T=mO(H.prevProp,K)||z===p&&H.isActive&&!x&&F||B>N&&F,E=!1;const L=Array.isArray(K)?K:[K];let O=L.reduce(s,{});U===!1&&(O={});const{prevResolvedValues:C={}}=H,G={...C,...O},ue=se=>{T=!0,I.has(se)&&(E=!0,I.delete(se)),H.needsAnimating[se]=!0};for(const se in G){const P=O[se],oe=C[se];if(R.hasOwnProperty(se))continue;let q=!1;Gd(P)&&Gd(oe)?q=!qS(P,oe):q=P!==oe,q?P!==void 0?ue(se):I.add(se):P!==void 0&&I.has(se)?ue(se):H.protectedKeys[se]=!0}H.prevProp=K,H.prevResolvedValues=O,H.isActive&&(R={...R,...O}),r&&t.blockInitialAnimation&&(T=!1),T&&(!x||E)&&w.push(...L.map(se=>({animation:se,options:{type:z,...h}})))}if(I.size){const B={};I.forEach(z=>{const H=t.getBaseTarget(z);H!==void 0&&(B[z]=H)}),w.push({animation:B})}let V=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(V=!1),r=!1,V?e(w):Promise.resolve()}function c(h,p,m){var y;if(n[h].isActive===p)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(I=>{var R;return(R=I.animationState)===null||R===void 0?void 0:R.setActive(h,p)}),n[h].isActive=p;const w=l(m,h);for(const I in n)n[I].protectedKeys={};return w}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n}}function mO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qS(e,t):!1}function Ys(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gO(){return{animate:Ys(!0),whileInView:Ys(),whileHover:Ys(),whileTap:Ys(),whileDrag:Ys(),whileFocus:Ys(),exit:Ys()}}class yO extends ys{constructor(e){super(e),e.animationState||(e.animationState=pO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ch(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let vO=0;class _O extends ys{constructor(){super(...arguments),this.id=vO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const wO={animation:{Feature:yO},exit:{Feature:_O}},z0=(t,e)=>Math.abs(t-e);function EO(t,e){const n=z0(t.x,e.x),r=z0(t.y,e.y);return Math.sqrt(n**2+r**2)}class b1{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Xp(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,I=EO(y.offset,{x:0,y:0})>=3;if(!w&&!I)return;const{point:R}=y,{timestamp:N}=sn;this.history.push({...R,timestamp:N});const{onStart:V,onMove:B}=this.handlers;w||(V&&V(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Yp(w,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:I,onSessionEnd:R,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=Xp(y.type==="pointercancel"?this.lastMoveEventInfo:Yp(w,this.transformPagePoint),this.history);this.startEvent&&I&&I(y,V),R&&R(y,V)},!BS(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=kh(e),c=Yp(l,this.transformPagePoint),{point:h}=c,{timestamp:p}=sn;this.history=[{...h,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,Xp(c,this.history)),this.removeListeners=Zi(ci(this.contextWindow,"pointermove",this.handlePointerMove),ci(this.contextWindow,"pointerup",this.handlePointerUp),ci(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fi(this.updatePoint)}}function Yp(t,e){return e?{point:e(t.point)}:t}function H0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xp({point:t},e){return{point:t,delta:H0(t,I1(e)),offset:H0(t,TO(e)),velocity:SO(e,.1)}}function TO(t){return t[0]}function I1(t){return t[t.length-1]}function SO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=I1(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ro(e)));)n--;if(!r)return{x:0,y:0};const a=di(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Fn(t){return t.max-t.min}function Um(t,e=0,n=.01){return Math.abs(t-e)<=n}function $0(t,e,n,r=.5){t.origin=r,t.originPoint=wt(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),(Um(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=wt(n.min,n.max,t.origin)-t.originPoint,(Um(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Jl(t,e,n,r){$0(t.x,e.x,n.x,r?r.originX:void 0),$0(t.y,e.y,n.y,r?r.originY:void 0)}function W0(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function bO(t,e,n){W0(t.x,e.x,n.x),W0(t.y,e.y,n.y)}function q0(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function Zl(t,e,n){q0(t.x,e.x,n.x),q0(t.y,e.y,n.y)}function IO(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?wt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?wt(n,t,r.max):Math.min(t,n)),t}function K0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function xO(t,{top:e,left:n,bottom:r,right:s}){return{x:K0(t.x,n,s),y:K0(t.y,e,r)}}function G0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function PO(t,e){return{x:G0(t.x,e.x),y:G0(t.y,e.y)}}function CO(t,e){let n=.5;const r=Fn(t),s=Fn(e);return s>r?n=cu(e.min,e.max-r,t.min):r>s&&(n=cu(t.min,t.max-s,e.min)),os(0,1,n)}function RO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Bm=.35;function AO(t=Bm){return t===!1?t=0:t===!0&&(t=Bm),{x:Q0(t,"left","right"),y:Q0(t,"top","bottom")}}function Q0(t,e,n){return{min:Y0(t,e),max:Y0(t,n)}}function Y0(t,e){return typeof t=="number"?t:t[e]||0}const X0=()=>({translate:0,scale:1,origin:0,originPoint:0}),pa=()=>({x:X0(),y:X0()}),J0=()=>({min:0,max:0}),Dt=()=>({x:J0(),y:J0()});function Xn(t){return[t("x"),t("y")]}function x1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function kO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function OO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Jp(t){return t===void 0||t===1}function zm({scale:t,scaleX:e,scaleY:n}){return!Jp(t)||!Jp(e)||!Jp(n)}function Js(t){return zm(t)||P1(t)||t.z||t.rotate||t.rotateX||t.rotateY}function P1(t){return Z0(t.x)||Z0(t.y)}function Z0(t){return t&&t!=="0%"}function Zd(t,e,n){const r=t-n,s=e*r;return n+s}function ew(t,e,n,r,s){return s!==void 0&&(t=Zd(t,s,r)),Zd(t,n,r)+e}function Hm(t,e=0,n=1,r,s){t.min=ew(t.min,e,n,r,s),t.max=ew(t.max,e,n,r,s)}function C1(t,{x:e,y:n}){Hm(t.x,e.translate,e.scale,e.originPoint),Hm(t.y,n.translate,n.scale,n.originPoint)}function NO(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const h=a.instance;h&&h.style&&h.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ma(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,C1(t,l)),r&&Js(a.latestValues)&&ma(t,a.latestValues))}e.x=tw(e.x),e.y=tw(e.y)}function tw(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Wi(t,e){t.min=t.min+e,t.max=t.max+e}function nw(t,e,[n,r,s]){const a=e[s]!==void 0?e[s]:.5,l=wt(t.min,t.max,a);Hm(t,e[n],e[r],l,e.scale)}const DO=["x","scaleX","originX"],LO=["y","scaleY","originY"];function ma(t,e){nw(t.x,e,DO),nw(t.y,e,LO)}function R1(t,e){return x1(OO(t.getBoundingClientRect(),e))}function MO(t,e,n){const r=R1(t,n),{scroll:s}=e;return s&&(Wi(r.x,s.offset.x),Wi(r.y,s.offset.y)),r}const A1=({current:t})=>t?t.ownerDocument.defaultView:null,VO=new WeakMap;class jO{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kh(m,"page").point)},a=(m,y)=>{const{drag:w,dragPropagation:I,onDragStart:R}=this.getProps();if(w&&!I&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=HS(w),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(V=>{let B=this.getAxisMotionValue(V).get()||0;if(Mr.test(B)){const{projection:z}=this.visualElement;if(z&&z.layout){const H=z.layout.layoutBox[V];H&&(B=Fn(H)*(parseFloat(B)/100))}}this.originPoint[V]=B}),R&&ht.update(()=>R(m,y),!1,!0);const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},l=(m,y)=>{const{dragPropagation:w,dragDirectionLock:I,onDirectionLock:R,onDrag:N}=this.getProps();if(!w&&!this.openGlobalLock)return;const{offset:V}=y;if(I&&this.currentDirection===null){this.currentDirection=FO(V),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",y.point,V),this.updateAxis("y",y.point,V),this.visualElement.render(),N&&N(m,y)},c=(m,y)=>this.stop(m,y),h=()=>Xn(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new b1(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:A1(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&ht.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!od(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=IO(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&ha(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=xO(s.layoutBox,n):this.constraints=!1,this.elastic=AO(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=RO(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ha(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=MO(r,s.root,this.visualElement.getTransformPagePoint());let l=PO(s.layout.layoutBox,a);if(n){const c=n(kO(l));this.hasMutatedConstraints=!!c,c&&(l=x1(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},p=Xn(m=>{if(!od(m,n,this.currentDirection))return;let y=h&&h[m]||{};l&&(y={min:0,max:0});const w=s?200:1e6,I=s?40:1e7,R={type:"inertia",velocity:r?e[m]:0,bounceStiffness:w,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(m,R)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Wg(e,r,0,n))}stopAnimation(){Xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Xn(n=>{const{drag:r}=this.getProps();if(!od(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(e[n]-wt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ha(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Xn(l=>{const c=this.getAxisMotionValue(l);if(c){const h=c.get();s[l]=CO({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xn(l=>{if(!od(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];c.set(wt(h,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;VO.set(this.visualElement,this);const e=this.visualElement.current,n=ci(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();ha(h)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const l=oi(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Xn(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Bm,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function od(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function FO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class UO extends ys{constructor(e){super(e),this.removeGroupControls=At,this.removeListeners=At,this.controls=new jO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||At}unmount(){this.removeGroupControls(),this.removeListeners()}}const rw=t=>(e,n)=>{t&&ht.update(()=>t(e,n))};class BO extends ys{constructor(){super(...arguments),this.removePointerDownListener=At}onPointerDown(e){this.session=new b1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:A1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:rw(e),onStart:rw(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&ht.update(()=>s(a,l))}}}mount(){this.removePointerDownListener=ci(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function zO(){const t=X.useContext(Cg);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=X.useId();return X.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Od={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ne.test(t))t=parseFloat(t);else return t;const n=iw(t,e.target.x),r=iw(t,e.target.y);return`${n}% ${r}%`}},HO={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=as.parse(t);if(s.length>5)return r;const a=as.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=h;const p=wt(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class $O extends Lr.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;YR(WO),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Od.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||ht.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function k1(t){const[e,n]=zO(),r=X.useContext(xS);return Lr.createElement($O,{...t,layoutGroup:r,switchLayoutGroup:X.useContext(PS),isPresent:e,safeToRemove:n})}const WO={borderRadius:{...jl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jl,borderTopRightRadius:jl,borderBottomLeftRadius:jl,borderBottomRightRadius:jl,boxShadow:HO},O1=["TopLeft","TopRight","BottomLeft","BottomRight"],qO=O1.length,sw=t=>typeof t=="string"?parseFloat(t):t,ow=t=>typeof t=="number"||Ne.test(t);function KO(t,e,n,r,s,a){s?(t.opacity=wt(0,n.opacity!==void 0?n.opacity:1,GO(r)),t.opacityExit=wt(e.opacity!==void 0?e.opacity:1,0,QO(r))):a&&(t.opacity=wt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<qO;l++){const c=`border${O1[l]}Radius`;let h=aw(e,c),p=aw(n,c);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||ow(h)===ow(p)?(t[c]=Math.max(wt(sw(h),sw(p),r),0),(Mr.test(p)||Mr.test(h))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=wt(e.rotate||0,n.rotate||0,r))}function aw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GO=N1(0,.5,t1),QO=N1(.5,.95,At);function N1(t,e,n){return r=>r<t?0:r>e?1:n(cu(t,e,r))}function lw(t,e){t.min=e.min,t.max=e.max}function Yn(t,e){lw(t.x,e.x),lw(t.y,e.y)}function uw(t,e,n,r,s){return t-=e,t=Zd(t,1/n,r),s!==void 0&&(t=Zd(t,1/s,r)),t}function YO(t,e=0,n=1,r=.5,s,a=t,l=t){if(Mr.test(e)&&(e=parseFloat(e),e=wt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=wt(a.min,a.max,r);t===a&&(c-=e),t.min=uw(t.min,e,n,c,s),t.max=uw(t.max,e,n,c,s)}function cw(t,e,[n,r,s],a,l){YO(t,e[n],e[r],e[s],e.scale,a,l)}const XO=["x","scaleX","originX"],JO=["y","scaleY","originY"];function dw(t,e,n,r){cw(t.x,e,XO,n?n.x:void 0,r?r.x:void 0),cw(t.y,e,JO,n?n.y:void 0,r?r.y:void 0)}function hw(t){return t.translate===0&&t.scale===1}function D1(t){return hw(t.x)&&hw(t.y)}function ZO(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function L1(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function fw(t){return Fn(t.x)/Fn(t.y)}class e2{constructor(){this.members=[]}add(e){qg(this.members,e),e.scheduleRender()}remove(e){if(Kg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pw(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y;if((s||a)&&(r=`translate3d(${s}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:h,rotateX:p,rotateY:m}=n;h&&(r+=`rotate(${h}deg) `),p&&(r+=`rotateX(${p}deg) `),m&&(r+=`rotateY(${m}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const t2=(t,e)=>t.depth-e.depth;class n2{constructor(){this.children=[],this.isDirty=!1}add(e){qg(this.children,e),this.isDirty=!0}remove(e){Kg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(t2),this.isDirty=!1,this.children.forEach(e)}}function r2(t,e){const n=performance.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(fi(r),t(a-e))};return ht.read(r,!0),()=>fi(r)}function i2(t){window.MotionDebug&&window.MotionDebug.record(t)}function s2(t){return t instanceof SVGElement&&t.tagName!=="svg"}function o2(t,e,n){const r=Cn(t)?t:Ea(t);return r.start(Wg("",r,e,n)),r.animation}const mw=["","X","Y","Z"],a2={visibility:"hidden"},gw=1e3;let l2=0;const Zs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function M1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=l2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Zs.totalNodes=Zs.resolvedTargetDeltas=Zs.recalculatedProjection=0,this.nodes.forEach(d2),this.nodes.forEach(g2),this.nodes.forEach(y2),this.nodes.forEach(h2),i2(Zs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new n2)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Gg),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=s2(l),this.instance=l;const{layoutId:h,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||h)&&(this.isLayoutDirty=!0),t){let y;const w=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=r2(w,250),Od.hasAnimatedSinceResize&&(Od.hasAnimatedSinceResize=!1,this.nodes.forEach(vw))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeTargetChanged:I,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||m.getDefaultTransition()||T2,{onLayoutAnimationStart:V,onLayoutAnimationComplete:B}=m.getProps(),z=!this.targetLayout||!L1(this.targetLayout,R)||I,H=!w&&I;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||H||w&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,H);const K={...$g(N,"layout"),onPlay:V,onComplete:B};(m.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K)}else w||vw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v2),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yw);return}this.isUpdating||this.nodes.forEach(p2),this.isUpdating=!1,this.nodes.forEach(m2),this.nodes.forEach(u2),this.nodes.forEach(c2),this.clearAllSnapshots();const c=performance.now();sn.delta=os(0,1e3/60,c-sn.timestamp),sn.timestamp=c,sn.isProcessing=!0,zp.update.process(sn),zp.preRender.process(sn),zp.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(f2),this.sharedNodes.forEach(_2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!D1(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&(c||Js(this.latestValues)||m)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),S2(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Dt();const c=l.measureViewportBox(),{scroll:h}=this.root;return h&&(Wi(c.x,h.offset.x),Wi(c.y,h.offset.y)),c}removeElementScroll(l){const c=Dt();Yn(c,l);for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:m,options:y}=p;if(p!==this.root&&m&&y.layoutScroll){if(m.isRoot){Yn(c,l);const{scroll:w}=this.root;w&&(Wi(c.x,-w.offset.x),Wi(c.y,-w.offset.y))}Wi(c.x,m.offset.x),Wi(c.y,m.offset.y)}}return c}applyTransform(l,c=!1){const h=Dt();Yn(h,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ma(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Js(m.latestValues)&&ma(h,m.latestValues)}return Js(this.latestValues)&&ma(h,this.latestValues),h}removeTransform(l){const c=Dt();Yn(c,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Js(p.latestValues))continue;zm(p.latestValues)&&p.updateSnapshot();const m=Dt(),y=p.measurePageBox();Yn(m,y),dw(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Js(this.latestValues)&&dw(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:y,layoutId:w}=this.options;if(!(!this.layout||!(y||w))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),Zl(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),C1(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),Zl(this.relativeTargetOrigin,this.target,I.target),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Zs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zm(this.parent.latestValues)||P1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(p=!1),p)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Yn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,I=this.treeScale.y;NO(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:R}=c;if(!R){this.projectionTransform&&(this.projectionDelta=pa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=pa(),this.projectionDeltaWithTransform=pa());const N=this.projectionTransform;Jl(this.projectionDelta,this.layoutCorrected,R,this.latestValues),this.projectionTransform=pw(this.projectionDelta,this.treeScale),(this.projectionTransform!==N||this.treeScale.x!==w||this.treeScale.y!==I)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R)),Zs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,c=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},y=pa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=Dt(),I=h?h.source:void 0,R=this.layout?this.layout.source:void 0,N=I!==R,V=this.getStack(),B=!V||V.members.length<=1,z=!!(N&&!B&&this.options.crossfade===!0&&!this.path.some(E2));this.animationProgress=0;let H;this.mixTargetDelta=K=>{const F=K/1e3;_w(y.x,l.x,F),_w(y.y,l.y,F),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),w2(this.relativeTarget,this.relativeTargetOrigin,w,F),H&&ZO(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Dt()),Yn(H,this.relativeTarget)),N&&(this.animationValues=m,KO(m,p,this.latestValues,F,z,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Od.hasAnimatedSinceResize=!0,this.currentAnimation=o2(0,gw,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:p,latestValues:m}=l;if(!(!c||!h||!p)){if(this!==l&&this.layout&&p&&V1(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Dt();const y=Fn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const w=Fn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+w}Yn(c,h),ma(c,m),Jl(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new e2),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.rotate||h.rotateX||h.rotateY||h.rotateZ)&&(c=!0),!c)return;const p={};for(let m=0;m<mw.length;m++){const y="rotate"+mw[m];h[y]&&(p[y]=h[y],l.setStaticValue(y,0))}l.render();for(const m in p)l.setStaticValue(m,p[m]);l.scheduleRender()}getProjectionStyles(l){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return a2;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=kd(l==null?void 0:l.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=kd(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Js(this.latestValues)&&(N.transform=m?m({},""):"none",this.hasProjected=!1),N}const w=y.animationValues||y.latestValues;this.applyTransformsToTarget(),p.transform=pw(this.projectionDeltaWithTransform,this.treeScale,w),m&&(p.transform=m(w,p.transform));const{x:I,y:R}=this.projectionDelta;p.transformOrigin=`${I.origin*100}% ${R.origin*100}% 0`,y.animationValues?p.opacity=y===this?(h=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=y===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const N in qd){if(w[N]===void 0)continue;const{correct:V,applyTo:B}=qd[N],z=p.transform==="none"?w[N]:V(w[N],y);if(B){const H=B.length;for(let K=0;K<H;K++)p[B[K]]=z}else p[N]=z}return this.options.layoutId&&(p.pointerEvents=y===this?kd(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(yw),this.root.sharedNodes.clear()}}}function u2(t){t.updateLayout()}function c2(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Xn(y=>{const w=l?n.measuredBox[y]:n.layoutBox[y],I=Fn(w);w.min=r[y].min,w.max=w.min+I}):V1(a,n.layoutBox,r)&&Xn(y=>{const w=l?n.measuredBox[y]:n.layoutBox[y],I=Fn(r[y]);w.max=w.min+I,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+I)});const c=pa();Jl(c,r,n.layoutBox);const h=pa();l?Jl(h,t.applyTransform(s,!0),n.measuredBox):Jl(h,r,n.layoutBox);const p=!D1(c);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:I}=y;if(w&&I){const R=Dt();Zl(R,n.layoutBox,w.layoutBox);const N=Dt();Zl(N,r,I.layoutBox),L1(R,N)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=R,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function d2(t){Zs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function h2(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function f2(t){t.clearSnapshot()}function yw(t){t.clearMeasurements()}function p2(t){t.isLayoutDirty=!1}function m2(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function vw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function g2(t){t.resolveTargetDelta()}function y2(t){t.calcProjection()}function v2(t){t.resetRotation()}function _2(t){t.removeLeadSnapshot()}function _w(t,e,n){t.translate=wt(e.translate,0,n),t.scale=wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ww(t,e,n,r){t.min=wt(e.min,n.min,r),t.max=wt(e.max,n.max,r)}function w2(t,e,n,r){ww(t.x,e.x,n.x,r),ww(t.y,e.y,n.y,r)}function E2(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const T2={duration:.45,ease:[.4,0,.1,1]},Ew=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Tw=Ew("applewebkit/")&&!Ew("chrome/")?Math.round:At;function Sw(t){t.min=Tw(t.min),t.max=Tw(t.max)}function S2(t){Sw(t.x),Sw(t.y)}function V1(t,e,n){return t==="position"||t==="preserve-aspect"&&!Um(fw(e),fw(n),.2)}const b2=M1({attachResizeListener:(t,e)=>oi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zp={current:void 0},j1=M1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Zp.current){const t=new b2({});t.mount(window),t.setOptions({layoutScroll:!0}),Zp.current=t}return Zp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),I2={pan:{Feature:BO},drag:{Feature:UO,ProjectionNode:j1,MeasureLayout:k1}},x2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function P2(t){const e=x2.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function $m(t,e,n=1){const[r,s]=P2(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return w1(l)?parseFloat(l):l}else return Nm(s)?$m(s,e,n+1):s}function C2(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const a=s.get();if(!Nm(a))return;const l=$m(a,r);l&&s.set(l)});for(const s in e){const a=e[s];if(!Nm(a))continue;const l=$m(a,r);l&&(e[s]=l,n||(n={}),n[s]===void 0&&(n[s]=a))}return{target:e,transitionEnd:n}}const R2=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),F1=t=>R2.has(t),A2=t=>Object.keys(t).some(F1),bw=t=>t===po||t===Ne,Iw=(t,e)=>parseFloat(t.split(", ")[e]),xw=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Iw(s[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?Iw(a[1],t):0}},k2=new Set(["x","y","z"]),O2=bu.filter(t=>!k2.has(t));function N2(t){const e=[];return O2.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ta={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:xw(4,13),y:xw(5,14)};Ta.translateX=Ta.x;Ta.translateY=Ta.y;const D2=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,a=getComputedStyle(s),{display:l}=a,c={};l==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(p=>{c[p]=Ta[p](r,a)}),e.render();const h=e.measureViewportBox();return n.forEach(p=>{const m=e.getValue(p);m&&m.jump(c[p]),t[p]=Ta[p](h,a)}),t},L2=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(F1);let a=[],l=!1;const c=[];if(s.forEach(h=>{const p=t.getValue(h);if(!t.hasValue(h))return;let m=n[h],y=Vl(m);const w=e[h];let I;if(Gd(w)){const R=w.length,N=w[0]===null?1:0;m=w[N],y=Vl(m);for(let V=N;V<R&&w[V]!==null;V++)I?Fg(Vl(w[V])===I):I=Vl(w[V])}else I=Vl(w);if(y!==I)if(bw(y)&&bw(I)){const R=p.get();typeof R=="string"&&p.set(parseFloat(R)),typeof w=="string"?e[h]=parseFloat(w):Array.isArray(w)&&I===Ne&&(e[h]=w.map(parseFloat))}else y!=null&&y.transform&&(I!=null&&I.transform)&&(m===0||w===0)?m===0?p.set(I.transform(m)):e[h]=y.transform(w):(l||(a=N2(t),l=!0),c.push(h),r[h]=r[h]!==void 0?r[h]:e[h],p.jump(w))}),c.length){const h=c.indexOf("height")>=0?window.pageYOffset:null,p=D2(e,t,c);return a.length&&a.forEach(([m,y])=>{t.getValue(m).set(y)}),t.render(),Ph&&h!==null&&window.scrollTo({top:h}),{target:p,transitionEnd:r}}else return{target:e,transitionEnd:r}};function M2(t,e,n,r){return A2(e)?L2(t,e,n,r):{target:e,transitionEnd:r}}const V2=(t,e,n,r)=>{const s=C2(t,e,r);return e=s.target,r=s.transitionEnd,M2(t,e,n,r)},eh={current:null},Qg={current:!1};function U1(){if(Qg.current=!0,!!Ph)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>eh.current=t.matches;t.addListener(e),e()}else eh.current=!1}function j2(t,e,n){const{willChange:r}=e;for(const s in e){const a=e[s],l=n[s];if(Cn(a))t.addValue(s,a),Jd(r)&&r.add(s);else if(Cn(l))t.addValue(s,Ea(a,{owner:t})),Jd(r)&&r.remove(s);else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);!c.hasAnimated&&c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,Ea(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Pw=new WeakMap,B1=Object.keys(uu),F2=B1.length,Cw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],U2=kg.length;class B2{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ht.render(this.render,!1,!0);const{latestValues:c,renderState:h}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.isControllingVariants=Rh(n),this.isVariantNode=IS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{});for(const y in m){const w=m[y];c[y]!==void 0&&Cn(w)&&(w.set(c[y],!1),Jd(p)&&p.add(y))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Pw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Qg.current||U1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:eh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Pw.delete(this.current),this.projection&&this.projection.unmount(),fi(this.notifyUpdate),fi(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=fo.has(e),s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ht.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,a){let l,c;for(let h=0;h<F2;h++){const p=B1[h],{isEnabled:m,Feature:y,ProjectionNode:w,MeasureLayout:I}=uu[p];w&&(l=w),m(n)&&(!this.features[p]&&y&&(this.features[p]=new y(this)),I&&(c=I))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:h,layout:p,drag:m,dragConstraints:y,layoutScroll:w,layoutRoot:I}=n;this.projection.setOptions({layoutId:h,layout:p,alwaysMeasureLayout:!!m||y&&ha(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:a,layoutScroll:w,layoutRoot:I})}return c}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Cw.length;r++){const s=Cw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a=e["on"+s];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=j2(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<U2;r++){const s=kg[r],a=this.props[s];(lu(a)||a===!1)&&(n[s]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ea(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=jg(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Cn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Gg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class z1 extends B2{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},a){let l=sO(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),l&&(l=s(l))),a){rO(this,r,l);const c=V2(this,r,l,n);n=c.transitionEnd,r=c.target}return{transition:e,transitionEnd:n,...r}}}function z2(t){return window.getComputedStyle(t)}class H2 extends z1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(fo.has(n)){const r=Hg(n);return r&&r.default||0}else{const r=z2(e),s=(AS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return R1(e,n)}build(e,n,r,s){Ng(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Vg(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){MS(e,n,r,s)}}class $2 extends z1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fo.has(n)){const r=Hg(n);return r&&r.default||0}return n=VS.has(n)?n:Rg(n),e.getAttribute(n)}measureInstanceViewportBox(){return Dt()}scrapeMotionValuesFromProps(e,n){return FS(e,n)}build(e,n,r,s){Lg(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){jS(e,n,r,s)}mount(e){this.isSVGTag=Mg(e.tagName),super.mount(e)}}const W2=(t,e)=>Og(t)?new $2(e,{enableHardwareAcceleration:!1}):new H2(e,{enableHardwareAcceleration:!0}),q2={layout:{ProjectionNode:j1,MeasureLayout:k1}},K2={...wO,...UA,...I2,...q2},H1=GR((t,e)=>PA(t,e,K2,W2));function G2(){!Qg.current&&U1();const[t]=X.useState(eh.current);return t}const Q2=X.createContext(!1),Y2={once:!0,margin:"0px 0px -200px"};function ls(t){let e=G2(),n=X.useContext(Q2);return M.jsx(H1.div,{variants:{hidden:{opacity:0,y:e?0:24},visible:{opacity:1,y:0}},transition:{duration:.5},...n?{}:{initial:"hidden",whileInView:"visible",viewport:Y2},...t})}const X2=()=>M.jsxs(ls,{className:"w-full lgl:w-1/2 flex flex-col gap-20",children:[M.jsxs("div",{className:"flex flex-col gap-5",children:[M.jsxs("h1",{className:"text-6xl font-bold text-black font-Arial",children:["Hi, we are ",M.jsx("span",{className:" text-lime-400 capitalize",children:"MyLaoSmile"})]}),M.jsx("h2",{className:"text-4xl font-bold text-gray-400",children:"a non-profit organization aimed at spreading Smiles."}),M.jsx("p",{className:"text-base font-titleFont text-xl leading-6 tracking-wider text-black",children:"MyLaoSmile is an alliance of healthcare professionals based in Singapore working together to treat patients with burns and other facial deformities. Through deliving free surgical aid to the underpriviledged in Laos, we aim to spread smiles and deliver care accross borders, building a smilier world for all."})]}),M.jsx("div",{className:"flex flex-col xl:flex-row gap-6 lgl:gap-0 justify-between",children:M.jsxs("div",{children:[M.jsx("h2",{className:"text-base uppercase font-titleFont mb-4 text-black",children:"Find us at"}),M.jsxs("div",{className:"flex gap-4",children:[M.jsx("a",{href:"https://youtu.be/_dih2JOb2C8",target:"_blank",children:M.jsx("span",{className:"bannerIcon",children:M.jsx(ES,{})})}),M.jsx("a",{href:"https://www.instagram.com/mountelizabethhospitals/p/C0d2R7lInFg/?next=%2Frubykantor%2F&hl=ja&img_index=1",target:"_blank",children:M.jsx("span",{className:"bannerIcon",children:M.jsx(wS,{})})}),M.jsx("a",{href:"https://www.facebook.com/watch/?v=1032449527847176",target:"_blank",children:M.jsx("span",{className:"bannerIcon",children:M.jsx(_S,{})})})]})]})})]}),Rw="/assets/logo-gwQUs5jX.png",J2="/assets/bannerImg-D1_ia6We.png",Z2=()=>M.jsxs(ls,{className:"w-full lgl:w-1/2 flex justify-center items-center relative",children:[M.jsx("img",{className:"w-[300px] h-[400px] lgl:w-[500px] lgl:h-[680px] z-10",src:J2,alt:"bannerImg"}),M.jsx("div",{className:"absolute bottom-0 w-[350px] h-[300px] lgl:w-[500px] lgl:h-[500px] bg-gradient-to-r from-[#1e2024] to-[#0B1120] shadow-shadowOne flex justify-center items-center"})]}),eN=()=>M.jsxs("section",{id:"home",className:"w-full pt-10 pb-20 flex flex-col gap-10 xl:gap-0 lgl:flex-row items-center border-b-[1px] font-titleFont border-b-gray-700",children:[M.jsx(X2,{}),M.jsx(Z2,{})]}),du=({title:t,des:e})=>M.jsxs("div",{className:"flex flex-col gap-4 font-titleFont mb-14",children:[M.jsx("h3",{className:"text-sm uppercase font-light text-designColor tracking-wide",children:t}),M.jsx("h1",{className:"text-4xl md:text-5xl text-gray-300 font-bold capitalize",children:e})]}),tN=()=>{};var Aw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},nN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},W1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,h=s+2<t.length,p=h?t[s+2]:0,m=a>>2,y=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,I=p&63;h||(I=64,l||(w=64)),r.push(n[m],n[y],n[w],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||p==null||y==null)throw new rN;const w=a<<2|c>>4;if(r.push(w),p!==64){const I=c<<4&240|p>>2;if(r.push(I),y!==64){const R=p<<6&192|y;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iN=function(t){const e=$1(t);return W1.encodeByteArray(e,!0)},th=function(t){return iN(t).replace(/\./g,"")},q1=function(t){try{return W1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=()=>sN().__FIREBASE_DEFAULTS__,aN=()=>{if(typeof process>"u"||typeof Aw>"u")return;const t=Aw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q1(t[1]);return e&&JSON.parse(e)},Nh=()=>{try{return tN()||oN()||aN()||lN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},K1=t=>{var e,n;return(n=(e=Nh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},G1=t=>{const e=K1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Q1=()=>{var t;return(t=Nh())===null||t===void 0?void 0:t.config},Y1=t=>{var e;return(e=Nh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t){return t.endsWith(".cloudworkstations.dev")}async function Yg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[th(JSON.stringify(n)),th(JSON.stringify(l)),""].join(".")}const eu={};function cN(){const t={prod:[],emulator:[]};for(const e of Object.keys(eu))eu[e]?t.emulator.push(e):t.prod.push(e);return t}function dN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kw=!1;function Xg(t,e){if(typeof window>"u"||typeof document>"u"||!vs(window.location.host)||eu[t]===e||eu[t]||kw)return;eu[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=cN().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{kw=!0,l()},w}function m(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=dN(r),I=n("text"),R=document.getElementById(I)||document.createElement("span"),N=n("learnmore"),V=document.getElementById(N)||document.createElement("a"),B=n("preprendIcon"),z=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const H=w.element;c(H),m(V,N);const K=p();h(z,B),H.append(z,R,V,K),document.body.appendChild(H)}a?(R.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function fN(){var t;const e=(t=Nh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yN(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vN(){return!fN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _N(){try{return typeof indexedDB=="object"}catch{return!1}}function wN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="FirebaseError";class $r extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=EN,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?TN(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new $r(s,c,r)}}function TN(t,e){return t.replace(SN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const SN=/\{\$([^}]+)}/g;function bN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Ow(a)&&Ow(l)){if(!so(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ow(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function ql(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IN(t,e){const n=new xN(t,e);return n.subscribe.bind(n)}class xN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=em),s.error===void 0&&(s.error=em),s.complete===void 0&&(s.complete=em);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class us{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AN(e))try{this.getOrInitializeService({instanceIdentifier:eo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=eo){return this.instances.has(e)}getOptions(e=eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=eo){return this.component?this.component.multipleInstances?e:eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RN(t){return t===eo?void 0:t}function AN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const ON={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},NN=qe.INFO,DN={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},LN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=DN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jg{constructor(e){this.name=e,this._logLevel=NN,this._logHandler=LN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ON[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const MN=(t,e)=>e.some(n=>t instanceof n);let Nw,Dw;function VN(){return Nw||(Nw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jN(){return Dw||(Dw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J1=new WeakMap,Wm=new WeakMap,Z1=new WeakMap,tm=new WeakMap,Zg=new WeakMap;function FN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(es(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&J1.set(n,t)}).catch(()=>{}),Zg.set(e,t),e}function UN(t){if(Wm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Wm.set(t,e)}let qm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Z1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BN(t){qm=t(qm)}function zN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nm(this),e,...n);return Z1.set(r,e.sort?e.sort():[e]),es(r)}:jN().includes(t)?function(...e){return t.apply(nm(this),e),es(J1.get(this))}:function(...e){return es(t.apply(nm(this),e))}}function HN(t){return typeof t=="function"?zN(t):(t instanceof IDBTransaction&&UN(t),MN(t,VN())?new Proxy(t,qm):t)}function es(t){if(t instanceof IDBRequest)return FN(t);if(tm.has(t))return tm.get(t);const e=HN(t);return e!==t&&(tm.set(t,e),Zg.set(e,t)),e}const nm=t=>Zg.get(t);function $N(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=es(l);return r&&l.addEventListener("upgradeneeded",h=>{r(es(l.result),h.oldVersion,h.newVersion,es(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const WN=["get","getKey","getAll","getAllKeys","count"],qN=["put","add","delete","clear"],rm=new Map;function Lw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=qN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WN.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&h.done]))[0]};return rm.set(e,a),a}BN(t=>({...t,get:(e,n,r)=>Lw(e,n)||t.get(e,n,r),has:(e,n)=>!!Lw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Km="@firebase/app",Mw="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new Jg("@firebase/app"),QN="@firebase/app-compat",YN="@firebase/analytics-compat",XN="@firebase/analytics",JN="@firebase/app-check-compat",ZN="@firebase/app-check",eD="@firebase/auth",tD="@firebase/auth-compat",nD="@firebase/database",rD="@firebase/data-connect",iD="@firebase/database-compat",sD="@firebase/functions",oD="@firebase/functions-compat",aD="@firebase/installations",lD="@firebase/installations-compat",uD="@firebase/messaging",cD="@firebase/messaging-compat",dD="@firebase/performance",hD="@firebase/performance-compat",fD="@firebase/remote-config",pD="@firebase/remote-config-compat",mD="@firebase/storage",gD="@firebase/storage-compat",yD="@firebase/firestore",vD="@firebase/ai",_D="@firebase/firestore-compat",wD="firebase",ED="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="[DEFAULT]",TD={[Km]:"fire-core",[QN]:"fire-core-compat",[XN]:"fire-analytics",[YN]:"fire-analytics-compat",[ZN]:"fire-app-check",[JN]:"fire-app-check-compat",[eD]:"fire-auth",[tD]:"fire-auth-compat",[nD]:"fire-rtdb",[rD]:"fire-data-connect",[iD]:"fire-rtdb-compat",[sD]:"fire-fn",[oD]:"fire-fn-compat",[aD]:"fire-iid",[lD]:"fire-iid-compat",[uD]:"fire-fcm",[cD]:"fire-fcm-compat",[dD]:"fire-perf",[hD]:"fire-perf-compat",[fD]:"fire-rc",[pD]:"fire-rc-compat",[mD]:"fire-gcs",[gD]:"fire-gcs-compat",[yD]:"fire-fst",[_D]:"fire-fst-compat",[vD]:"fire-vertex","fire-js":"fire-js",[wD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,SD=new Map,Qm=new Map;function Vw(t,e){try{t.container.addComponent(e)}catch(n){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oo(t){const e=t.name;if(Qm.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,t);for(const n of nh.values())Vw(n,t);for(const n of SD.values())Vw(n,t);return!0}function Dh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new Cu("app","Firebase",bD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=ED;function eb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gm,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw ts.create("bad-app-name",{appName:String(s)});if(n||(n=Q1()),!n)throw ts.create("no-options");const a=nh.get(s);if(a){if(so(n,a.options)&&so(r,a.config))return a;throw ts.create("duplicate-app",{appName:s})}const l=new kN(s);for(const h of Qm.values())l.addComponent(h);const c=new ID(n,r,l);return nh.set(s,c),c}function ey(t=Gm){const e=nh.get(t);if(!e&&t===Gm&&Q1())return eb();if(!e)throw ts.create("no-app",{appName:t});return e}function Vr(t,e,n){var r;let s=(r=TD[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(c.join(" "));return}oo(new us(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="firebase-heartbeat-database",PD=1,hu="firebase-heartbeat-store";let im=null;function tb(){return im||(im=$N(xD,PD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ts.create("idb-open",{originalErrorMessage:t.message})})),im}async function CD(t){try{const n=(await tb()).transaction(hu),r=await n.objectStore(hu).get(nb(t));return await n.done,r}catch(e){if(e instanceof $r)pi.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pi.warn(n.message)}}}async function jw(t,e){try{const r=(await tb()).transaction(hu,"readwrite");await r.objectStore(hu).put(e,nb(t)),await r.done}catch(n){if(n instanceof $r)pi.warn(n.message);else{const r=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pi.warn(r.message)}}}function nb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=1024,AD=30;class kD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ND(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Fw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>AD){const l=DD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fw(),{heartbeatsToSend:r,unsentEntries:s}=OD(this._heartbeatsCache.heartbeats),a=th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return pi.warn(n),""}}}function Fw(){return new Date().toISOString().substring(0,10)}function OD(t,e=RD){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Uw(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Uw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ND{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _N()?wN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Uw(t){return th(JSON.stringify({version:2,heartbeats:t})).length}function DD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t){oo(new us("platform-logger",e=>new KN(e),"PRIVATE")),oo(new us("heartbeat",e=>new kD(e),"PRIVATE")),Vr(Km,Mw,t),Vr(Km,Mw,"esm2017"),Vr("fire-js","")}LD("");var Bw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,rb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function T(){}T.prototype=A.prototype,x.D=A.prototype,x.prototype=new T,x.prototype.constructor=x,x.C=function(E,L,O){for(var C=Array(arguments.length-2),G=2;G<arguments.length;G++)C[G-2]=arguments[G];return A.prototype[L].apply(E,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,A,T){T||(T=0);var E=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)E[L]=A.charCodeAt(T++)|A.charCodeAt(T++)<<8|A.charCodeAt(T++)<<16|A.charCodeAt(T++)<<24;else for(L=0;16>L;++L)E[L]=A[T++]|A[T++]<<8|A[T++]<<16|A[T++]<<24;A=x.g[0],T=x.g[1],L=x.g[2];var O=x.g[3],C=A+(O^T&(L^O))+E[0]+3614090360&4294967295;A=T+(C<<7&4294967295|C>>>25),C=O+(L^A&(T^L))+E[1]+3905402710&4294967295,O=A+(C<<12&4294967295|C>>>20),C=L+(T^O&(A^T))+E[2]+606105819&4294967295,L=O+(C<<17&4294967295|C>>>15),C=T+(A^L&(O^A))+E[3]+3250441966&4294967295,T=L+(C<<22&4294967295|C>>>10),C=A+(O^T&(L^O))+E[4]+4118548399&4294967295,A=T+(C<<7&4294967295|C>>>25),C=O+(L^A&(T^L))+E[5]+1200080426&4294967295,O=A+(C<<12&4294967295|C>>>20),C=L+(T^O&(A^T))+E[6]+2821735955&4294967295,L=O+(C<<17&4294967295|C>>>15),C=T+(A^L&(O^A))+E[7]+4249261313&4294967295,T=L+(C<<22&4294967295|C>>>10),C=A+(O^T&(L^O))+E[8]+1770035416&4294967295,A=T+(C<<7&4294967295|C>>>25),C=O+(L^A&(T^L))+E[9]+2336552879&4294967295,O=A+(C<<12&4294967295|C>>>20),C=L+(T^O&(A^T))+E[10]+4294925233&4294967295,L=O+(C<<17&4294967295|C>>>15),C=T+(A^L&(O^A))+E[11]+2304563134&4294967295,T=L+(C<<22&4294967295|C>>>10),C=A+(O^T&(L^O))+E[12]+1804603682&4294967295,A=T+(C<<7&4294967295|C>>>25),C=O+(L^A&(T^L))+E[13]+4254626195&4294967295,O=A+(C<<12&4294967295|C>>>20),C=L+(T^O&(A^T))+E[14]+2792965006&4294967295,L=O+(C<<17&4294967295|C>>>15),C=T+(A^L&(O^A))+E[15]+1236535329&4294967295,T=L+(C<<22&4294967295|C>>>10),C=A+(L^O&(T^L))+E[1]+4129170786&4294967295,A=T+(C<<5&4294967295|C>>>27),C=O+(T^L&(A^T))+E[6]+3225465664&4294967295,O=A+(C<<9&4294967295|C>>>23),C=L+(A^T&(O^A))+E[11]+643717713&4294967295,L=O+(C<<14&4294967295|C>>>18),C=T+(O^A&(L^O))+E[0]+3921069994&4294967295,T=L+(C<<20&4294967295|C>>>12),C=A+(L^O&(T^L))+E[5]+3593408605&4294967295,A=T+(C<<5&4294967295|C>>>27),C=O+(T^L&(A^T))+E[10]+38016083&4294967295,O=A+(C<<9&4294967295|C>>>23),C=L+(A^T&(O^A))+E[15]+3634488961&4294967295,L=O+(C<<14&4294967295|C>>>18),C=T+(O^A&(L^O))+E[4]+3889429448&4294967295,T=L+(C<<20&4294967295|C>>>12),C=A+(L^O&(T^L))+E[9]+568446438&4294967295,A=T+(C<<5&4294967295|C>>>27),C=O+(T^L&(A^T))+E[14]+3275163606&4294967295,O=A+(C<<9&4294967295|C>>>23),C=L+(A^T&(O^A))+E[3]+4107603335&4294967295,L=O+(C<<14&4294967295|C>>>18),C=T+(O^A&(L^O))+E[8]+1163531501&4294967295,T=L+(C<<20&4294967295|C>>>12),C=A+(L^O&(T^L))+E[13]+2850285829&4294967295,A=T+(C<<5&4294967295|C>>>27),C=O+(T^L&(A^T))+E[2]+4243563512&4294967295,O=A+(C<<9&4294967295|C>>>23),C=L+(A^T&(O^A))+E[7]+1735328473&4294967295,L=O+(C<<14&4294967295|C>>>18),C=T+(O^A&(L^O))+E[12]+2368359562&4294967295,T=L+(C<<20&4294967295|C>>>12),C=A+(T^L^O)+E[5]+4294588738&4294967295,A=T+(C<<4&4294967295|C>>>28),C=O+(A^T^L)+E[8]+2272392833&4294967295,O=A+(C<<11&4294967295|C>>>21),C=L+(O^A^T)+E[11]+1839030562&4294967295,L=O+(C<<16&4294967295|C>>>16),C=T+(L^O^A)+E[14]+4259657740&4294967295,T=L+(C<<23&4294967295|C>>>9),C=A+(T^L^O)+E[1]+2763975236&4294967295,A=T+(C<<4&4294967295|C>>>28),C=O+(A^T^L)+E[4]+1272893353&4294967295,O=A+(C<<11&4294967295|C>>>21),C=L+(O^A^T)+E[7]+4139469664&4294967295,L=O+(C<<16&4294967295|C>>>16),C=T+(L^O^A)+E[10]+3200236656&4294967295,T=L+(C<<23&4294967295|C>>>9),C=A+(T^L^O)+E[13]+681279174&4294967295,A=T+(C<<4&4294967295|C>>>28),C=O+(A^T^L)+E[0]+3936430074&4294967295,O=A+(C<<11&4294967295|C>>>21),C=L+(O^A^T)+E[3]+3572445317&4294967295,L=O+(C<<16&4294967295|C>>>16),C=T+(L^O^A)+E[6]+76029189&4294967295,T=L+(C<<23&4294967295|C>>>9),C=A+(T^L^O)+E[9]+3654602809&4294967295,A=T+(C<<4&4294967295|C>>>28),C=O+(A^T^L)+E[12]+3873151461&4294967295,O=A+(C<<11&4294967295|C>>>21),C=L+(O^A^T)+E[15]+530742520&4294967295,L=O+(C<<16&4294967295|C>>>16),C=T+(L^O^A)+E[2]+3299628645&4294967295,T=L+(C<<23&4294967295|C>>>9),C=A+(L^(T|~O))+E[0]+4096336452&4294967295,A=T+(C<<6&4294967295|C>>>26),C=O+(T^(A|~L))+E[7]+1126891415&4294967295,O=A+(C<<10&4294967295|C>>>22),C=L+(A^(O|~T))+E[14]+2878612391&4294967295,L=O+(C<<15&4294967295|C>>>17),C=T+(O^(L|~A))+E[5]+4237533241&4294967295,T=L+(C<<21&4294967295|C>>>11),C=A+(L^(T|~O))+E[12]+1700485571&4294967295,A=T+(C<<6&4294967295|C>>>26),C=O+(T^(A|~L))+E[3]+2399980690&4294967295,O=A+(C<<10&4294967295|C>>>22),C=L+(A^(O|~T))+E[10]+4293915773&4294967295,L=O+(C<<15&4294967295|C>>>17),C=T+(O^(L|~A))+E[1]+2240044497&4294967295,T=L+(C<<21&4294967295|C>>>11),C=A+(L^(T|~O))+E[8]+1873313359&4294967295,A=T+(C<<6&4294967295|C>>>26),C=O+(T^(A|~L))+E[15]+4264355552&4294967295,O=A+(C<<10&4294967295|C>>>22),C=L+(A^(O|~T))+E[6]+2734768916&4294967295,L=O+(C<<15&4294967295|C>>>17),C=T+(O^(L|~A))+E[13]+1309151649&4294967295,T=L+(C<<21&4294967295|C>>>11),C=A+(L^(T|~O))+E[4]+4149444226&4294967295,A=T+(C<<6&4294967295|C>>>26),C=O+(T^(A|~L))+E[11]+3174756917&4294967295,O=A+(C<<10&4294967295|C>>>22),C=L+(A^(O|~T))+E[2]+718787259&4294967295,L=O+(C<<15&4294967295|C>>>17),C=T+(O^(L|~A))+E[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+O&4294967295}r.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var T=A-this.blockSize,E=this.B,L=this.h,O=0;O<A;){if(L==0)for(;O<=T;)s(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<A;)if(E[L++]=x.charCodeAt(O++),L==this.blockSize){s(this,E),L=0;break}}else for(;O<A;)if(E[L++]=x[O++],L==this.blockSize){s(this,E),L=0;break}}this.h=L,this.o+=A},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var T=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=T&255,T/=256;for(this.u(x),x=Array(16),A=T=0;4>A;++A)for(var E=0;32>E;E+=8)x[T++]=this.g[A]>>>E&255;return x};function a(x,A){var T=c;return Object.prototype.hasOwnProperty.call(T,x)?T[x]:T[x]=A(x)}function l(x,A){this.h=A;for(var T=[],E=!0,L=x.length-1;0<=L;L--){var O=x[L]|0;E&&O==A||(T[L]=O,E=!1)}this.g=T}var c={};function h(x){return-128<=x&&128>x?a(x,function(A){return new l([A|0],0>A?-1:0)}):new l([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return y;if(0>x)return V(p(-x));for(var A=[],T=1,E=0;x>=T;E++)A[E]=x/T|0,T*=4294967296;return new l(A,0)}function m(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return V(m(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=p(Math.pow(A,8)),E=y,L=0;L<x.length;L+=8){var O=Math.min(8,x.length-L),C=parseInt(x.substring(L,L+O),A);8>O?(O=p(Math.pow(A,O)),E=E.j(O).add(p(C))):(E=E.j(T),E=E.add(p(C)))}return E}var y=h(0),w=h(1),I=h(16777216);t=l.prototype,t.m=function(){if(N(this))return-V(this).m();for(var x=0,A=1,T=0;T<this.g.length;T++){var E=this.i(T);x+=(0<=E?E:4294967296+E)*A,A*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R(this))return"0";if(N(this))return"-"+V(this).toString(x);for(var A=p(Math.pow(x,6)),T=this,E="";;){var L=K(T,A).g;T=B(T,L.j(A));var O=((0<T.g.length?T.g[0]:T.h)>>>0).toString(x);if(T=L,R(T))return O+E;for(;6>O.length;)O="0"+O;E=O+E}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function R(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function N(x){return x.h==-1}t.l=function(x){return x=B(this,x),N(x)?-1:R(x)?0:1};function V(x){for(var A=x.g.length,T=[],E=0;E<A;E++)T[E]=~x.g[E];return new l(T,~x.h).add(w)}t.abs=function(){return N(this)?V(this):this},t.add=function(x){for(var A=Math.max(this.g.length,x.g.length),T=[],E=0,L=0;L<=A;L++){var O=E+(this.i(L)&65535)+(x.i(L)&65535),C=(O>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);E=C>>>16,O&=65535,C&=65535,T[L]=C<<16|O}return new l(T,T[T.length-1]&-2147483648?-1:0)};function B(x,A){return x.add(V(A))}t.j=function(x){if(R(this)||R(x))return y;if(N(this))return N(x)?V(this).j(V(x)):V(V(this).j(x));if(N(x))return V(this.j(V(x)));if(0>this.l(I)&&0>x.l(I))return p(this.m()*x.m());for(var A=this.g.length+x.g.length,T=[],E=0;E<2*A;E++)T[E]=0;for(E=0;E<this.g.length;E++)for(var L=0;L<x.g.length;L++){var O=this.i(E)>>>16,C=this.i(E)&65535,G=x.i(L)>>>16,ue=x.i(L)&65535;T[2*E+2*L]+=C*ue,z(T,2*E+2*L),T[2*E+2*L+1]+=O*ue,z(T,2*E+2*L+1),T[2*E+2*L+1]+=C*G,z(T,2*E+2*L+1),T[2*E+2*L+2]+=O*G,z(T,2*E+2*L+2)}for(E=0;E<A;E++)T[E]=T[2*E+1]<<16|T[2*E];for(E=A;E<2*A;E++)T[E]=0;return new l(T,0)};function z(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function H(x,A){this.g=x,this.h=A}function K(x,A){if(R(A))throw Error("division by zero");if(R(x))return new H(y,y);if(N(x))return A=K(V(x),A),new H(V(A.g),V(A.h));if(N(A))return A=K(x,V(A)),new H(V(A.g),A.h);if(30<x.g.length){if(N(x)||N(A))throw Error("slowDivide_ only works with positive integers.");for(var T=w,E=A;0>=E.l(x);)T=F(T),E=F(E);var L=U(T,1),O=U(E,1);for(E=U(E,2),T=U(T,2);!R(E);){var C=O.add(E);0>=C.l(x)&&(L=L.add(T),O=C),E=U(E,1),T=U(T,1)}return A=B(x,L.j(A)),new H(L,A)}for(L=y;0<=x.l(A);){for(T=Math.max(1,Math.floor(x.m()/A.m())),E=Math.ceil(Math.log(T)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),O=p(T),C=O.j(A);N(C)||0<C.l(x);)T-=E,O=p(T),C=O.j(A);R(O)&&(O=w),L=L.add(O),x=B(x,C)}return new H(L,x)}t.A=function(x){return K(this,x).h},t.and=function(x){for(var A=Math.max(this.g.length,x.g.length),T=[],E=0;E<A;E++)T[E]=this.i(E)&x.i(E);return new l(T,this.h&x.h)},t.or=function(x){for(var A=Math.max(this.g.length,x.g.length),T=[],E=0;E<A;E++)T[E]=this.i(E)|x.i(E);return new l(T,this.h|x.h)},t.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),T=[],E=0;E<A;E++)T[E]=this.i(E)^x.i(E);return new l(T,this.h^x.h)};function F(x){for(var A=x.g.length+1,T=[],E=0;E<A;E++)T[E]=x.i(E)<<1|x.i(E-1)>>>31;return new l(T,x.h)}function U(x,A){var T=A>>5;A%=32;for(var E=x.g.length-T,L=[],O=0;O<E;O++)L[O]=0<A?x.i(O+T)>>>A|x.i(O+T+1)<<32-A:x.i(O+T);return new l(L,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rb=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,ns=l}).apply(typeof Bw<"u"?Bw:typeof self<"u"?self:typeof window<"u"?window:{});var ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ib,Kl,sb,Nd,Ym,ob,ab,lb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,S){return d==Array.prototype||d==Object.prototype||(d[v]=S.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ad=="object"&&ad];for(var v=0;v<d.length;++v){var S=d[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(d,v){if(v)e:{var S=r;d=d.split(".");for(var j=0;j<d.length-1;j++){var J=d[j];if(!(J in S))break e;S=S[J]}d=d[d.length-1],j=S[d],v=v(j),v!=j&&v!=null&&e(S,d,{configurable:!0,writable:!0,value:v})}}function a(d,v){d instanceof String&&(d+="");var S=0,j=!1,J={next:function(){if(!j&&S<d.length){var ie=S++;return{value:v(ie,d[ie]),done:!1}}return j=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}s("Array.prototype.values",function(d){return d||function(){return a(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,S){return d.call.apply(d.bind,arguments)}function y(d,v,S){if(!d)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,j),d.apply(v,J)}}return function(){return d.apply(v,arguments)}}function w(d,v,S){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,w.apply(null,arguments)}function I(d,v){var S=Array.prototype.slice.call(arguments,1);return function(){var j=S.slice();return j.push.apply(j,arguments),d.apply(this,j)}}function R(d,v){function S(){}S.prototype=v.prototype,d.aa=v.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(j,J,ie){for(var ve=Array(arguments.length-2),et=2;et<arguments.length;et++)ve[et-2]=arguments[et];return v.prototype[J].apply(j,ve)}}function N(d){const v=d.length;if(0<v){const S=Array(v);for(let j=0;j<v;j++)S[j]=d[j];return S}return[]}function V(d,v){for(let S=1;S<arguments.length;S++){const j=arguments[S];if(h(j)){const J=d.length||0,ie=j.length||0;d.length=J+ie;for(let ve=0;ve<ie;ve++)d[J+ve]=j[ve]}else d.push(j)}}class B{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(d){return/^[\s\xa0]*$/.test(d)}function H(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function K(d){return K[" "](d),d}K[" "]=function(){};var F=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function U(d,v,S){for(const j in d)v.call(S,d[j],j,d)}function x(d,v){for(const S in d)v.call(void 0,d[S],S,d)}function A(d){const v={};for(const S in d)v[S]=d[S];return v}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(d,v){let S,j;for(let J=1;J<arguments.length;J++){j=arguments[J];for(S in j)d[S]=j[S];for(let ie=0;ie<T.length;ie++)S=T[ie],Object.prototype.hasOwnProperty.call(j,S)&&(d[S]=j[S])}}function L(d){var v=1;d=d.split(":");const S=[];for(;0<v&&d.length;)S.push(d.shift()),v--;return d.length&&S.push(d.join(":")),S}function O(d){c.setTimeout(()=>{throw d},0)}function C(){var d=q;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class G{constructor(){this.h=this.g=null}add(v,S){const j=ue.get();j.set(v,S),this.h?this.h.next=j:this.g=j,this.h=j}}var ue=new B(()=>new se,d=>d.reset());class se{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let P,oe=!1,q=new G,b=()=>{const d=c.Promise.resolve(void 0);P=()=>{d.then(k)}};var k=()=>{for(var d;d=C();){try{d.h.call(d.g)}catch(S){O(S)}var v=ue;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}oe=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};c.addEventListener("test",S,v),c.removeEventListener("test",S,v)}catch{}return d}();function le(d,v){if(te.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,j=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(F){e:{try{K(v.nodeName);var J=!0;break e}catch{}J=!1}J||(v=null)}}else S=="mouseover"?v=d.fromElement:S=="mouseout"&&(v=d.toElement);this.relatedTarget=v,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&le.aa.h.call(this)}}R(le,te);var ae={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),ge=0;function _e(d,v,S,j,J){this.listener=d,this.proxy=null,this.src=v,this.type=S,this.capture=!!j,this.ha=J,this.key=++ge,this.da=this.fa=!1}function Se(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ae(d){this.src=d,this.g={},this.h=0}Ae.prototype.add=function(d,v,S,j,J){var ie=d.toString();d=this.g[ie],d||(d=this.g[ie]=[],this.h++);var ve=Be(d,v,j,J);return-1<ve?(v=d[ve],S||(v.fa=!1)):(v=new _e(v,this.src,ie,!!j,J),v.fa=S,d.push(v)),v};function ze(d,v){var S=v.type;if(S in d.g){var j=d.g[S],J=Array.prototype.indexOf.call(j,v,void 0),ie;(ie=0<=J)&&Array.prototype.splice.call(j,J,1),ie&&(Se(v),d.g[S].length==0&&(delete d.g[S],d.h--))}}function Be(d,v,S,j){for(var J=0;J<d.length;++J){var ie=d[J];if(!ie.da&&ie.listener==v&&ie.capture==!!S&&ie.ha==j)return J}return-1}var je="closure_lm_"+(1e6*Math.random()|0),We={};function ot(d,v,S,j,J){if(Array.isArray(v)){for(var ie=0;ie<v.length;ie++)ot(d,v[ie],S,j,J);return null}return S=tr(S),d&&d[ce]?d.K(v,S,p(j)?!!j.capture:!1,J):Ue(d,v,S,!1,j,J)}function Ue(d,v,S,j,J,ie){if(!v)throw Error("Invalid event type");var ve=p(J)?!!J.capture:!!J,et=er(d);if(et||(d[je]=et=new Ae(d)),S=et.add(v,S,j,ve,ie),S.proxy)return S;if(j=at(),S.proxy=j,j.src=d,j.listener=S,d.addEventListener)re||(J=ve),J===void 0&&(J=!1),d.addEventListener(v.toString(),j,J);else if(d.attachEvent)d.attachEvent(yt(v.toString()),j);else if(d.addListener&&d.removeListener)d.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return S}function at(){function d(S){return v.call(d.src,d.listener,S)}const v=Rn;return d}function lt(d,v,S,j,J){if(Array.isArray(v))for(var ie=0;ie<v.length;ie++)lt(d,v[ie],S,j,J);else j=p(j)?!!j.capture:!!j,S=tr(S),d&&d[ce]?(d=d.i,v=String(v).toString(),v in d.g&&(ie=d.g[v],S=Be(ie,S,j,J),-1<S&&(Se(ie[S]),Array.prototype.splice.call(ie,S,1),ie.length==0&&(delete d.g[v],d.h--)))):d&&(d=er(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Be(v,S,j,J)),(S=-1<d?v[d]:null)&&nt(S))}function nt(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[ce])ze(v.i,d);else{var S=d.type,j=d.proxy;v.removeEventListener?v.removeEventListener(S,j,d.capture):v.detachEvent?v.detachEvent(yt(S),j):v.addListener&&v.removeListener&&v.removeListener(j),(S=er(v))?(ze(S,d),S.h==0&&(S.src=null,v[je]=null)):Se(d)}}}function yt(d){return d in We?We[d]:We[d]="on"+d}function Rn(d,v){if(d.da)d=!0;else{v=new le(v,this);var S=d.listener,j=d.ha||d.src;d.fa&&nt(d),d=S.call(j,v)}return d}function er(d){return d=d[je],d instanceof Ae?d:null}var Wr="__closure_events_fn_"+(1e9*Math.random()>>>0);function tr(d){return typeof d=="function"?d:(d[Wr]||(d[Wr]=function(v){return d.handleEvent(v)}),d[Wr])}function xt(){$.call(this),this.i=new Ae(this),this.M=this,this.F=null}R(xt,$),xt.prototype[ce]=!0,xt.prototype.removeEventListener=function(d,v,S,j){lt(this,d,v,S,j)};function tt(d,v){var S,j=d.F;if(j)for(S=[];j;j=j.F)S.push(j);if(d=d.M,j=v.type||v,typeof v=="string")v=new te(v,d);else if(v instanceof te)v.target=v.target||d;else{var J=v;v=new te(j,d),E(v,J)}if(J=!0,S)for(var ie=S.length-1;0<=ie;ie--){var ve=v.g=S[ie];J=cn(ve,j,!0,v)&&J}if(ve=v.g=d,J=cn(ve,j,!0,v)&&J,J=cn(ve,j,!1,v)&&J,S)for(ie=0;ie<S.length;ie++)ve=v.g=S[ie],J=cn(ve,j,!1,v)&&J}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var S=d.g[v],j=0;j<S.length;j++)Se(S[j]);delete d.g[v],d.h--}}this.F=null},xt.prototype.K=function(d,v,S,j){return this.i.add(String(d),v,!1,S,j)},xt.prototype.L=function(d,v,S,j){return this.i.add(String(d),v,!0,S,j)};function cn(d,v,S,j){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var J=!0,ie=0;ie<v.length;++ie){var ve=v[ie];if(ve&&!ve.da&&ve.capture==S){var et=ve.listener,Mt=ve.ha||ve.src;ve.fa&&ze(d.i,ve),J=et.call(Mt,j)!==!1&&J}}return J&&!j.defaultPrevented}function $a(d,v,S){if(typeof d=="function")S&&(d=w(d,S));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(d,v||0)}function _i(d){d.g=$a(()=>{d.g=null,d.i&&(d.i=!1,_i(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Ss extends ${constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:_i(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(d){$.call(this),this.h=d,this.g={}}R(bs,$);var Wa=[];function qa(d){U(d.g,function(v,S){this.g.hasOwnProperty(S)&&nt(v)},d),d.g={}}bs.prototype.N=function(){bs.aa.N.call(this),qa(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ka=c.JSON.stringify,Ga=c.JSON.parse,Qa=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Is(){}Is.prototype.h=null;function wo(d){return d.h||(d.h=d.i())}function Eo(){}var Un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tr(){te.call(this,"d")}R(Tr,te);function To(){te.call(this,"c")}R(To,te);var Sr={},Ya=null;function xs(){return Ya=Ya||new xt}Sr.La="serverreachability";function Xa(d){te.call(this,Sr.La,d)}R(Xa,te);function qr(d){const v=xs();tt(v,new Xa(v))}Sr.STAT_EVENT="statevent";function Ja(d,v){te.call(this,Sr.STAT_EVENT,d),this.stat=v}R(Ja,te);function Pt(d){const v=xs();tt(v,new Ja(v,d))}Sr.Ma="timingevent";function So(d,v){te.call(this,Sr.Ma,d),this.size=v}R(So,te);function nr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function Ps(){this.g=!0}Ps.prototype.xa=function(){this.g=!1};function Cs(d,v,S,j,J,ie){d.info(function(){if(d.g)if(ie)for(var ve="",et=ie.split("&"),Mt=0;Mt<et.length;Mt++){var Qe=et[Mt].split("=");if(1<Qe.length){var Bt=Qe[0];Qe=Qe[1];var kt=Bt.split("_");ve=2<=kt.length&&kt[1]=="type"?ve+(Bt+"="+Qe+"&"):ve+(Bt+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+j+") [attempt "+J+"]: "+v+`
`+S+`
`+ve})}function bo(d,v,S,j,J,ie,ve){d.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+J+"]: "+v+`
`+S+`
`+ie+" "+ve})}function rr(d,v,S,j){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+uf(d,S)+(j?" "+j:"")})}function Za(d,v){d.info(function(){return"TIMEOUT: "+v})}Ps.prototype.info=function(){};function uf(d,v){if(!d.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var j=S[d];if(!(2>j.length)){var J=j[1];if(Array.isArray(J)&&!(1>J.length)){var ie=J[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<J.length;ve++)J[ve]=""}}}}return Ka(S)}catch{return v}}var Io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function Rs(){}R(Rs,Is),Rs.prototype.g=function(){return new XMLHttpRequest},Rs.prototype.i=function(){return{}},ir=new Rs;function sr(d,v,S,j){this.j=d,this.i=v,this.l=S,this.R=j||1,this.U=new bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zu}function zu(){this.i=null,this.g="",this.h=!1}var el={},xo={};function Po(d,v,S){d.L=1,d.v=bi(kn(v)),d.m=S,d.P=!0,tl(d,null)}function tl(d,v){d.F=Date.now(),it(d),d.A=kn(d.v);var S=d.A,j=d.R;Array.isArray(j)||(j=[String(j)]),xi(S.i,"t",j),d.C=0,S=d.j.J,d.h=new zu,d.g=oc(d.j,S?v:null,!d.m),0<d.O&&(d.M=new Ss(w(d.Y,d,d.g),d.O)),v=d.U,S=d.g,j=d.ca;var J="readystatechange";Array.isArray(J)||(J&&(Wa[0]=J.toString()),J=Wa);for(var ie=0;ie<J.length;ie++){var ve=ot(S,J[ie],j||v.handleEvent,!1,v.h||v);if(!ve)break;v.g[ve.key]=ve}v=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),qr(),Cs(d.i,d.u,d.A,d.l,d.R,d.m)}sr.prototype.ca=function(d){d=d.target;const v=this.M;v&&vn(d)==3?v.j():this.Y(d)},sr.prototype.Y=function(d){try{if(d==this.g)e:{const kt=vn(this.g);var v=this.g.Ba();const Hn=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||al(this.g)))){this.J||kt!=4||v==7||(v==8||0>=Hn?qr(3):qr(2)),As(this);var S=this.g.Z();this.X=S;t:if(Hu(this)){var j=al(this.g);d="";var J=j.length,ie=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),wi(this);var ve="";break t}this.h.i=new c.TextDecoder}for(v=0;v<J;v++)this.h.h=!0,d+=this.h.i.decode(j[v],{stream:!(ie&&v==J-1)});j.length=0,this.h.g+=d,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=S==200,bo(this.i,this.u,this.A,this.l,this.R,kt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Mt=this.g;if((et=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(et)){var Qe=et;break t}}Qe=null}if(S=Qe)rr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nl(this,S);else{this.o=!1,this.s=3,Pt(12),Bn(this),wi(this);break e}}if(this.P){S=!0;let Nn;for(;!this.J&&this.C<ve.length;)if(Nn=cf(this,ve),Nn==xo){kt==4&&(this.s=4,Pt(14),S=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==el){this.s=4,Pt(15),rr(this.i,this.l,ve,"[Invalid Chunk]"),S=!1;break}else rr(this.i,this.l,Nn,null),nl(this,Nn);if(Hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ve.length!=0||this.h.h||(this.s=1,Pt(16),S=!1),this.o=this.o&&S,!S)rr(this.i,this.l,ve,"[Invalid Chunked Response]"),Bn(this),wi(this);else if(0<ve.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),ul(Bt),Bt.M=!0,Pt(11))}}else rr(this.i,this.l,ve,null),nl(this,ve);kt==4&&Bn(this),this.o&&!this.J&&(kt==4?jo(this.j,this):(this.o=!1,it(this)))}else No(this.g),S==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Bn(this),wi(this)}}}catch{}finally{}};function Hu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function cf(d,v){var S=d.C,j=v.indexOf(`
`,S);return j==-1?xo:(S=Number(v.substring(S,j)),isNaN(S)?el:(j+=1,j+S>v.length?xo:(v=v.slice(j,j+S),d.C=j+S,v)))}sr.prototype.cancel=function(){this.J=!0,Bn(this)};function it(d){d.S=Date.now()+d.I,$u(d,d.I)}function $u(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=nr(w(d.ba,d),v)}function As(d){d.B&&(c.clearTimeout(d.B),d.B=null)}sr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Za(this.i,this.A),this.L!=2&&(qr(),Pt(17)),Bn(this),this.s=2,wi(this)):$u(this,this.S-d)};function wi(d){d.j.G==0||d.J||jo(d.j,d)}function Bn(d){As(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,qa(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function nl(d,v){try{var S=d.j;if(S.G!=0&&(S.g==d||dn(S.h,d))){if(!d.K&&dn(S.h,d)&&S.G==3){try{var j=S.Da.g.parse(v)}catch{j=null}if(Array.isArray(j)&&j.length==3){var J=j;if(J[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)Vo(S),cr(S);else break e;Mo(S),Pt(18)}}else S.za=J[1],0<S.za-S.T&&37500>J[2]&&S.F&&S.v==0&&!S.C&&(S.C=nr(w(S.Za,S),6e3));if(1>=qu(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Xr(S,11)}else if((d.K||S.g==d)&&Vo(S),!z(v))for(J=S.Da.g.parse(v),v=0;v<J.length;v++){let Qe=J[v];if(S.T=Qe[0],Qe=Qe[1],S.G==2)if(Qe[0]=="c"){S.K=Qe[1],S.ia=Qe[2];const Bt=Qe[3];Bt!=null&&(S.la=Bt,S.j.info("VER="+S.la));const kt=Qe[4];kt!=null&&(S.Aa=kt,S.j.info("SVER="+S.Aa));const Hn=Qe[5];Hn!=null&&typeof Hn=="number"&&0<Hn&&(j=1.5*Hn,S.L=j,S.j.info("backChannelRequestTimeoutMs_="+j)),j=S;const Nn=d.g;if(Nn){const Vs=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var ie=j.h;ie.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(rl(ie,ie.h),ie.h=null))}if(j.D){const Uo=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(j.ya=Uo,rt(j.I,j.D,Uo))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),j=S;var ve=d;if(j.qa=sc(j,j.J?j.ia:null,j.W),ve.K){Ku(j.h,ve);var et=ve,Mt=j.L;Mt&&(et.I=Mt),et.B&&(As(et),it(et)),j.g=ve}else Ms(j);0<S.i.length&&Pr(S)}else Qe[0]!="stop"&&Qe[0]!="close"||Xr(S,7);else S.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Xr(S,7):Kt(S):Qe[0]!="noop"&&S.l&&S.l.ta(Qe),S.v=0)}}qr(4)}catch{}}var Wu=class{constructor(d,v){this.g=d,this.map=v}};function ks(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function An(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function qu(d){return d.h?1:d.g?d.g.size:0}function dn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function rl(d,v){d.g?d.g.add(v):d.h=v}function Ku(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}ks.prototype.cancel=function(){if(this.i=Gu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Gu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const S of d.g.values())v=v.concat(S.D);return v}return N(d.i)}function Co(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var v=[],S=d.length,j=0;j<S;j++)v.push(d[j]);return v}v=[],S=0;for(j in d)v[S++]=d[j];return v}function Ro(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var v=[];d=d.length;for(var S=0;S<d;S++)v.push(S);return v}v=[],S=0;for(const j in d)v[S++]=j;return v}}}function Ei(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var S=Ro(d),j=Co(d),J=j.length,ie=0;ie<J;ie++)v.call(void 0,j[ie],S&&S[ie],d)}var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function df(d,v){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var j=d[S].indexOf("="),J=null;if(0<=j){var ie=d[S].substring(0,j);J=d[S].substring(j+1)}else ie=d[S];v(ie,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Kr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Kr){this.h=d.h,Ns(this,d.j),this.o=d.o,this.g=d.g,Ti(this,d.s),this.l=d.l;var v=d.i,S=new br;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),Si(this,S),this.m=d.m}else d&&(v=String(d).match(Os))?(this.h=!1,Ns(this,v[1]||"",!0),this.o=Ge(v[2]||""),this.g=Ge(v[3]||"",!0),Ti(this,v[4]),this.l=Ge(v[5]||"",!0),Si(this,v[6]||"",!0),this.m=Ge(v[7]||"")):(this.h=!1,this.i=new br(null,this.h))}Kr.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Ii(v,Ao,!0),":");var S=this.g;return(S||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Ii(v,Ao,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(Ii(S,S.charAt(0)=="/"?Xu:Yu,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",Ii(S,il)),d.join("")};function kn(d){return new Kr(d)}function Ns(d,v,S){d.j=S?Ge(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Ti(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Si(d,v,S){v instanceof br?(d.i=v,Ir(d.i,d.h)):(S||(v=Ii(v,Ju)),d.i=new br(v,d.h))}function rt(d,v,S){d.i.set(v,S)}function bi(d){return rt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ge(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ii(d,v,S){return typeof d=="string"?(d=encodeURI(d).replace(v,Qu),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Qu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ao=/[#\/\?@]/g,Yu=/[#\?:]/g,Xu=/[#\?]/g,Ju=/[#\?@]/g,il=/#/g;function br(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function qt(d){d.g||(d.g=new Map,d.h=0,d.i&&df(d.i,function(v,S){d.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}t=br.prototype,t.add=function(d,v){qt(this),this.i=null,d=zn(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(v),this.h+=1,this};function or(d,v){qt(d),v=zn(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function ar(d,v){return qt(d),v=zn(d,v),d.g.has(v)}t.forEach=function(d,v){qt(this),this.g.forEach(function(S,j){S.forEach(function(J){d.call(v,J,j,this)},this)},this)},t.na=function(){qt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let j=0;j<v.length;j++){const J=d[j];for(let ie=0;ie<J.length;ie++)S.push(v[j])}return S},t.V=function(d){qt(this);let v=[];if(typeof d=="string")ar(this,d)&&(v=v.concat(this.g.get(zn(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)v=v.concat(d[S])}return v},t.set=function(d,v){return qt(this),this.i=null,d=zn(this,d),ar(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function xi(d,v,S){or(d,v),0<S.length&&(d.i=null,d.g.set(zn(d,v),N(S)),d.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var j=v[S];const ie=encodeURIComponent(String(j)),ve=this.V(j);for(j=0;j<ve.length;j++){var J=ie;ve[j]!==""&&(J+="="+encodeURIComponent(String(ve[j]))),d.push(J)}}return this.i=d.join("&")};function zn(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Ir(d,v){v&&!d.j&&(qt(d),d.i=null,d.g.forEach(function(S,j){var J=j.toLowerCase();j!=J&&(or(this,j),xi(this,J,S))},d)),d.j=v}function hf(d,v){const S=new Ps;if(c.Image){const j=new Image;j.onload=I(yn,S,"TestLoadImage: loaded",!0,v,j),j.onerror=I(yn,S,"TestLoadImage: error",!1,v,j),j.onabort=I(yn,S,"TestLoadImage: abort",!1,v,j),j.ontimeout=I(yn,S,"TestLoadImage: timeout",!1,v,j),c.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=d}else v(!1)}function Zu(d,v){const S=new Ps,j=new AbortController,J=setTimeout(()=>{j.abort(),yn(S,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:j.signal}).then(ie=>{clearTimeout(J),ie.ok?yn(S,"TestPingServer: ok",!0,v):yn(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(J),yn(S,"TestPingServer: error",!1,v)})}function yn(d,v,S,j,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),j(S)}catch{}}function ff(){this.g=new Qa}function ec(d,v,S){const j=S||"";try{Ei(d,function(J,ie){let ve=J;p(J)&&(ve=Ka(J)),v.push(j+ie+"="+encodeURIComponent(ve))})}catch(J){throw v.push(j+"type="+encodeURIComponent("_badmap")),J}}function Gr(d){this.l=d.Ub||null,this.j=d.eb||!1}R(Gr,Is),Gr.prototype.g=function(){return new Ds(this.l,this.j)},Gr.prototype.i=function(d){return function(){return d}}({});function Ds(d,v){xt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Ds,xt),t=Ds.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,ur(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function tc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?lr(this):ur(this),this.readyState==3&&tc(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,lr(this))},t.Qa=function(d){this.g&&(this.response=d,lr(this))},t.ga=function(){this.g&&lr(this)};function lr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ur(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=v.next();return d.join(`\r
`)};function ur(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Qr(d){let v="";return U(d,function(S,j){v+=j,v+=":",v+=S,v+=`\r
`}),v}function Pi(d,v,S){e:{for(j in S){var j=!1;break e}j=!0}j||(S=Qr(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):rt(d,v,S))}function ft(d){xt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(ft,xt);var pf=/^https?$/i,sl=["POST","PUT"];t=ft.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,S,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?wo(this.o):wo(ir),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(ie){Ls(this,ie);return}if(d=S||"",S=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var J in j)S.set(J,j[J]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ie of j.keys())S.set(ie,j.get(ie));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(S.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(sl,v,void 0))||j||J||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of S)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oo(this),this.u=!0,this.g.send(d),this.u=!1}catch(ie){Ls(this,ie)}};function Ls(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,ko(d),On(d)}function ko(d){d.A||(d.A=!0,tt(d,"complete"),tt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,tt(this,"complete"),tt(this,"abort"),On(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ol(this):this.bb())},t.bb=function(){ol(this)};function ol(d){if(d.h&&typeof l<"u"&&(!d.v[1]||vn(d)!=4||d.Z()!=2)){if(d.u&&vn(d)==4)$a(d.Ea,0,d);else if(tt(d,"readystatechange"),vn(d)==4){d.h=!1;try{const ve=d.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var j;if(j=ve===0){var J=String(d.D).match(Os)[1]||null;!J&&c.self&&c.self.location&&(J=c.self.location.protocol.slice(0,-1)),j=!pf.test(J?J.toLowerCase():"")}S=j}if(S)tt(d,"complete"),tt(d,"success");else{d.m=6;try{var ie=2<vn(d)?d.g.statusText:""}catch{ie=""}d.l=ie+" ["+d.Z()+"]",ko(d)}}finally{On(d)}}}}function On(d,v){if(d.g){Oo(d);const S=d.g,j=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||tt(d,"ready");try{S.onreadystatechange=j}catch{}}}function Oo(d){d.I&&(c.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function vn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Ga(v)}};function al(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function No(d){const v={};d=(d.g&&2<=vn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<d.length;j++){if(z(d[j]))continue;var S=L(d[j]);const J=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ie=v[J]||[];v[J]=ie,ie.push(S)}x(v,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xr(d,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||v}function ll(d){this.Aa=0,this.i=[],this.j=new Ps,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xr("baseRetryDelayMs",5e3,d),this.cb=xr("retryDelaySeedMs",1e4,d),this.Wa=xr("forwardChannelMaxRetries",2,d),this.wa=xr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ks(d&&d.concurrentRequestLimit),this.Da=new ff,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ll.prototype,t.la=8,t.G=1,t.connect=function(d,v,S,j){Pt(0),this.W=d,this.H=v||{},S&&j!==void 0&&(this.H.OSID=S,this.H.OAID=j),this.F=this.X,this.I=sc(this,null,this.W),Pr(this)};function Kt(d){if(Do(d),d.G==3){var v=d.U++,S=kn(d.I);if(rt(S,"SID",d.K),rt(S,"RID",v),rt(S,"TYPE","terminate"),Yr(d,S),v=new sr(d,d.j,v),v.L=2,v.v=bi(kn(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&c.Image&&(new Image().src=v.v,S=!0),S||(v.g=oc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),it(v)}ic(d)}function cr(d){d.g&&(ul(d),d.g.cancel(),d.g=null)}function Do(d){cr(d),d.u&&(c.clearTimeout(d.u),d.u=null),Vo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Pr(d){if(!An(d.h)&&!d.s){d.s=!0;var v=d.Ga;P||b(),oe||(P(),oe=!0),q.add(v,d),d.B=0}}function mf(d,v){return qu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=nr(w(d.Ga,d,v),rc(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const J=new sr(this,this.j,d);let ie=this.o;if(this.S&&(ie?(ie=A(ie),E(ie,this.S)):ie=this.S),this.m!==null||this.O||(J.H=ie,ie=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var j=this.i[S];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(v+=j,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=Ci(this,J,v),S=kn(this.I),rt(S,"RID",d),rt(S,"CVER",22),this.D&&rt(S,"X-HTTP-Session-Id",this.D),Yr(this,S),ie&&(this.O?v="headers="+encodeURIComponent(String(Qr(ie)))+"&"+v:this.m&&Pi(S,this.m,ie)),rl(this.h,J),this.Ua&&rt(S,"TYPE","init"),this.P?(rt(S,"$req",v),rt(S,"SID","null"),J.T=!0,Po(J,S,null)):Po(J,S,v),this.G=2}}else this.G==3&&(d?Lo(this,d):this.i.length==0||An(this.h)||Lo(this))};function Lo(d,v){var S;v?S=v.l:S=d.U++;const j=kn(d.I);rt(j,"SID",d.K),rt(j,"RID",S),rt(j,"AID",d.T),Yr(d,j),d.m&&d.o&&Pi(j,d.m,d.o),S=new sr(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Ci(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),rl(d.h,S),Po(S,j,v)}function Yr(d,v){d.H&&U(d.H,function(S,j){rt(v,j,S)}),d.l&&Ei({},function(S,j){rt(v,j,S)})}function Ci(d,v,S){S=Math.min(d.i.length,S);var j=d.l?w(d.l.Na,d.l,d):null;e:{var J=d.i;let ie=-1;for(;;){const ve=["count="+S];ie==-1?0<S?(ie=J[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let et=!0;for(let Mt=0;Mt<S;Mt++){let Qe=J[Mt].g;const Bt=J[Mt].map;if(Qe-=ie,0>Qe)ie=Math.max(0,J[Mt].g-100),et=!1;else try{ec(Bt,ve,"req"+Qe+"_")}catch{j&&j(Bt)}}if(et){j=ve.join("&");break e}}}return d=d.i.splice(0,S),v.D=d,j}function Ms(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;P||b(),oe||(P(),oe=!0),q.add(v,d),d.v=0}}function Mo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=nr(w(d.Fa,d),rc(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,nc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=nr(w(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),cr(this),nc(this))};function ul(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function nc(d){d.g=new sr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=kn(d.qa);rt(v,"RID","rpc"),rt(v,"SID",d.K),rt(v,"AID",d.T),rt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&rt(v,"TO",d.ja),rt(v,"TYPE","xmlhttp"),Yr(d,v),d.m&&d.o&&Pi(v,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=bi(kn(v)),S.m=null,S.P=!0,tl(S,d)}t.Za=function(){this.C!=null&&(this.C=null,cr(this),Mo(this),Pt(19))};function Vo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function jo(d,v){var S=null;if(d.g==v){Vo(d),ul(d),d.g=null;var j=2}else if(dn(d.h,v))S=v.D,Ku(d.h,v),j=1;else return;if(d.G!=0){if(v.o)if(j==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var J=d.B;j=xs(),tt(j,new So(j,S)),Pr(d)}else Ms(d);else if(J=v.s,J==3||J==0&&0<v.X||!(j==1&&mf(d,v)||j==2&&Mo(d)))switch(S&&0<S.length&&(v=d.h,v.i=v.i.concat(S)),J){case 1:Xr(d,5);break;case 4:Xr(d,10);break;case 3:Xr(d,6);break;default:Xr(d,2)}}}function rc(d,v){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*v}function Xr(d,v){if(d.j.info("Error code "+v),v==2){var S=w(d.fb,d),j=d.Xa;const J=!j;j=new Kr(j||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ns(j,"https"),bi(j),J?hf(j.toString(),S):Zu(j.toString(),S)}else Pt(2);d.G=0,d.l&&d.l.sa(v),ic(d),Do(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function ic(d){if(d.G=0,d.ka=[],d.l){const v=Gu(d.h);(v.length!=0||d.i.length!=0)&&(V(d.ka,v),V(d.ka,d.i),d.h.i.length=0,N(d.i),d.i.length=0),d.l.ra()}}function sc(d,v,S){var j=S instanceof Kr?kn(S):new Kr(S);if(j.g!="")v&&(j.g=v+"."+j.g),Ti(j,j.s);else{var J=c.location;j=J.protocol,v=v?v+"."+J.hostname:J.hostname,J=+J.port;var ie=new Kr(null);j&&Ns(ie,j),v&&(ie.g=v),J&&Ti(ie,J),S&&(ie.l=S),j=ie}return S=d.D,v=d.ya,S&&v&&rt(j,S,v),rt(j,"VER",d.la),Yr(d,j),j}function oc(d,v,S){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new ft(new Gr({eb:S})):new ft(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cl(){}t=cl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fo(){}Fo.prototype.g=function(d,v){return new hn(d,v)};function hn(d,v){xt.call(this),this.g=new ll(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!z(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Cr(this)}R(hn,xt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Kt(this.g)},hn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=Ka(d),d=S);v.i.push(new Wu(v.Ya++,d)),v.G==3&&Pr(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,hn.aa.N.call(this)};function ac(d){Tr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const S in v){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}R(ac,Tr);function lc(){To.call(this),this.status=1}R(lc,To);function Cr(d){this.g=d}R(Cr,cl),Cr.prototype.ua=function(){tt(this.g,"a")},Cr.prototype.ta=function(d){tt(this.g,new ac(d))},Cr.prototype.sa=function(d){tt(this.g,new lc)},Cr.prototype.ra=function(){tt(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,lb=function(){return new Fo},ab=function(){return xs()},ob=Sr,Ym={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Io.NO_ERROR=0,Io.TIMEOUT=8,Io.HTTP_ERROR=6,Nd=Io,Bu.COMPLETE="complete",sb=Bu,Eo.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Kl=Eo,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,ib=ft}).apply(typeof ad<"u"?ad:typeof self<"u"?self:typeof window<"u"?window:{});const zw="@firebase/firestore",Hw="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new Jg("@firebase/firestore");function la(){return ao.logLevel}function Te(t,...e){if(ao.logLevel<=qe.DEBUG){const n=e.map(ty);ao.debug(`Firestore (${La}): ${t}`,...n)}}function mi(t,...e){if(ao.logLevel<=qe.ERROR){const n=e.map(ty);ao.error(`Firestore (${La}): ${t}`,...n)}}function Sa(t,...e){if(ao.logLevel<=qe.WARN){const n=e.map(ty);ao.warn(`Firestore (${La}): ${t}`,...n)}}function ty(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ub(t,r,n)}function ub(t,e,n){let r=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mi(r),new Error(r)}function Ze(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||ub(e,s,r)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends $r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}}class VD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jD{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new rs,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rs)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new cb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class FD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new FD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $w{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const r=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $w(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $w(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=zD(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function Xm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return He(r,s);{const a=db(),l=HD(a.encode(Ww(t,n)),a.encode(Ww(e,n)));return l!==0?l:He(r,s)}}n+=r>65535?2:1}return He(t.length,e.length)}function Ww(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function HD(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return He(t[n],e[n]);return He(t.length,e.length)}function ba(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=-62135596800,Kw=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Kw);return new Ft(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qw)throw new Ie(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kw}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Ft(0,0))}static max(){return new Ve(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="__name__";class Nr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Nr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return He(e.length,n.length)}static compareSegments(e,n){const r=Nr.isNumericId(e),s=Nr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Nr.extractNumericId(e).compare(Nr.extractNumericId(n)):Xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class dt extends Nr{construct(e,n,r){return new dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const $D=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Nr{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return $D.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gw}static keyField(){return new Xt([Gw])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Ie(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Ie(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ie(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new Ie(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(dt.fromString(e))}static fromName(e){return new Re(dt.fromString(e).popFirst(5))}static empty(){return new Re(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function WD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ve.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new cs(s,Re.empty(),e)}function qD(t){return new cs(t.readTime,t.key,fu)}class cs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cs(Ve.min(),Re.empty(),fu)}static max(){return new cs(Ve.max(),Re.empty(),fu)}}function KD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==GD)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,r)=>{n(e)})}static reject(e){return new de((n,r)=>{r(e)})}static waitFor(e){return new de((n,r)=>{let s=0,a=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},h=>r(h))}),l=!0,a===s&&n()})}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next(s=>s?de.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new de((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next(m=>{l[p]=m,++c,c===a&&r(l)},m=>s(m))}})}static doWhile(e,n){return new de((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function YD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Va(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Lh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=-1;function Mh(t){return t==null}function rh(t){return t===0&&1/t==-1/0}function XD(t){return typeof t=="number"&&Number.isInteger(t)&&!rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="";function JD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Qw(e)),e=ZD(t.get(n),e);return Qw(e)}function ZD(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case fb:n+="";break;default:n+=a}}return n}function Qw(t){return t+fb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _s(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ld(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ld(this.root,e,this.comparator,!1)}getReverseIterator(){return new ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ld(this.root,e,this.comparator,!0)}}class ld{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=s??Yt.EMPTY,this.right=a??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Yt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Yt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xw(this.data.getIterator())}getIteratorFrom(e){return new Xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class Xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Ut(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ba(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new mb("Invalid base64 string: "+a):a}}(e);return new Jt(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const eL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(t){if(Ze(!!t,39018),typeof t=="string"){let e=0;const n=eL.exec(t);if(Ze(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hs(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="server_timestamp",yb="__type__",vb="__previous_value__",_b="__local_write_time__";function ry(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[yb])===null||n===void 0?void 0:n.stringValue)===gb}function Vh(t){const e=t.mapValue.fields[vb];return ry(e)?Vh(e):e}function pu(t){const e=ds(t.mapValue.fields[_b].timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n,r,s,a,l,c,h,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=m}}const ih="(default)";class mu{constructor(e,n){this.projectId=e,this.database=n||ih}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="__type__",nL="__max__",ud={mapValue:{}},Eb="__vector__",sh="value";function fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ry(t)?4:iL(t)?9007199254740991:rL(t)?10:11:Le(28295,{value:t})}function zr(t,e){if(t===e)return!0;const n=fs(t);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pu(t).isEqual(pu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=ds(s.timestampValue),c=ds(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return hs(s.bytesValue).isEqual(hs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Rt(s.geoPointValue.latitude)===Rt(a.geoPointValue.latitude)&&Rt(s.geoPointValue.longitude)===Rt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Rt(s.integerValue)===Rt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Rt(s.doubleValue),c=Rt(a.doubleValue);return l===c?rh(l)===rh(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return ba(t.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(Yw(l)!==Yw(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!zr(l[h],c[h])))return!1;return!0}(t,e);default:return Le(52216,{left:t})}}function gu(t,e){return(t.values||[]).find(n=>zr(n,e))!==void 0}function Ia(t,e){if(t===e)return 0;const n=fs(t),r=fs(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Rt(a.integerValue||a.doubleValue),h=Rt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return Jw(t.timestampValue,e.timestampValue);case 4:return Jw(pu(t),pu(e));case 5:return Xm(t.stringValue,e.stringValue);case 6:return function(a,l){const c=hs(a),h=hs(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const m=He(c[p],h[p]);if(m!==0)return m}return He(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=He(Rt(a.latitude),Rt(l.latitude));return c!==0?c:He(Rt(a.longitude),Rt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Zw(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,h,p,m;const y=a.fields||{},w=l.fields||{},I=(c=y[sh])===null||c===void 0?void 0:c.arrayValue,R=(h=w[sh])===null||h===void 0?void 0:h.arrayValue,N=He(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0);return N!==0?N:Zw(I,R)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===ud.mapValue&&l===ud.mapValue)return 0;if(a===ud.mapValue)return 1;if(l===ud.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),p=l.fields||{},m=Object.keys(p);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const w=Xm(h[y],m[y]);if(w!==0)return w;const I=Ia(c[h[y]],p[m[y]]);if(I!==0)return I}return He(h.length,m.length)}(t.mapValue,e.mapValue);default:throw Le(23264,{Pe:n})}}function Jw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=ds(t),r=ds(e),s=He(n.seconds,r.seconds);return s!==0?s:He(n.nanos,r.nanos)}function Zw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Ia(n[s],r[s]);if(a)return a}return He(n.length,r.length)}function xa(t){return Jm(t)}function Jm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ds(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Jm(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Jm(n.fields[l])}`;return s+"}"}(t.mapValue):Le(61005,{value:t})}function Dd(t){switch(fs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(t);return e?16+Dd(e):16;case 5:return 2*t.stringValue.length;case 6:return hs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Dd(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return _s(r.fields,(a,l)=>{s+=a.length+Dd(l)}),s}(t.mapValue);default:throw Le(13486,{value:t})}}function eE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zm(t){return!!t&&"integerValue"in t}function iy(t){return!!t&&"arrayValue"in t}function tE(t){return!!t&&"nullValue"in t}function nE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ld(t){return!!t&&"mapValue"in t}function rL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[wb])===null||n===void 0?void 0:n.stringValue)===Eb}function tu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _s(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ld(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=Xt.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=tu(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Ld(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ld(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){_s(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new xn(tu(this.value))}}function Tb(t){const e=[];return _s(t.fields,(n,r)=>{const s=new Xt([n]);if(Ld(r)){const a=Tb(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,s,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new an(e,0,Ve.min(),Ve.min(),Ve.min(),xn.empty(),0)}static newFoundDocument(e,n,r,s){return new an(e,1,n,Ve.min(),r,s,0)}static newNoDocument(e,n){return new an(e,2,n,Ve.min(),Ve.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Ve.min(),Ve.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.position=e,this.inclusive=n}}function rE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Re.comparator(Re.fromName(l.referenceValue),n.key):r=Ia(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function sL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{}class Lt extends Sb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aL(e,n,r):n==="array-contains"?new cL(e,r):n==="in"?new dL(e,r):n==="not-in"?new hL(e,r):n==="array-contains-any"?new fL(e,r):new Lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lL(e,r):new uL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ia(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(Ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends Sb{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new _r(e,n)}matches(e){return bb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function bb(t){return t.op==="and"}function Ib(t){return oL(t)&&bb(t)}function oL(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function eg(t){if(t instanceof Lt)return t.field.canonicalString()+t.op.toString()+xa(t.value);if(Ib(t))return t.filters.map(e=>eg(e)).join(",");{const e=t.filters.map(n=>eg(n)).join(",");return`${t.op}(${e})`}}function xb(t,e){return t instanceof Lt?function(r,s){return s instanceof Lt&&r.op===s.op&&r.field.isEqual(s.field)&&zr(r.value,s.value)}(t,e):t instanceof _r?function(r,s){return s instanceof _r&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,c)=>a&&xb(l,s.filters[c]),!0):!1}(t,e):void Le(19439)}function Pb(t){return t instanceof Lt?function(n){return`${n.field.canonicalString()} ${n.op} ${xa(n.value)}`}(t):t instanceof _r?function(n){return n.op.toString()+" {"+n.getFilters().map(Pb).join(" ,")+"}"}(t):"Filter"}class aL extends Lt{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class lL extends Lt{constructor(e,n){super(e,"in",n),this.keys=Cb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uL extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=Cb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Cb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Re.fromName(r.referenceValue))}class cL extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iy(n)&&gu(n.arrayValue,this.value)}}class dL extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class hL extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gu(this.value.arrayValue,n)}}class fL extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Ie=null}}function sE(t,e=null,n=[],r=[],s=null,a=null,l=null){return new pL(t,e,n,r,s,a,l)}function sy(t){const e=Fe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>eg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xa(r)).join(",")),e.Ie=n}return e.Ie}function oy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iE(t.startAt,e.startAt)&&iE(t.endAt,e.endAt)}function tg(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n=null,r=[],s=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function mL(t,e,n,r,s,a,l,c){return new ja(t,e,n,r,s,a,l,c)}function Rb(t){return new ja(t)}function oE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ab(t){return t.collectionGroup!==null}function nu(t){const e=Fe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ut(Xt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new yu(a,r))}),n.has(Xt.keyField().canonicalString())||e.Ee.push(new yu(Xt.keyField(),r))}return e.Ee}function jr(t){const e=Fe(t);return e.de||(e.de=gL(e,nu(t))),e.de}function gL(t,e){if(t.limitType==="F")return sE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new yu(s.field,a)});const n=t.endAt?new oh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oh(t.startAt.position,t.startAt.inclusive):null;return sE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ng(t,e){const n=t.filters.concat([e]);return new ja(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rg(t,e,n){return new ja(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jh(t,e){return oy(jr(t),jr(e))&&t.limitType===e.limitType}function kb(t){return`${sy(jr(t))}|lt:${t.limitType}`}function ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Pb(s)).join(", ")}]`),Mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>xa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>xa(s)).join(",")),`Target(${r})`}(jr(t))}; limitType=${t.limitType})`}function Fh(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Re.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of nu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,h){const p=rE(l,c,h);return l.inclusive?p<=0:p<0}(r.startAt,nu(r),s)||r.endAt&&!function(l,c,h){const p=rE(l,c,h);return l.inclusive?p>=0:p>0}(r.endAt,nu(r),s))}(t,e)}function yL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ob(t){return(e,n)=>{let r=!1;for(const s of nu(t)){const a=vL(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function vL(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):function(a,l,c){const h=l.data.field(a),p=c.data.field(a);return h!==null&&p!==null?Ia(h,p):Le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return pb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new Tt(Re.comparator);function gi(){return _L}const Nb=new Tt(Re.comparator);function Gl(...t){let e=Nb;for(const n of t)e=e.insert(n.key,n);return e}function Db(t){let e=Nb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function no(){return ru()}function Lb(){return ru()}function ru(){return new go(t=>t.toString(),(t,e)=>t.isEqual(e))}const wL=new Tt(Re.comparator),EL=new Ut(Re.comparator);function Ke(...t){let e=EL;for(const n of t)e=e.add(n);return e}const TL=new Ut(He);function SL(){return TL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function Mb(t){return{integerValue:""+t}}function bL(t,e){return XD(e)?Mb(e):ay(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function IL(t,e,n){return t instanceof ah?function(s,a){const l={fields:{[yb]:{stringValue:gb},[_b]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ry(a)&&(a=Vh(a)),a&&(l.fields[vb]=a),{mapValue:l}}(n,e):t instanceof vu?jb(t,e):t instanceof _u?Fb(t,e):function(s,a){const l=Vb(s,a),c=aE(l)+aE(s.Re);return Zm(l)&&Zm(s.Re)?Mb(c):ay(s.serializer,c)}(t,e)}function xL(t,e,n){return t instanceof vu?jb(t,e):t instanceof _u?Fb(t,e):n}function Vb(t,e){return t instanceof lh?function(r){return Zm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ah extends Uh{}class vu extends Uh{constructor(e){super(),this.elements=e}}function jb(t,e){const n=Ub(e);for(const r of t.elements)n.some(s=>zr(s,r))||n.push(r);return{arrayValue:{values:n}}}class _u extends Uh{constructor(e){super(),this.elements=e}}function Fb(t,e){let n=Ub(e);for(const r of t.elements)n=n.filter(s=>!zr(s,r));return{arrayValue:{values:n}}}class lh extends Uh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function aE(t){return Rt(t.integerValue||t.doubleValue)}function Ub(t){return iy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function PL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof vu&&s instanceof vu||r instanceof _u&&s instanceof _u?ba(r.elements,s.elements,zr):r instanceof lh&&s instanceof lh?zr(r.Re,s.Re):r instanceof ah&&s instanceof ah}(t.transform,e.transform)}class CL{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Md(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bh{}function Bb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ly(t.key,Zn.none()):new Au(t.key,t.data,Zn.none());{const n=t.data,r=xn.empty();let s=new Ut(Xt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new ws(t.key,r,new Vn(s.toArray()),Zn.none())}}function RL(t,e,n){t instanceof Au?function(s,a,l){const c=s.value.clone(),h=uE(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ws?function(s,a,l){if(!Md(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=uE(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(zb(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function iu(t,e,n,r){return t instanceof Au?function(a,l,c,h){if(!Md(a.precondition,l))return c;const p=a.value.clone(),m=cE(a.fieldTransforms,h,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof ws?function(a,l,c,h){if(!Md(a.precondition,l))return c;const p=cE(a.fieldTransforms,h,l),m=l.data;return m.setAll(zb(a)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(a,l,c){return Md(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function AL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=Vb(r.transform,s||null);a!=null&&(n===null&&(n=xn.empty()),n.set(r.field,a))}return n||null}function lE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ba(r,s,(a,l)=>PL(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Au extends Bh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ws extends Bh{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function zb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uE(t,e,n){const r=new Map;Ze(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,xL(l,c,n[s]))}return r}function cE(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,IL(a,l,e))}return r}class ly extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kL extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&RL(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Lb();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const h=Bb(l,c);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ke())}isEqual(e){return this.batchId===e.batchId&&ba(this.mutations,e.mutations,(n,r)=>lE(n,r))&&ba(this.baseMutations,e.baseMutations,(n,r)=>lE(n,r))}}class uy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ze(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return wL}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new uy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Ye;function LL(t){switch(t){case he.OK:return Le(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function Hb(t){if(t===void 0)return mi("GRPC error has no .code"),he.UNKNOWN;switch(t){case Nt.OK:return he.OK;case Nt.CANCELLED:return he.CANCELLED;case Nt.UNKNOWN:return he.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return he.INTERNAL;case Nt.UNAVAILABLE:return he.UNAVAILABLE;case Nt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Nt.NOT_FOUND:return he.NOT_FOUND;case Nt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Nt.ABORTED:return he.ABORTED;case Nt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Nt.DATA_LOSS:return he.DATA_LOSS;default:return Le(39323,{code:t})}}(Ye=Nt||(Nt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=new ns([4294967295,4294967295],0);function dE(t){const e=db().encode(t),n=new rb;return n.update(e),new Uint8Array(n.digest())}function hE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ns([n,r],0),new ns([s,a],0)]}class cy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ns.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(ns.fromNumber(r)));return s.compare(ML)===1&&(s=new ns([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=dE(e),[r,s]=hE(n);for(let a=0;a<this.hashCount;a++){const l=this.we(r,s,a);if(!this.be(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new cy(a,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const n=dE(e),[r,s]=hE(n);for(let a=0;a<this.hashCount;a++){const l=this.we(r,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zh(Ve.min(),s,new Tt(He),gi(),Ke())}}class ku{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ku(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class $b{constructor(e,n){this.targetId=e,this.Ce=n}}class Wb{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class fE{constructor(){this.Fe=0,this.Me=pE(),this.xe=Jt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ke(),n=Ke(),r=Ke();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Le(38017,{changeType:a})}}),new ku(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=pE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class VL{constructor(e){this.ze=e,this.je=new Map,this.He=gi(),this.Je=cd(),this.Ye=cd(),this.Ze=new Tt(He)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const a=s.target;if(tg(a))if(r===0){const l=new Re(a.path);this.tt(n,l,an.newNoDocument(l,Ve.min()))}else Ze(r===1,20013,{expectedCount:r});else{const l=this.ut(n);if(l!==r){const c=this.ct(e),h=c?this.lt(c,e,l):1;if(h!==0){this.st(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=hs(r).toUint8Array()}catch(h){if(h instanceof mb)return Sa("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new cy(l,s,a)}catch(h){return Sa(h instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,a,null),s++)}),s}It(e){const n=new Map;this.je.forEach((a,l)=>{const c=this._t(l);if(c){if(a.current&&tg(c.target)){const h=new Re(c.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,an.newNoDocument(h,e))}a.Le&&(n.set(l,a.qe()),a.Qe())}});let r=Ke();this.Ye.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const s=new zh(e,n,this.Ze,this.He,r);return this.He=gi(),this.Je=cd(),this.Ye=cd(),this.Ze=new Tt(He),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new fE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ut(He),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ut(He),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new fE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function cd(){return new Tt(Re.comparator)}function pE(){return new Tt(Re.comparator)}const jL={asc:"ASCENDING",desc:"DESCENDING"},FL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UL={and:"AND",or:"OR"};class BL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ig(t,e){return t.useProto3Json||Mh(e)?e:{value:e}}function uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zL(t,e){return uh(t,e.toTimestamp())}function Fr(t){return Ze(!!t,49232),Ve.fromTimestamp(function(n){const r=ds(n);return new Ft(r.seconds,r.nanos)}(t))}function dy(t,e){return sg(t,e).canonicalString()}function sg(t,e){const n=function(s){return new dt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Kb(t){const e=dt.fromString(t);return Ze(Jb(e),10190,{key:e.toString()}),e}function og(t,e){return dy(t.databaseId,e.path)}function sm(t,e){const n=Kb(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(Qb(n))}function Gb(t,e){return dy(t.databaseId,e)}function HL(t){const e=Kb(t);return e.length===4?dt.emptyPath():Qb(e)}function ag(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qb(t){return Ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function mE(t,e,n){return{name:og(t,e),fields:n.value.mapValue.fields}}function $L(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Le(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,m){return p.useProto3Json?(Ze(m===void 0||typeof m=="string",58123),Jt.fromBase64String(m||"")):(Ze(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Jt.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?he.UNKNOWN:Hb(p.code);return new Ie(m,p.message||"")}(l);n=new Wb(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=sm(t,r.document.name),a=Fr(r.document.updateTime),l=r.document.createTime?Fr(r.document.createTime):Ve.min(),c=new xn({mapValue:{fields:r.document.fields}}),h=an.newFoundDocument(s,a,l,c),p=r.targetIds||[],m=r.removedTargetIds||[];n=new Vd(p,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=sm(t,r.document),a=r.readTime?Fr(r.readTime):Ve.min(),l=an.newNoDocument(s,a),c=r.removedTargetIds||[];n=new Vd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=sm(t,r.document),a=r.removedTargetIds||[];n=new Vd([],a,s,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new DL(s,a),c=r.targetId;n=new $b(c,l)}}return n}function WL(t,e){let n;if(e instanceof Au)n={update:mE(t,e.key,e.value)};else if(e instanceof ly)n={delete:og(t,e.key)};else if(e instanceof ws)n={update:mE(t,e.key,e.data),updateMask:eM(e.fieldMask)};else{if(!(e instanceof kL))return Le(16599,{ft:e.type});n={verify:og(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof ah)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof vu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _u)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof lh)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Le(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:zL(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Le(27497)}(t,e.precondition)),n}function qL(t,e){return t&&t.length>0?(Ze(e!==void 0,14353),t.map(n=>function(s,a){let l=s.updateTime?Fr(s.updateTime):Fr(a);return l.isEqual(Ve.min())&&(l=Fr(a)),new CL(l,s.transformResults||[])}(n,e))):[]}function KL(t,e){return{documents:[Gb(t,e.path)]}}function GL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Gb(t,s);const a=function(p){if(p.length!==0)return Xb(_r.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(m=>function(w){return{field:ca(w.field),direction:XL(w.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=ig(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:s}}function QL(t){let e=HL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ze(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=function(y){const w=Yb(y);return w instanceof _r&&Ib(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(w=>function(R){return new yu(da(R.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(w))}(n.orderBy));let c=null;n.limit&&(c=function(y){let w;return w=typeof y=="object"?y.value:y,Mh(w)?null:w}(n.limit));let h=null;n.startAt&&(h=function(y){const w=!!y.before,I=y.values||[];return new oh(I,w)}(n.startAt));let p=null;return n.endAt&&(p=function(y){const w=!y.before,I=y.values||[];return new oh(I,w)}(n.endAt)),mL(e,s,l,a,c,"F",h,p)}function YL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Yb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=da(n.unaryFilter.field);return Lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=da(n.unaryFilter.field);return Lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=da(n.unaryFilter.field);return Lt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=da(n.unaryFilter.field);return Lt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}}(t):t.fieldFilter!==void 0?function(n){return Lt.create(da(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _r.create(n.compositeFilter.filters.map(r=>Yb(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Le(1026)}}(n.compositeFilter.op))}(t):Le(30097,{filter:t})}function XL(t){return jL[t]}function JL(t){return FL[t]}function ZL(t){return UL[t]}function ca(t){return{fieldPath:t.canonicalString()}}function da(t){return Xt.fromServerFormat(t.fieldPath)}function Xb(t){return t instanceof Lt?function(n){if(n.op==="=="){if(nE(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nE(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(n.field),op:JL(n.op),value:n.value}}}(t):t instanceof _r?function(n){const r=n.getFilters().map(s=>Xb(s));return r.length===1?r[0]:{compositeFilter:{op:ZL(n.op),filters:r}}}(t):Le(54877,{filter:t})}function eM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Jb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,r,s,a=Ve.min(),l=Ve.min(),c=Jt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.wt=e}}function nM(t){const e=QL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.Cn=new iM}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(cs.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class iM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ut(dt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ut(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zb=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(Zb,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Pa(0)}static lr(){return new Pa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LruGarbageCollector",sM=1048576;function vE([t,e],[n,r]){const s=He(t,n);return s===0?He(e,r):s}class oM{constructor(e){this.Er=e,this.buffer=new Ut(vE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Te(yE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Va(n)?Te(yE,"Ignoring IndexedDB error during garbage collection: ",n):await Ma(n)}await this.mr(3e5)})}}class lM{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return de.resolve(Lh.le);const r=new oM(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(gE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,a,l,c,h,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(p=Date.now(),la()<=qe.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(p-h)+`ms
Total Duration: ${p-m}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y})))}}function uM(t,e){return new lM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.changes=new go(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&iu(r.mutation,s,Vn.empty(),Ft.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ke()){const s=no();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=Gl();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=no();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ke()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let a=gi();const l=ru(),c=function(){return ru()}();return n.forEach((h,p)=>{const m=r.get(p.key);s.has(p.key)&&(m===void 0||m.mutation instanceof ws)?a=a.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),iu(m.mutation,p,m.mutation.getFieldMask(),Ft.now())):l.set(p.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,m)=>l.set(p,m)),n.forEach((p,m)=>{var y;return c.set(p,new dM(m,(y=l.get(p))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,n){const r=ru();let s=new Tt((l,c)=>l-c),a=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let m=r.get(h)||Vn.empty();m=c.applyToLocalView(p,m),r.set(h,m);const y=(s.get(c.batchId)||Ke()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,m=h.value,y=Lb();m.forEach(w=>{if(!a.has(w)){const I=Bb(n.get(w),r.get(w));I!==null&&y.set(w,I),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return de.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Re.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ab(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):de.resolve(no());let c=fu,h=a;return l.next(p=>de.forEach(p,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(m)?de.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{h=h.insert(m,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,Ke())).next(m=>({batchId:c,changes:Db(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(r=>{let s=Gl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Gl();return this.indexManager.getCollectionParents(e,a).next(c=>de.forEach(c,h=>{const p=function(y,w){return new ja(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(m=>{m.forEach((y,w)=>{l=l.insert(y,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((h,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,an.newInvalidDocument(m)))});let c=Gl();return l.forEach((h,p)=>{const m=a.get(h);m!==void 0&&iu(m.mutation,p,Vn.empty(),Ft.now()),Fh(n,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return de.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Fr(s.createTime)}}(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:nM(s.bundledQuery),readTime:Fr(s.readTime)}}(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.overlays=new Tt(Re.comparator),this.Qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=no();return de.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.St(e,n,a)}),de.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const s=no(),a=n.length+1,l=new Re(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return de.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new Tt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=no(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=no(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=s)););return de.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new NL(n,r));let a=this.Qr.get(n);a===void 0&&(a=Ke(),this.Qr.set(n,a)),this.Qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.$r=new Ut(Wt.Ur),this.Kr=new Ut(Wt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Wt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Wt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Re(new dt([])),r=new Wt(n,e),s=new Wt(n,e+1),a=[];return this.Kr.forEachInRange([r,s],l=>{this.zr(l),a.push(l.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Re(new dt([])),r=new Wt(n,e),s=new Wt(n,e+1);let a=Ke();return this.Kr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Wt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Re.comparator(e.key,n.key)||He(e.Zr,n.Zr)}static Wr(e,n){return He(e.Zr,n.Zr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ut(Wt.Ur)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new OL(a,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Xr=this.Xr.add(new Wt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return de.resolve(l)}lookupMutationBatch(e,n){return de.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),a=s<0?0:s;return de.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?ny:this.nr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wt(n,0),s=new Wt(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,s],l=>{const c=this.ei(l.Zr);a.push(c)}),de.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(He);return n.forEach(s=>{const a=new Wt(s,0),l=new Wt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,l],c=>{r=r.add(c.Zr)})}),de.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Re.isDocumentKey(a)||(a=a.child(""));const l=new Wt(new Re(a),0);let c=new Ut(He);return this.Xr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(h.Zr)),!0)},l),de.resolve(this.ni(c))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ze(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return de.forEach(n.mutations,s=>{const a=new Wt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Wt(n,0),s=this.Xr.firstAfterOrEqual(r);return de.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.ii=e,this.docs=function(){return new Tt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=gi();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():an.newInvalidDocument(s))}),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=gi();const l=n.path,c=new Re(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:m}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||KD(qD(m),r)<=0||(s.has(m.key)||Fh(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return de.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Le(9500)}si(e,n){return de.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vM(this)}getSize(e){return de.resolve(this.size)}}class vM extends cM{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),de.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.persistence=e,this.oi=new go(n=>sy(n),oy),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this._i=0,this.ai=new hy,this.targetCount=0,this.ui=Pa.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),de.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Pa(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Tr(n),de.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.oi.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),de.waitFor(a).next(()=>s)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),de.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.ci={},this.overlays={},this.li=new Lh(0),this.hi=!1,this.hi=!0,this.Pi=new mM,this.referenceDelegate=e(this),this.Ti=new _M(this),this.indexManager=new rM,this.remoteDocumentCache=function(s){return new yM(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new tM(n),this.Ei=new fM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new gM(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const s=new wM(this.li.next());return this.referenceDelegate.di(),r(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(e,n){return de.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class wM extends QD{constructor(e){super(),this.currentSequenceNumber=e}}class fy{constructor(e){this.persistence=e,this.Vi=new hy,this.mi=null}static fi(e){return new fy(e)}get gi(){if(this.mi)return this.mi;throw Le(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.gi,r=>{const s=Re.fromPath(r);return this.pi(e,s).next(a=>{a||n.removeEntry(s,Ve.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return de.or([()=>de.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class ch{constructor(e,n){this.persistence=e,this.yi=new go(r=>JD(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=uM(this,n)}static fi(e,n){return new ch(e,n)}di(){}Ai(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return de.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(a=>a?de.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(e,l=>this.Dr(e,l,n).next(c=>{c||(r++,a.removeEntry(l,Ve.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),de.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dd(e.data.value)),n}Dr(e,n,r){return de.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return de.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Ke(),s=Ke();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new py(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return vN()?8:YD(ln())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ws(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.bs(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new EM;return this.Ss(e,n,l).next(c=>{if(a.result=c,this.fs)return this.Ds(e,n,l,c.size)})}).next(()=>a.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(la()<=qe.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),de.resolve()):(la()<=qe.DEBUG&&Te("QueryEngine","Query:",ua(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(la()<=qe.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(n))):de.resolve())}ws(e,n){if(oE(n))return de.resolve(null);let r=jr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=rg(n,null,"F"),r=jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ke(...a);return this.ys.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.vs(n,c);return this.Cs(n,p,l,h.readTime)?this.ws(e,rg(n,null,"F")):this.Fs(e,p,n,h)}))})))}bs(e,n,r,s){return oE(n)||s.isEqual(Ve.min())?de.resolve(null):this.ys.getDocuments(e,r).next(a=>{const l=this.vs(n,a);return this.Cs(n,l,r,s)?de.resolve(null):(la()<=qe.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ua(n)),this.Fs(e,l,n,WD(s,fu)).next(c=>c))})}vs(e,n){let r=new Ut(Ob(e));return n.forEach((s,a)=>{Fh(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return la()<=qe.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",ua(n)),this.ys.getDocumentsMatchingQuery(e,n,cs.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="LocalStore",SM=3e8;class bM{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Tt(He),this.Os=new go(a=>sy(a),oy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function IM(t,e,n,r){return new bM(t,e,n,r)}async function tI(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let h=Ke();for(const p of s){l.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}for(const p of a){c.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next(p=>({ks:p,removedBatchIds:l,addedBatchIds:c}))})})}function xM(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(c,h,p,m){const y=p.batch,w=y.keys();let I=de.resolve();return w.forEach(R=>{I=I.next(()=>m.getEntry(h,R)).next(N=>{const V=p.docVersions.get(R);Ze(V!==null,48541),N.version.compareTo(V)<0&&(y.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),m.addEntry(N)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Ke();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function nI(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function PM(t,e){const n=Fe(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const c=[];e.targetChanges.forEach((m,y)=>{const w=s.get(y);if(!w)return;c.push(n.Ti.removeMatchingKeys(a,m.removedDocuments,y).next(()=>n.Ti.addMatchingKeys(a,m.addedDocuments,y)));let I=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?I=I.withResumeToken(Jt.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):m.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(m.resumeToken,r)),s=s.insert(y,I),function(N,V,B){return N.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=SM?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(w,I,m)&&c.push(n.Ti.updateTargetData(a,I))});let h=gi(),p=Ke();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(CM(a,l,e.documentUpdates).next(m=>{h=m.qs,p=m.Qs})),!r.isEqual(Ve.min())){const m=n.Ti.getLastRemoteSnapshotVersion(a).next(y=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(m)}return de.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(n.xs=s,a))}function CM(t,e,n){let r=Ke(),s=Ke();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=gi();return n.forEach((c,h)=>{const p=a.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Ve.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):Te(my,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{qs:l,Qs:s}})}function RM(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ny),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AM(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(a=>a?(s=a,de.resolve(s)):n.Ti.allocateTargetId(r).next(l=>(s=new Ji(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function lg(t,e,n){const r=Fe(t),s=r.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Va(l))throw l;Te(my,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function _E(t,e,n){const r=Fe(t);let s=Ve.min(),a=Ke();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,m){const y=Fe(h),w=y.Os.get(m);return w!==void 0?de.resolve(y.xs.get(w)):y.Ti.getTargetData(p,m)}(r,l,jr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,n?s:Ve.min(),n?a:Ke())).next(c=>(kM(r,yL(e),c),{documents:c,$s:a})))}function kM(t,e,n){let r=t.Ns.get(e)||Ve.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ns.set(e,r)}class wE{constructor(){this.activeTargetIds=SL()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OM{constructor(){this.xo=new wE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new wE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="ConnectivityMonitor";class TE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Te(EE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Te(EE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd=null;function ug(){return dd===null?dd=function(){return 268435456+Math.round(2147483648*Math.random())}():dd++,"0x"+dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="RestConnection",DM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LM{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===ih?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,a){const l=ug(),c=this.jo(e,n.toUriEncodedString());Te(om,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,s,a);const{host:p}=new URL(c),m=vs(p);return this.Jo(e,c,h,r,m).then(y=>(Te(om,`Received RPC '${e}' ${l}: `,y),y),y=>{throw Sa(om,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y})}Yo(e,n,r,s,a,l){return this.zo(e,n,r,s,a)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+La}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}jo(e,n){const r=DM[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class VM extends LM{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const l=ug();return new Promise((c,h)=>{const p=new ib;p.setWithCredentials(!0),p.listenOnce(sb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Nd.NO_ERROR:const y=p.getResponseJson();Te(rn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Nd.TIMEOUT:Te(rn,`RPC '${e}' ${l} timed out`),h(new Ie(he.DEADLINE_EXCEEDED,"Request time out"));break;case Nd.HTTP_ERROR:const w=p.getStatus();if(Te(rn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const R=I==null?void 0:I.error;if(R&&R.status&&R.message){const N=function(B){const z=B.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(z)>=0?z:he.UNKNOWN}(R.status);h(new Ie(N,R.message))}else h(new Ie(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Ie(he.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{h_:e,streamId:l,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{Te(rn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(s);Te(rn,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",m,r,15)})}I_(e,n,r){const s=ug(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=lb(),c=ab(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=a.join("");Te(rn,`Creating RPC '${e}' stream ${s}: ${m}`,h);const y=l.createWebChannel(m,h);this.E_(y);let w=!1,I=!1;const R=new MM({Zo:V=>{I?Te(rn,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(w||(Te(rn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),w=!0),Te(rn,`RPC '${e}' stream ${s} sending:`,V),y.send(V))},Xo:()=>y.close()}),N=(V,B,z)=>{V.listen(B,H=>{try{z(H)}catch(K){setTimeout(()=>{throw K},0)}})};return N(y,Kl.EventType.OPEN,()=>{I||(Te(rn,`RPC '${e}' stream ${s} transport opened.`),R.__())}),N(y,Kl.EventType.CLOSE,()=>{I||(I=!0,Te(rn,`RPC '${e}' stream ${s} transport closed`),R.u_(),this.d_(y))}),N(y,Kl.EventType.ERROR,V=>{I||(I=!0,Sa(rn,`RPC '${e}' stream ${s} transport errored. Name:`,V.name,"Message:",V.message),R.u_(new Ie(he.UNAVAILABLE,"The operation could not be completed")))}),N(y,Kl.EventType.MESSAGE,V=>{var B;if(!I){const z=V.data[0];Ze(!!z,16349);const H=z,K=(H==null?void 0:H.error)||((B=H[0])===null||B===void 0?void 0:B.error);if(K){Te(rn,`RPC '${e}' stream ${s} received error:`,K);const F=K.status;let U=function(T){const E=Nt[T];if(E!==void 0)return Hb(E)}(F),x=K.message;U===void 0&&(U=he.INTERNAL,x="Unknown error status: "+F+" with message "+K.message),I=!0,R.u_(new Ie(U,x)),y.close()}else Te(rn,`RPC '${e}' stream ${s} received:`,z),R.c_(z)}}),N(c,ob.STAT_EVENT,V=>{V.stat===Ym.PROXY?Te(rn,`RPC '${e}' stream ${s} detected buffering proxy`):V.stat===Ym.NOPROXY&&Te(rn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.a_()},0),R}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){return new BL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,r=1e3,s=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&Te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="PersistentStream";class iI{constructor(e,n,r,s,a,l,c,h){this.xi=e,this.S_=r,this.D_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new rI(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new Ie(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Te(SE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Te(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jM extends iI{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=$L(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ve.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ve.min():l.readTime?Fr(l.readTime):Ve.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=ag(this.serializer),n.addTarget=function(a,l){let c;const h=l.target;if(c=tg(h)?{documents:KL(a,h)}:{query:GL(a,h).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=qb(a,l.resumeToken);const p=ig(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ve.min())>0){c.readTime=uh(a,l.snapshotVersion.toTimestamp());const p=ig(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=YL(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=ag(this.serializer),n.removeTarget=e,this.Q_(n)}}class FM extends iI{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=qL(e.writeResults,e.commitTime),r=Fr(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=ag(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>WL(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{}class BM extends UM{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Ie(he.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.zo(e,sg(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(he.UNKNOWN,a.toString())})}Yo(e,n,r,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(e,sg(n,r),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(he.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class zM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(mi(n),this.ua=!1):Te("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="RemoteStore";class HM{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(l=>{r.enqueueAndForget(async()=>{yo(this)&&(Te(lo,"Restarting streams for network reachability change."),await async function(h){const p=Fe(h);p.da.add(4),await Ou(p),p.Va.set("Unknown"),p.da.delete(4),await $h(p)}(this))})}),this.Va=new zM(r,s)}}async function $h(t){if(yo(t))for(const e of t.Aa)await e(!0)}async function Ou(t){for(const e of t.Aa)await e(!1)}function sI(t,e){const n=Fe(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),_y(n)?vy(n):Fa(n).N_()&&yy(n,e))}function gy(t,e){const n=Fe(t),r=Fa(n);n.Ea.delete(e),r.N_()&&oI(n,e),n.Ea.size===0&&(r.N_()?r.k_():yo(n)&&n.Va.set("Unknown"))}function yy(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fa(t).Z_(e)}function oI(t,e){t.ma.Ke(e),Fa(t).X_(e)}function vy(t){t.ma=new VL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Fa(t).start(),t.Va.ca()}function _y(t){return yo(t)&&!Fa(t).O_()&&t.Ea.size>0}function yo(t){return Fe(t).da.size===0}function aI(t){t.ma=void 0}async function $M(t){t.Va.set("Online")}async function WM(t){t.Ea.forEach((e,n)=>{yy(t,e)})}async function qM(t,e){aI(t),_y(t)?(t.Va.Pa(e),vy(t)):t.Va.set("Unknown")}async function KM(t,e,n){if(t.Va.set("Online"),e instanceof Wb&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ea.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ea.delete(c),s.ma.removeTarget(c))}(t,e)}catch(r){Te(lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dh(t,r)}else if(e instanceof Vd?t.ma.Xe(e):e instanceof $b?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ve.min()))try{const r=await nI(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.ma.It(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const m=a.Ea.get(p);m&&a.Ea.set(p,m.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const m=a.Ea.get(h);if(!m)return;a.Ea.set(h,m.withResumeToken(Jt.EMPTY_BYTE_STRING,m.snapshotVersion)),oI(a,h);const y=new Ji(m.target,h,p,m.sequenceNumber);yy(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Te(lo,"Failed to raise snapshot:",r),await dh(t,r)}}async function dh(t,e,n){if(!Va(e))throw e;t.da.add(1),await Ou(t),t.Va.set("Offline"),n||(n=()=>nI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te(lo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await $h(t)})}function lI(t,e){return e().catch(n=>dh(t,n,e))}async function Wh(t){const e=Fe(t),n=ps(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:ny;for(;GM(e);)try{const s=await RM(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,QM(e,s)}catch(s){await dh(e,s)}uI(e)&&cI(e)}function GM(t){return yo(t)&&t.Ia.length<10}function QM(t,e){t.Ia.push(e);const n=ps(t);n.N_()&&n.ea&&n.ta(e.mutations)}function uI(t){return yo(t)&&!ps(t).O_()&&t.Ia.length>0}function cI(t){ps(t).start()}async function YM(t){ps(t).ia()}async function XM(t){const e=ps(t);for(const n of t.Ia)e.ta(n.mutations)}async function JM(t,e,n){const r=t.Ia.shift(),s=uy.from(r,e,n);await lI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Wh(t)}async function ZM(t,e){e&&ps(t).ea&&await async function(r,s){if(function(l){return LL(l)&&l!==he.ABORTED}(s.code)){const a=r.Ia.shift();ps(r).L_(),await lI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Wh(r)}}(t,e),uI(t)&&cI(t)}async function bE(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),Te(lo,"RemoteStore received new credentials");const r=yo(n);n.da.add(3),await Ou(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await $h(n)}async function eV(t,e){const n=Fe(t);e?(n.da.delete(2),await $h(n)):e||(n.da.add(2),await Ou(n),n.Va.set("Unknown"))}function Fa(t){return t.fa||(t.fa=function(n,r,s){const a=Fe(n);return a.oa(),new jM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{e_:$M.bind(null,t),n_:WM.bind(null,t),i_:qM.bind(null,t),Y_:KM.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),_y(t)?vy(t):t.Va.set("Unknown")):(await t.fa.stop(),aI(t))})),t.fa}function ps(t){return t.ga||(t.ga=function(n,r,s){const a=Fe(n);return a.oa(),new FM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:YM.bind(null,t),i_:ZM.bind(null,t),na:XM.bind(null,t),ra:JM.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Wh(t)):(await t.ga.stop(),t.Ia.length>0&&(Te(lo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,c=new wy(e,n,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(t,e){if(mi("AsyncQueue",`${e}: ${t}`),Va(t))return new Ie(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{static emptySet(e){return new ya(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=Gl(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ya)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ya;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.pa=new Tt(Re.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Le(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ca{constructor(e,n,r,s,a,l,c,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Ca(e,n,ya.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class nV{constructor(){this.queries=xE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Fe(n),a=s.queries;s.queries=xE(),a.forEach((l,c)=>{for(const h of c.Sa)h.onError(r)})})(this,new Ie(he.ABORTED,"Firestore shutting down"))}}function xE(){return new go(t=>kb(t),jh)}async function rV(t,e){const n=Fe(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Da()&&e.va()&&(r=2):(a=new tV,r=e.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(s,!0);break;case 1:a.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=Ey(l,`Initialization of query '${ua(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&Ty(n)}async function iV(t,e){const n=Fe(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.va()?0:1:!a.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sV(t,e){const n=Fe(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.Sa)c.Ma(s)&&(r=!0);l.ba=s}}r&&Ty(n)}function oV(t,e,n){const r=Fe(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function Ty(t){t.Ca.forEach(e=>{e.next()})}var cg,PE;(PE=cg||(cg={})).xa="default",PE.Cache="cache";class aV{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==cg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.key=e}}class hI{constructor(e){this.key=e}}class lV{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ke(),this.mutatedKeys=Ke(),this.Za=Ob(e),this.Xa=new ya(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new IE,s=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,y)=>{const w=s.get(m),I=Fh(this.query,y)?y:null,R=!!w&&this.mutatedKeys.has(w.key),N=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let V=!1;w&&I?w.data.isEqual(I.data)?R!==N&&(r.track({type:3,doc:I}),V=!0):this.ru(w,I)||(r.track({type:2,doc:I}),V=!0,(h&&this.Za(I,h)>0||p&&this.Za(I,p)<0)&&(c=!0)):!w&&I?(r.track({type:0,doc:I}),V=!0):w&&!I&&(r.track({type:1,doc:w}),V=!0,(h||p)&&(c=!0)),V&&(I?(l=l.add(I),a=N?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Xa:l,nu:r,Cs:c,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((m,y)=>function(I,R){const N=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:V})}};return N(I)-N(R)}(m.type,y.type)||this.Za(m.doc,y.doc)),this.iu(r),s=s!=null&&s;const c=n&&!s?this.su():[],h=this.Ya.size===0&&this.current&&!s?1:0,p=h!==this.Ja;return this.Ja=h,l.length!==0||p?{snapshot:new Ca(this.query,e.Xa,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new IE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ke(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new hI(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new dI(r))}),n}au(e){this.Ha=e.$s,this.Ya=Ke();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Ca.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Sy="SyncEngine";class uV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cV{constructor(e){this.key=e,this.cu=!1}}class dV{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new go(c=>kb(c),jh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Tt(Re.comparator),this.Eu=new Map,this.du=new hy,this.Au={},this.Ru=new Map,this.Vu=Pa.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function hV(t,e,n=!0){const r=vI(t);let s;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.uu()):s=await fI(r,e,n,!0),s}async function fV(t,e){const n=vI(t);await fI(n,e,!0,!1)}async function fI(t,e,n,r){const s=await AM(t.localStore,jr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await pV(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&sI(t.remoteStore,s),c}async function pV(t,e,n,r,s){t.fu=(y,w,I)=>async function(N,V,B,z){let H=V.view.tu(B);H.Cs&&(H=await _E(N.localStore,V.query,!1).then(({documents:x})=>V.view.tu(x,H)));const K=z&&z.targetChanges.get(V.targetId),F=z&&z.targetMismatches.get(V.targetId)!=null,U=V.view.applyChanges(H,N.isPrimaryClient,K,F);return RE(N,V.targetId,U.ou),U.snapshot}(t,y,w,I);const a=await _E(t.localStore,e,!0),l=new lV(e,a.$s),c=l.tu(a.documents),h=ku.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(c,t.isPrimaryClient,h);RE(t,n,p.ou);const m=new uV(e,n,l);return t.hu.set(e,m),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),p.snapshot}async function mV(t,e,n){const r=Fe(t),s=r.hu.get(e),a=r.Pu.get(s.targetId);if(a.length>1)return r.Pu.set(s.targetId,a.filter(l=>!jh(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await lg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&gy(r.remoteStore,s.targetId),dg(r,s.targetId)}).catch(Ma)):(dg(r,s.targetId),await lg(r.localStore,s.targetId,!0))}async function gV(t,e){const n=Fe(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gy(n.remoteStore,r.targetId))}async function yV(t,e,n){const r=bV(t);try{const s=await function(l,c){const h=Fe(l),p=Ft.now(),m=c.reduce((I,R)=>I.add(R.key),Ke());let y,w;return h.persistence.runTransaction("Locally write mutations","readwrite",I=>{let R=gi(),N=Ke();return h.Bs.getEntries(I,m).next(V=>{R=V,R.forEach((B,z)=>{z.isValidDocument()||(N=N.add(B))})}).next(()=>h.localDocuments.getOverlayedDocuments(I,R)).next(V=>{y=V;const B=[];for(const z of c){const H=AL(z,y.get(z.key).overlayedDocument);H!=null&&B.push(new ws(z.key,H,Tb(H.value.mapValue),Zn.exists(!0)))}return h.mutationQueue.addMutationBatch(I,p,B,c)}).next(V=>{w=V;const B=V.applyToLocalDocumentSet(y,N);return h.documentOverlayCache.saveOverlays(I,V.batchId,B)})}).then(()=>({batchId:w.batchId,changes:Db(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let p=l.Au[l.currentUser.toKey()];p||(p=new Tt(He)),p=p.insert(c,h),l.Au[l.currentUser.toKey()]=p}(r,s.batchId,n),await Nu(r,s.changes),await Wh(r.remoteStore)}catch(s){const a=Ey(s,"Failed to persist write");n.reject(a)}}async function pI(t,e){const n=Fe(t);try{const r=await PM(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Eu.get(a);l&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.cu=!0:s.modifiedDocuments.size>0?Ze(l.cu,14607):s.removedDocuments.size>0&&(Ze(l.cu,42227),l.cu=!1))}),await Nu(n,r,e)}catch(r){await Ma(r)}}function CE(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((a,l)=>{const c=l.view.Fa(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Fe(l);h.onlineState=c;let p=!1;h.queries.forEach((m,y)=>{for(const w of y.Sa)w.Fa(c)&&(p=!0)}),p&&Ty(h)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vV(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),a=s&&s.key;if(a){let l=new Tt(Re.comparator);l=l.insert(a,an.newNoDocument(a,Ve.min()));const c=Ke().add(a),h=new zh(Ve.min(),new Map,new Tt(He),l,c);await pI(r,h),r.Iu=r.Iu.remove(a),r.Eu.delete(e),by(r)}else await lg(r.localStore,e,!1).then(()=>dg(r,e,n)).catch(Ma)}async function _V(t,e){const n=Fe(t),r=e.batch.batchId;try{const s=await xM(n.localStore,e);gI(n,r,null),mI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nu(n,s)}catch(s){await Ma(s)}}async function wV(t,e,n){const r=Fe(t);try{const s=await function(l,c){const h=Fe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return h.mutationQueue.lookupMutationBatch(p,c).next(y=>(Ze(y!==null,37113),m=y.keys(),h.mutationQueue.removeMutationBatch(p,y))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>h.localDocuments.getDocuments(p,m))})}(r.localStore,e);gI(r,e,n),mI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nu(r,s)}catch(s){await Ma(s)}}function mI(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function gI(t,e,n){const r=Fe(t);let s=r.Au[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function dg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||yI(t,r)})}function yI(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(gy(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),by(t))}function RE(t,e,n){for(const r of n)r instanceof dI?(t.du.addReference(r.key,e),EV(t,r)):r instanceof hI?(Te(Sy,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||yI(t,r.key)):Le(19791,{pu:r})}function EV(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Te(Sy,"New document in limbo: "+n),t.Tu.add(r),by(t))}function by(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Re(dt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new cV(n)),t.Iu=t.Iu.insert(n,r),sI(t.remoteStore,new Ji(jr(Rb(n.path)),r,"TargetPurposeLimboResolution",Lh.le))}}async function Nu(t,e,n){const r=Fe(t),s=[],a=[],l=[];r.hu.isEmpty()||(r.hu.forEach((c,h)=>{l.push(r.fu(h,e,n).then(p=>{var m;if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:(m=n==null?void 0:n.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(p){s.push(p);const y=py.Rs(h.targetId,p);a.push(y)}}))}),await Promise.all(l),r.lu.Y_(s),await async function(h,p){const m=Fe(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>de.forEach(p,w=>de.forEach(w.ds,I=>m.persistence.referenceDelegate.addReference(y,w.targetId,I)).next(()=>de.forEach(w.As,I=>m.persistence.referenceDelegate.removeReference(y,w.targetId,I)))))}catch(y){if(!Va(y))throw y;Te(my,"Failed to update sequence numbers: "+y)}for(const y of p){const w=y.targetId;if(!y.fromCache){const I=m.xs.get(w),R=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(R);m.xs=m.xs.insert(w,N)}}}(r.localStore,a))}async function TV(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){Te(Sy,"User change. New user:",e.toKey());const r=await tI(n.localStore,e);n.currentUser=e,function(a,l){a.Ru.forEach(c=>{c.forEach(h=>{h.reject(new Ie(he.CANCELLED,l))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nu(n,r.ks)}}function SV(t,e){const n=Fe(t),r=n.Eu.get(e);if(r&&r.cu)return Ke().add(r.key);{let s=Ke();const a=n.Pu.get(e);if(!a)return s;for(const l of a){const c=n.hu.get(l);s=s.unionWith(c.view.eu)}return s}}function vI(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vV.bind(null,e),e.lu.Y_=sV.bind(null,e.eventManager),e.lu.gu=oV.bind(null,e.eventManager),e}function bV(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_V.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wV.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return IM(this.persistence,new TM,e.initialUser,this.serializer)}Su(e){return new eI(fy.fi,this.serializer)}bu(e){return new OM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class IV extends hh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ze(this.persistence.referenceDelegate instanceof ch,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aM(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new eI(r=>ch.fi(r,n),this.serializer)}}class hg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TV.bind(null,this.syncEngine),await eV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nV}()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),r=function(a){return new VM(a)}(e.databaseInfo);return function(a,l,c,h){return new BM(a,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,c){return new HM(r,s,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>CE(this.syncEngine,n,0),function(){return TE.C()?new TE:new NM}())}createSyncEngine(e,n){return function(s,a,l,c,h,p,m){const y=new dV(s,a,l,c,h,p);return m&&(y.mu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=Fe(s);Te(lo,"RemoteStore shutting down."),a.da.add(5),await Ou(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hg.provider={build:()=>new hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class PV{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=on.UNAUTHENTICATED,this.clientId=hb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{Te(ms,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Te(ms,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ey(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lm(t,e){t.asyncQueue.verifyOperationInProgress(),Te(ms,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await tI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function AE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await CV(t);Te(ms,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>bE(e.remoteStore,s)),t._onlineComponents=e}async function CV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(ms,"Using user provided OfflineComponentProvider");try{await lm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===he.FAILED_PRECONDITION||s.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Sa("Error using user provided cache. Falling back to memory cache: "+n),await lm(t,new hh)}}else Te(ms,"Using default OfflineComponentProvider"),await lm(t,new IV(void 0));return t._offlineComponents}async function _I(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(ms,"Using user provided OnlineComponentProvider"),await AE(t,t._uninitializedComponentsProvider._online)):(Te(ms,"Using default OnlineComponentProvider"),await AE(t,new hg))),t._onlineComponents}function RV(t){return _I(t).then(e=>e.syncEngine)}async function AV(t){const e=await _I(t),n=e.eventManager;return n.onListen=hV.bind(null,e.syncEngine),n.onUnlisten=mV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gV.bind(null,e.syncEngine),n}function kV(t,e,n={}){const r=new rs;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,p){const m=new xV({next:w=>{m.xu(),l.enqueueAndForget(()=>iV(a,y)),w.fromCache&&h.source==="server"?p.reject(new Ie(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new aV(c,m,{includeMetadataChanges:!0,Qa:!0});return rV(a,y)}(await AV(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t,e,n){if(!n)throw new Ie(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OV(t,e,n,r){if(e===!0&&r===!0)throw new Ie(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OE(t){if(!Re.isDocumentKey(t))throw new Ie(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NE(t){if(Re.isDocumentKey(t))throw new Ie(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qh(t);throw new Ie(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="firestore.googleapis.com",DE=!0;class LE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TI,this.ssl=DE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:DE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sM)throw new Ie(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ie(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ie(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ie(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MD;switch(r.type){case"firstParty":return new UD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kE.get(n);r&&(Te("ComponentProvider","Removing Datastore"),kE.delete(n),r.terminate())}(this),Promise.resolve()}}function NV(t,e,n,r={}){var s;t=yi(t,Kh);const a=vs(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a&&(Yg(`https://${h}`),Xg("Firestore",!0)),l.host!==TI&&l.host!==h&&Sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:h,ssl:a,emulatorOptions:r});if(!so(p,c)&&(t._setSettings(p),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=on.MOCK_USER;else{m=X1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ie(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(w)}t._authCredentials=new VD(new cb(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vo(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class is extends vo{constructor(e,n,r){super(e,n,Rb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Re(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function Iy(t,e,...n){if(t=Et(t),EI("collection","path",e),t instanceof Kh){const r=dt.fromString(e,...n);return NE(r),new is(t,null,r)}{if(!(t instanceof Pn||t instanceof is))throw new Ie(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return NE(r),new is(t.firestore,null,r)}}function Ua(t,e,...n){if(t=Et(t),arguments.length===1&&(e=hb.newId()),EI("doc","path",e),t instanceof Kh){const r=dt.fromString(e,...n);return OE(r),new Pn(t,null,new Re(r))}{if(!(t instanceof Pn||t instanceof is))throw new Ie(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return OE(r),new Pn(t.firestore,t instanceof is?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="AsyncQueue";class VE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new rI(this,"async_queue_retry"),this.rc=()=>{const r=am();r&&Te(ME,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new rs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Va(e))throw e;Te(ME,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,mi("INTERNAL UNHANDLED ERROR: ",jE(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=wy.createAndSchedule(this,e,n,r,a=>this.uc(a));return this.Zu.push(s),s}oc(){this.Xu&&Le(47125,{cc:jE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function jE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ba extends Kh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new VE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VE(e),this._firestoreClient=void 0,await e}}}function DV(t,e){const n=typeof t=="object"?t:ey(),r=typeof t=="string"?t:ih,s=Dh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=G1("firestore");a&&NV(s,...a)}return s}function SI(t){if(t._terminated)throw new Ie(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LV(t),t._firestoreClient}function LV(t){var e,n,r;const s=t._freezeSettings(),a=function(c,h,p,m){return new tL(c,h,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,wI(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new PV(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ra(Jt.fromBase64String(e))}catch(n){throw new Ie(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ra(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=/^__.*__$/;class VV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class bI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function II(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ic:t})}}class Ry{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Ry(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return fh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(II(this.Ic)&&MV.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class jV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hh(e)}bc(e,n,r,s=!1){return new Ry({Ic:e,methodName:n,wc:r,path:Xt.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qh(t){const e=t._freezeSettings(),n=Hh(t._databaseId);return new jV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xI(t,e,n,r,s,a={}){const l=t.bc(a.merge||a.mergeFields?2:0,e,n,s);Ay("Data must be an object, but it was:",l,r);const c=PI(r,l);let h,p;if(a.merge)h=new Vn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const y of a.mergeFields){const w=fg(e,y,n);if(!l.contains(w))throw new Ie(he.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);RI(m,w)||m.push(w)}h=new Vn(m),p=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,p=l.fieldTransforms;return new VV(new xn(c),h,p)}class Yh extends xy{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}function FV(t,e,n,r){const s=t.bc(1,e,n);Ay("Data must be an object, but it was:",s,r);const a=[],l=xn.empty();_s(r,(h,p)=>{const m=ky(e,h,n);p=Et(p);const y=s.mc(m);if(p instanceof Yh)a.push(m);else{const w=Du(p,y);w!=null&&(a.push(m),l.set(m,w))}});const c=new Vn(a);return new bI(l,c,s.fieldTransforms)}function UV(t,e,n,r,s,a){const l=t.bc(1,e,n),c=[fg(e,r,n)],h=[s];if(a.length%2!=0)throw new Ie(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)c.push(fg(e,a[w])),h.push(a[w+1]);const p=[],m=xn.empty();for(let w=c.length-1;w>=0;--w)if(!RI(p,c[w])){const I=c[w];let R=h[w];R=Et(R);const N=l.mc(I);if(R instanceof Yh)p.push(I);else{const V=Du(R,N);V!=null&&(p.push(I),m.set(I,V))}}const y=new Vn(p);return new bI(m,y,l.fieldTransforms)}function BV(t,e,n,r=!1){return Du(n,t.bc(r?4:3,e))}function Du(t,e){if(CI(t=Et(t)))return Ay("Unsupported field value:",e,t),PI(t,e);if(t instanceof xy)return function(r,s){if(!II(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const c of r){let h=Du(c,s.fc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ft.fromDate(r);return{timestampValue:uh(s.serializer,a)}}if(r instanceof Ft){const a=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(s.serializer,a)}}if(r instanceof Py)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ra)return{bytesValue:qb(s.serializer,r._byteString)};if(r instanceof Pn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:dy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Cy)return function(l,c){return{mapValue:{fields:{[wb]:{stringValue:Eb},[sh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.gc("VectorValues must only contain numeric values.");return ay(c.serializer,p)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${qh(r)}`)}(t,e)}function PI(t,e){const n={};return pb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(t,(r,s)=>{const a=Du(s,e.Ac(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function CI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof Py||t instanceof Ra||t instanceof Pn||t instanceof xy||t instanceof Cy)}function Ay(t,e,n){if(!CI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=qh(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function fg(t,e,n){if((e=Et(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return ky(t,e);throw fh("Field path arguments must be of type string or ",t,!1,void 0,n)}const zV=new RegExp("[~\\*/\\[\\]]");function ky(t,e,n){if(e.search(zV)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gh(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fh(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new Ie(he.INVALID_ARGUMENT,c+t+h)}function RI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Oy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HV extends AI{data(){return super.data()}}function Oy(t,e){return typeof e=="string"?ky(t,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ny{}class kI extends Ny{}function WV(t,e,...n){let r=[];e instanceof Ny&&r.push(e),r=r.concat(n),function(a){const l=a.filter(h=>h instanceof Ly).length,c=a.filter(h=>h instanceof Dy).length;if(l>1||l>0&&c>0)throw new Ie(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Dy extends kI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Dy(e,n,r)}_apply(e){const n=this._parse(e);return OI(e._query,n),new vo(e.firestore,e.converter,ng(e._query,n))}_parse(e){const n=Qh(e.firestore);return function(a,l,c,h,p,m,y){let w;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ie(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){UE(y,m);const R=[];for(const N of y)R.push(FE(h,a,N));w={arrayValue:{values:R}}}else w=FE(h,a,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||UE(y,m),w=BV(c,l,y,m==="in"||m==="not-in");return Lt.create(p,m,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ly extends Ny{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ly(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const h of c)OI(l,h),l=ng(l,h)}(e._query,n),new vo(e.firestore,e.converter,ng(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class My extends kI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new My(e,n)}_apply(e){const n=function(s,a,l){if(s.startAt!==null)throw new Ie(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ie(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(a,l)}(e._query,this._field,this._direction);return new vo(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new ja(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function qV(t,e="asc"){const n=e,r=Oy("orderBy",t);return My._create(r,n)}function FE(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new Ie(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ab(e)&&n.indexOf("/")!==-1)throw new Ie(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!Re.isDocumentKey(r))throw new Ie(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eE(t,new Re(r))}if(n instanceof Pn)return eE(t,n._key);throw new Ie(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(n)}.`)}function UE(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OI(t,e){const n=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ie(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KV{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _s(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[sh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>Rt(l.doubleValue));return new Cy(a)}convertGeoPoint(e){return new Py(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=ds(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);Ze(Jb(r),9688,{name:e});const s=new mu(r.get(1),r.get(3)),a=new Re(r.popFirst(5));return s.isEqual(n)||mi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GV extends AI{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Oy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jd extends GV{data(e={}){return super.data(e)}}class QV{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new hd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jd(this._firestore,this._userDataWriter,r.key,r,new hd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new jd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new hd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new jd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new hd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:YV(c.type),doc:h,oldIndex:p,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}class XV extends KV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ra(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function DI(t){t=yi(t,vo);const e=yi(t.firestore,Ba),n=SI(e),r=new XV(e);return $V(t._query),kV(n,t._query).then(s=>new QV(e,r,t,s))}function LI(t,e,n){t=yi(t,Pn);const r=yi(t.firestore,Ba),s=NI(t.converter,e);return Xh(r,[xI(Qh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Zn.none())])}function MI(t,e,n,...r){t=yi(t,Pn);const s=yi(t.firestore,Ba),a=Qh(s);let l;return l=typeof(e=Et(e))=="string"||e instanceof Gh?UV(a,"updateDoc",t._key,e,n,r):FV(a,"updateDoc",t._key,e),Xh(s,[l.toMutation(t._key,Zn.exists(!0))])}function JV(t){return Xh(yi(t.firestore,Ba),[new ly(t._key,Zn.none())])}function ZV(t,e){const n=yi(t.firestore,Ba),r=Ua(t),s=NI(t.converter,e);return Xh(n,[xI(Qh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Zn.exists(!1))]).then(()=>r)}function Xh(t,e){return function(r,s){const a=new rs;return r.asyncQueue.enqueueAndForget(async()=>yV(await RV(r),s,a)),a.promise}(SI(t),e)}(function(e,n=!0){(function(s){La=s})(mo),oo(new us("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Ba(new jD(r.getProvider("auth-internal")),new BD(l,r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ie(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(p.options.projectId,m)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Vr(zw,Hw,e),Vr(zw,Hw,"esm2017")})();var e4="firebase",t4="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(e4,t4,"app");function Vy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function VI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n4=VI,jI=new Cu("auth","Firebase",VI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Jg("@firebase/auth");function r4(t,...e){ph.logLevel<=qe.WARN&&ph.warn(`Auth (${mo}): ${t}`,...e)}function Fd(t,...e){ph.logLevel<=qe.ERROR&&ph.error(`Auth (${mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,...e){throw jy(t,...e)}function Ur(t,...e){return jy(t,...e)}function FI(t,e,n){const r=Object.assign(Object.assign({},n4()),{[e]:n});return new Cu("auth","Firebase",r).create(e,{appName:t.name})}function ss(t){return FI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jI.create(t,...e)}function De(t,e,...n){if(!t)throw jy(e,...n)}function ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fd(e),new Error(e)}function vi(t,e){t||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function i4(){return BE()==="http:"||BE()==="https:"}function BE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i4()||mN()||"connection"in navigator)?navigator.onLine:!0}function o4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,vi(n>e,"Short delay should be less than long delay!"),this.isMobile=hN()||gN()}get(){return s4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t,e){vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],u4=new Lu(3e4,6e4);function _o(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Es(t,e,n,r,s={}){return BI(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Ru(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},a);return pN()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&vs(t.emulatorConfig.host)&&(p.credentials="include"),UI.fetch()(await zI(t,t.config.apiHost,n,c),p)})}async function BI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},a4),e);try{const s=new d4(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw fd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw fd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw fd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw fd(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw FI(t,m,p);wr(t,m)}}catch(s){if(s instanceof $r)throw s;wr(t,"network-request-failed",{message:String(s)})}}async function Jh(t,e,n,r,s={}){const a=await Es(t,e,n,r,s);return"mfaPendingCredential"in a&&wr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function zI(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?Fy(t.config,s):`${t.config.apiScheme}://${s}`;return l4.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function c4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class d4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),u4.get())})}}function fd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ur(t,e,r);return s.customData._tokenResponse=n,s}function zE(t){return t!==void 0&&t.enterprise!==void 0}class h4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return c4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function f4(t,e){return Es(t,"GET","/v2/recaptchaConfig",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e){return Es(t,"POST","/v1/accounts:delete",e)}async function mh(t,e){return Es(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m4(t,e=!1){const n=Et(t),r=await n.getIdToken(e),s=Uy(r);De(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:su(um(s.auth_time)),issuedAtTime:su(um(s.iat)),expirationTime:su(um(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function um(t){return Number(t)*1e3}function Uy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fd("JWT malformed, contained fewer than 3 sections"),null;try{const s=q1(n);return s?JSON.parse(s):(Fd("Failed to decode base64 JWT payload"),null)}catch(s){return Fd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function HE(t){const e=Uy(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $r&&g4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function g4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await wu(t,mh(n,{idToken:r}));De(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?HI(a.providerUserInfo):[],c=_4(t.providerData,l),h=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),m=h?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new mg(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function v4(t){const e=Et(t);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function HI(t){return t.map(e=>{var{providerId:n}=e,r=Vy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e){const n=await BI(t,{},async()=>{const r=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await zI(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&vs(t.emulatorConfig.host)&&(h.credentials="include"),UI.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E4(t,e){return Es(t,"POST","/v2/accounts:revokeToken",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=HE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await w4(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new va;return r&&(De(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(De(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new va,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=Vy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new y4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new mg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await wu(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return m4(this,e)}reload(){return v4(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await wu(this,p4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,c,h,p,m;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(s=n.email)!==null&&s!==void 0?s:void 0,I=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,R=(l=n.photoURL)!==null&&l!==void 0?l:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,V=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,B=(p=n.createdAt)!==null&&p!==void 0?p:void 0,z=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:H,emailVerified:K,isAnonymous:F,providerData:U,stsTokenManager:x}=n;De(H&&x,e,"internal-error");const A=va.fromJSON(this.name,x);De(typeof H=="string",e,"internal-error"),Hi(y,e.name),Hi(w,e.name),De(typeof K=="boolean",e,"internal-error"),De(typeof F=="boolean",e,"internal-error"),Hi(I,e.name),Hi(R,e.name),Hi(N,e.name),Hi(V,e.name),Hi(B,e.name),Hi(z,e.name);const T=new yr({uid:H,auth:e,email:w,emailVerified:K,displayName:y,isAnonymous:F,photoURL:R,phoneNumber:I,tenantId:N,stsTokenManager:A,createdAt:B,lastLoginAt:z});return U&&Array.isArray(U)&&(T.providerData=U.map(E=>Object.assign({},E))),V&&(T._redirectEventId=V),T}static async _fromIdTokenResponse(e,n,r=!1){const s=new va;s.updateFromServerResponse(n);const a=new yr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await gh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];De(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?HI(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new va;c.updateFromIdToken(r);const h=new yr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Map;function li(t){vi(t instanceof Function,"Expected a class definition");let e=$E.get(t);return e?(vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$E.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$I.type="NONE";const WE=$I;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t,e,n){return`firebase:${t}:${e}:${n}`}class _a{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Ud(this.userKey,s.apiKey,a),this.fullPersistenceKey=Ud("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mh(this.auth,{idToken:e}).catch(()=>{});return n?yr._fromGetAccountInfoResponse(this.auth,n,e):null}return yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _a(li(WE),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||li(WE);const l=Ud(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const m=await p._get(l);if(m){let y;if(typeof m=="string"){const w=await mh(e,{idToken:m}).catch(()=>{});if(!w)break;y=await yr._fromGetAccountInfoResponse(e,w,m)}else y=yr._fromJSON(e,m);p!==a&&(c=y),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new _a(a,e,r):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new _a(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YI(e))return"Blackberry";if(XI(e))return"Webos";if(qI(e))return"Safari";if((e.includes("chrome/")||KI(e))&&!e.includes("edge/"))return"Chrome";if(QI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WI(t=ln()){return/firefox\//i.test(t)}function qI(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KI(t=ln()){return/crios\//i.test(t)}function GI(t=ln()){return/iemobile/i.test(t)}function QI(t=ln()){return/android/i.test(t)}function YI(t=ln()){return/blackberry/i.test(t)}function XI(t=ln()){return/webos/i.test(t)}function By(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function T4(t=ln()){var e;return By(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function S4(){return yN()&&document.documentMode===10}function JI(t=ln()){return By(t)||QI(t)||XI(t)||YI(t)||/windows phone/i.test(t)||GI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t,e=[]){let n;switch(t){case"Browser":n=qE(ln());break;case"Worker":n=`${qE(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e={}){return Es(t,"GET","/v2/passwordPolicy",_o(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=6;class P4{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:x4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KE(this),this.idTokenSubscription=new KE(this),this.beforeStateQueue=new b4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await _a.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mh(this,{idToken:e}),r=await yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(ss(this));const n=e?Et(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I4(this),n=new P4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await E4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await _a.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&r4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function za(t){return Et(t)}class KE{constructor(e){this.auth=e,this.observer=null,this.addObserver=IN(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R4(t){Zh=t}function ex(t){return Zh.loadJS(t)}function A4(){return Zh.recaptchaEnterpriseScript}function k4(){return Zh.gapiScript}function O4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class N4{constructor(){this.enterprise=new D4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class D4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const L4="recaptcha-enterprise",tx="NO_RECAPTCHA";class M4{constructor(e){this.type=L4,this.auth=za(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{f4(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new h4(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{c(h)})})}function s(a,l,c){const h=window.grecaptcha;zE(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(tx)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new N4().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&zE(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=A4();h.length!==0&&(h+=c),ex(h).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function GE(t,e,n,r=!1,s=!1){const a=new M4(t);let l;if(s)l=tx;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function QE(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await GE(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await GE(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t,e){const n=Dh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(so(a,e??{}))return s;wr(s,"already-initialized")}return n.initialize({options:e})}function j4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function F4(t,e,n){const r=za(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=nx(e),{host:l,port:c}=U4(e),h=c===null?"":`:${c}`,p={url:`${a}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(so(p,r.config.emulator)&&so(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,vs(l)?(Yg(`${a}//${l}${h}`),Xg("Auth",!0)):B4()}function nx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function U4(t){const e=nx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:YE(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:YE(l)}}}function YE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function B4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,n){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function z4(t,e){return Es(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(t,e){return Jh(t,"POST","/v1/accounts:signInWithPassword",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(t,e){return Jh(t,"POST","/v1/accounts:signInWithEmailLink",_o(t,e))}async function W4(t,e){return Jh(t,"POST","/v1/accounts:signInWithEmailLink",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends zy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Eu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Eu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return QE(e,n,"signInWithPassword",H4);case"emailLink":return $4(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return QE(e,r,"signUpPassword",z4);case"emailLink":return W4(e,{idToken:n,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(t,e){return Jh(t,"POST","/v1/accounts:signInWithIdp",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="http://localhost";class uo extends zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=Vy(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new uo(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return wa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wa(e,n)}buildRequest(){const e={requestUri:q4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function G4(t){const e=Wl(ql(t)).link,n=e?Wl(ql(e)).deep_link_id:null,r=Wl(ql(t)).deep_link_id;return(r?Wl(ql(r)).link:null)||r||n||e||t}class Hy{constructor(e){var n,r,s,a,l,c;const h=Wl(ql(e)),p=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,y=K4((s=h.mode)!==null&&s!==void 0?s:null);De(p&&m&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=m,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=G4(e);try{return new Hy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.providerId=Ha.PROVIDER_ID}static credential(e,n){return Eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Hy.parseLink(n);return De(r,"argument-error"),Eu._fromEmailAndCode(e,r.code,r.tenantId)}}Ha.PROVIDER_ID="password";Ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends rx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Mu{constructor(){super("facebook.com")}static credential(e){return uo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uo._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Mu{constructor(){super("github.com")}static credential(e){return uo._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Mu{constructor(){super("twitter.com")}static credential(e,n){return uo._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await yr._fromIdTokenResponse(e,r,s),l=XE(r);return new Aa({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=XE(r);return new Aa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function XE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends $r{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new yh(e,n,r,s)}}function ix(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(t,a,e,r):a})}async function Q4(t,e,n=!1){const r=await wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Aa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t,e,n=!1){const{auth:r}=t;if(Jn(r.app))return Promise.reject(ss(r));const s="reauthenticate";try{const a=await wu(t,ix(r,s,e,t),n);De(a.idToken,r,"internal-error");const l=Uy(a.idToken);De(l,r,"internal-error");const{sub:c}=l;return De(t.uid===c,r,"user-mismatch"),Aa._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&wr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(t,e,n=!1){if(Jn(t.app))return Promise.reject(ss(t));const r="signIn",s=await ix(t,r,e),a=await Aa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function X4(t,e){return sx(za(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4(t){const e=za(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Z4(t,e,n){return Jn(t.app)?Promise.reject(ss(t)):X4(Et(t),Ha.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&J4(t),r})}function ej(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function tj(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function ox(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}function nj(t){return Et(t).signOut()}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=1e3,ij=10;class lx extends ax{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);S4()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ij):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lx.type="LOCAL";const sj=lx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux extends ax{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ux.type="SESSION";const cx=ux;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(n.origin,a)),h=await oj(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const p=$y("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const w=y;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(m),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function lj(t){Br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function uj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dj(){return dx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="firebaseLocalStorageDb",hj=1,_h="firebaseLocalStorage",fx="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(t,e){return t.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function fj(){const t=indexedDB.deleteDatabase(hx);return new Vu(t).toPromise()}function gg(){const t=indexedDB.open(hx,hj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_h,{keyPath:fx})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_h)?e(r):(r.close(),await fj(),e(await gg()))})})}async function JE(t,e,n){const r=tf(t,!0).put({[fx]:e,value:n});return new Vu(r).toPromise()}async function pj(t,e){const n=tf(t,!1).get(e),r=await new Vu(n).toPromise();return r===void 0?null:r.value}function ZE(t,e){const n=tf(t,!0).delete(e);return new Vu(n).toPromise()}const mj=800,gj=3;class px{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(dj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await uj(),!this.activeServiceWorker)return;this.sender=new aj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gg();return await JE(e,vh,"1"),await ZE(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>JE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=tf(s,!1).getAll();return new Vu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}px.type="LOCAL";const yj=px;new Lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t,e){return e?li(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy extends zy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _j(t){return sx(t.auth,new Wy(t),t.bypassAuthState)}function wj(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),Y4(n,new Wy(t),t.bypassAuthState)}async function Ej(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),Q4(n,new Wy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _j;case"linkViaPopup":case"linkViaRedirect":return Ej;case"reauthViaPopup":case"reauthViaRedirect":return wj;default:wr(this.auth,"internal-error")}}resolve(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new Lu(2e3,1e4);class ga extends mx{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){vi(this.filter.length===1,"Popup operations only handle one event");const e=$y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tj.get())};e()}}ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="pendingRedirect",Bd=new Map;class bj extends mx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bd.get(this.auth._key());if(!e){try{const r=await Ij(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bd.set(this.auth._key(),e)}return this.bypassAuthState||Bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ij(t,e){const n=Cj(e),r=Pj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function xj(t,e){Bd.set(t._key(),e)}function Pj(t){return li(t._redirectPersistence)}function Cj(t){return Ud(Sj,t.config.apiKey,t.name)}async function Rj(t,e,n=!1){if(Jn(t.app))return Promise.reject(ss(t));const r=za(t),s=vj(r,e),l=await new bj(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=10*60*1e3;class kj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Oj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gx(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ur(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Aj&&this.cachedEventUids.clear(),this.cachedEventUids.has(eT(e))}saveEventToCache(e){this.cachedEventUids.add(eT(e)),this.lastProcessedEventTime=Date.now()}}function eT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Oj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e={}){return Es(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lj=/^https?/;async function Mj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Nj(t);for(const n of e)try{if(Vj(n))return}catch{}wr(t,"unauthorized-domain")}function Vj(t){const e=pg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!Lj.test(n))return!1;if(Dj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new Lu(3e4,6e4);function tT(){const t=Br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Fj(t){return new Promise((e,n)=>{var r,s,a;function l(){tT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tT(),n(Ur(t,"network-request-failed"))},timeout:jj.get()})}if(!((s=(r=Br().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Br().gapi)===null||a===void 0)&&a.load)l();else{const c=O4("iframefcb");return Br()[c]=()=>{gapi.load?l():n(Ur(t,"network-request-failed"))},ex(`${k4()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw zd=null,e})}let zd=null;function Uj(t){return zd=zd||Fj(t),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=new Lu(5e3,15e3),zj="__/auth/iframe",Hj="emulator/auth/iframe",$j={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qj(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fy(e,Hj):`https://${t.config.authDomain}/${zj}`,r={apiKey:e.apiKey,appName:t.name,v:mo},s=Wj.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Ru(r).slice(1)}`}async function Kj(t){const e=await Uj(t),n=Br().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:qj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$j,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Ur(t,"network-request-failed"),c=Br().setTimeout(()=>{a(l)},Bj.get());function h(){Br().clearTimeout(c),s(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qj=500,Yj=600,Xj="_blank",Jj="http://localhost";class nT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zj(t,e,n,r=Qj,s=Yj){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},Gj),{width:r.toString(),height:s.toString(),top:a,left:l}),p=ln().toLowerCase();n&&(c=KI(p)?Xj:n),WI(p)&&(e=e||Jj,h.scrollbars="yes");const m=Object.entries(h).reduce((w,[I,R])=>`${w}${I}=${R},`,"");if(T4(p)&&c!=="_self")return eF(e||"",c),new nT(null);const y=window.open(e||"",c,m);De(y,t,"popup-blocked");try{y.focus()}catch{}return new nT(y)}function eF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF="__/auth/handler",nF="emulator/auth/handler",rF=encodeURIComponent("fac");async function rT(t,e,n,r,s,a){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mo,eventId:s};if(e instanceof rx){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",bN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Mu){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),p=h?`#${rF}=${encodeURIComponent(h)}`:"";return`${iF(t)}?${Ru(c).slice(1)}${p}`}function iF({config:t}){return t.emulator?Fy(t,nF):`https://${t.authDomain}/${tF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="webStorageSupport";class sF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cx,this._completeRedirectFn=Rj,this._overrideRedirectResult=xj}async _openPopup(e,n,r,s){var a;vi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await rT(e,n,r,pg(),s);return Zj(e,l,$y())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await rT(e,n,r,pg(),s);return lj(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(vi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Kj(e),r=new kj(e);return n.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cm,{type:cm},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[cm];l!==void 0&&n(!!l),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Mj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JI()||qI()||By()}}const oF=sF;var iT="@firebase/auth",sT="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uF(t){oo(new us("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;De(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZI(t)},p=new C4(r,s,a,h);return j4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oo(new us("auth-internal",e=>{const n=za(e.getProvider("auth").getImmediate());return(r=>new aF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(iT,sT,lF(t)),Vr(iT,sT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=5*60,dF=Y1("authIdTokenMaxAge")||cF;let oT=null;const hF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dF)return;const s=n==null?void 0:n.token;oT!==s&&(oT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function fF(t=ey()){const e=Dh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=V4(t,{popupRedirectResolver:oF,persistence:[yj,sj,cx]}),r=Y1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=hF(a.toString());tj(n,l,()=>l(n.currentUser)),ej(n,c=>l(c))}}const s=K1("auth");return s&&F4(n,`http://${s}`),n}function pF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}R4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Ur("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",pF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uF("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="firebasestorage.googleapis.com",vx="storageBucket",mF=2*60*1e3,gF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends $r{constructor(e,n,r=0){super(dm(e),`Firebase Storage: ${n} (${dm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function dm(t){return"storage/"+t}function qy(){const t="An unknown error occurred, please check the error payload for server response.";return new It(bt.UNKNOWN,t)}function yF(t){return new It(bt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function vF(t){return new It(bt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _F(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(bt.UNAUTHENTICATED,t)}function wF(){return new It(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function EF(t){return new It(bt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function TF(){return new It(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function SF(){return new It(bt.CANCELED,"User canceled the upload/download.")}function bF(t){return new It(bt.INVALID_URL,"Invalid URL '"+t+"'.")}function IF(t){return new It(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xF(){return new It(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vx+"' property when initializing the app?")}function PF(){return new It(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function CF(){return new It(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function RF(t){return new It(bt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yg(t){return new It(bt.INVALID_ARGUMENT,t)}function _x(){return new It(bt.APP_DELETED,"The Firebase app was deleted.")}function AF(t){return new It(bt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ou(t,e){return new It(bt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Fl(t){throw new It(bt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=jn.makeFromUrl(e,n)}catch{return new jn(e,"")}if(r.path==="")return r;throw IF(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function p(K){K.path_=decodeURIComponent(K.path)}const m="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",I=new RegExp(`^https?://${y}/${m}/b/${s}/o${w}`,"i"),R={bucket:1,path:3},N=n===yx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",B=new RegExp(`^https?://${N}/${s}/${V}`,"i"),H=[{regex:c,indices:h,postModify:a},{regex:I,indices:R,postModify:p},{regex:B,indices:{bucket:1,path:2},postModify:p}];for(let K=0;K<H.length;K++){const F=H[K],U=F.regex.exec(e);if(U){const x=U[F.indices.bucket];let A=U[F.indices.path];A||(A=""),r=new jn(x,A),F.postModify(r);break}}if(r==null)throw bF(e);return r}}class kF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(t,e,n){let r=1,s=null,a=null,l=!1,c=0;function h(){return c===2}let p=!1;function m(...V){p||(p=!0,e.apply(null,V))}function y(V){s=setTimeout(()=>{s=null,t(I,h())},V)}function w(){a&&clearTimeout(a)}function I(V,...B){if(p){w();return}if(V){w(),m.call(null,V,...B);return}if(h()||l){w(),m.call(null,V,...B);return}r<64&&(r*=2);let H;c===1?(c=2,H=0):H=(r+Math.random())*1e3,y(H)}let R=!1;function N(V){R||(R=!0,w(),!p&&(s!==null?(V||(c=2),clearTimeout(s),y(0)):V||(c=1)))}return y(0),a=setTimeout(()=>{l=!0,N(!0)},n),N}function NF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(t){return t!==void 0}function LF(t){return typeof t=="object"&&!Array.isArray(t)}function Ky(t){return typeof t=="string"||t instanceof String}function aT(t){return Gy()&&t instanceof Blob}function Gy(){return typeof Blob<"u"}function lT(t,e,n,r){if(r<e)throw yg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw yg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function wx(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var io;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(io||(io={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n,r,s,a,l,c,h,p,m,y,w=!0,I=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=y,this.retry=w,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,N)=>{this.resolve_=R,this.reject_=N,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new pd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const h=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===io.NO_ERROR,h=a.getStatus();if(!c||MF(h,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===io.ABORT;r(!1,new pd(!1,null,m));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new pd(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());DF(h)?a(h):a()}catch(h){l(h)}else if(c!==null){const h=qy();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(s.canceled){const h=this.appDelete_?_x():SF();l(h)}else{const h=TF();l(h)}};this.canceled_?n(!1,new pd(!1,null,!0)):this.backoffId_=OF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function jF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function FF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function UF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function BF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zF(t,e,n,r,s,a,l=!0,c=!1){const h=wx(t.urlParams),p=t.url+h,m=Object.assign({},t.headers);return UF(m,e),jF(m,n),FF(m,a),BF(m,r),new VF(p,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $F(...t){const e=HF();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Gy())return new Blob(t);throw new It(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function WF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t){if(typeof atob>"u")throw RF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hm{constructor(e,n){this.data=e,this.contentType=n||null}}function KF(t,e){switch(t){case Dr.RAW:return new hm(Ex(e));case Dr.BASE64:case Dr.BASE64URL:return new hm(Tx(t,e));case Dr.DATA_URL:return new hm(QF(e),YF(e))}throw qy()}function Ex(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function GF(t){let e;try{e=decodeURIComponent(t)}catch{throw ou(Dr.DATA_URL,"Malformed data URL.")}return Ex(e)}function Tx(t,e){switch(t){case Dr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw ou(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Dr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw ou(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=qF(e)}catch(s){throw s.message.includes("polyfill")?s:ou(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Sx{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ou(Dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=XF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function QF(t){const e=new Sx(t);return e.base64?Tx(Dr.BASE64,e.rest):GF(e.rest)}function YF(t){return new Sx(t).contentType}function XF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n){let r=0,s="";aT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(aT(this.data_)){const r=this.data_,s=WF(r,e,n);return s===null?null:new Yi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Yi(r,!0)}}static getBlob(...e){if(Gy()){const n=e.map(r=>r instanceof Yi?r.data_:r);return new Yi($F.apply(null,n))}else{const n=e.map(l=>Ky(l)?KF(Dr.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[a++]=l[c]}),new Yi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t){let e;try{e=JSON.parse(t)}catch{return null}return LF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ZF(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Ix(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t,e){return e}class mn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||e3}}let md=null;function t3(t){return!Ky(t)||t.length<2?t:Ix(t)}function xx(){if(md)return md;const t=[];t.push(new mn("bucket")),t.push(new mn("generation")),t.push(new mn("metageneration")),t.push(new mn("name","fullPath",!0));function e(a,l){return t3(l)}const n=new mn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new mn("size");return s.xform=r,t.push(s),t.push(new mn("timeCreated")),t.push(new mn("updated")),t.push(new mn("md5Hash",null,!0)),t.push(new mn("cacheControl",null,!0)),t.push(new mn("contentDisposition",null,!0)),t.push(new mn("contentEncoding",null,!0)),t.push(new mn("contentLanguage",null,!0)),t.push(new mn("contentType",null,!0)),t.push(new mn("metadata","customMetadata",!0)),md=t,md}function n3(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new jn(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function r3(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return n3(r,t),r}function Px(t,e,n){const r=bx(e);return r===null?null:r3(t,r,n)}function i3(t,e,n,r){const s=bx(e);if(s===null||!Ky(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const m=t.bucket,y=t.fullPath,w="/b/"+l(m)+"/o/"+l(y),I=nf(w,n,r),R=wx({alt:"media",token:p});return I+R})[0]}function s3(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class Qy{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t){if(!t)throw qy()}function o3(t,e){function n(r,s){const a=Px(t,s,e);return Cx(a!==null),a}return n}function a3(t,e){function n(r,s){const a=Px(t,s,e);return Cx(a!==null),i3(a,s,t.host,t._protocol)}return n}function Rx(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=wF():s=_F():n.getStatus()===402?s=vF(t.bucket):n.getStatus()===403?s=EF(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Ax(t){const e=Rx(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=yF(t.path)),a.serverResponse=s.serverResponse,a}return n}function l3(t,e,n){const r=e.fullServerUrl(),s=nf(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new Qy(s,a,a3(t,n),l);return c.errorHandler=Ax(e),c}function u3(t,e){const n=e.fullServerUrl(),r=nf(n,t.host,t._protocol),s="DELETE",a=t.maxOperationRetryTime;function l(h,p){}const c=new Qy(r,s,l,a);return c.successCodes=[200,204],c.errorHandler=Ax(e),c}function c3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function d3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=c3(null,e)),r}function h3(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let H="";for(let K=0;K<2;K++)H=H+Math.random().toString().slice(2);return H}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const p=d3(e,r,s),m=s3(p,n),y="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+h+"--",I=Yi.getBlob(y,r,w);if(I===null)throw PF();const R={name:p.fullPath},N=nf(a,t.host,t._protocol),V="POST",B=t.maxUploadRetryTime,z=new Qy(N,V,o3(t,n),B);return z.urlParams=R,z.headers=l,z.body=I.uploadData(),z.errorHandler=Rx(e),z}class f3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=io.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=io.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=io.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw Fl("cannot .send() more than once");if(vs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class p3 extends f3{initXhr(){this.xhr_.responseType="text"}}function Yy(){return new p3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this._service=e,n instanceof jn?this._location=n:this._location=jn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new co(e,n)}get root(){const e=new jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ix(this._location.path)}get storage(){return this._service}get parent(){const e=JF(this._location.path);if(e===null)return null;const n=new jn(this._location.bucket,e);return new co(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw AF(e)}}function m3(t,e,n){t._throwIfRoot("uploadBytes");const r=h3(t.storage,t._location,xx(),new Yi(e,!0),n);return t.storage.makeRequestWithTokens(r,Yy).then(s=>({metadata:s,ref:t}))}function g3(t){t._throwIfRoot("getDownloadURL");const e=l3(t.storage,t._location,xx());return t.storage.makeRequestWithTokens(e,Yy).then(n=>{if(n===null)throw CF();return n})}function y3(t){t._throwIfRoot("deleteObject");const e=u3(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Yy)}function v3(t,e){const n=ZF(t._location.path,e),r=new jn(t._location.bucket,n);return new co(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){return/^[A-Za-z]+:\/\//.test(t)}function w3(t,e){return new co(t,e)}function kx(t,e){if(t instanceof Xy){const n=t;if(n._bucket==null)throw xF();const r=new co(n,n._bucket);return e!=null?kx(r,e):r}else return e!==void 0?v3(t,e):t}function E3(t,e){if(e&&_3(e)){if(t instanceof Xy)return w3(t,e);throw yg("To use ref(service, url), the first argument must be a Storage instance.")}else return kx(t,e)}function uT(t,e){const n=e==null?void 0:e[vx];return n==null?null:jn.makeFromBucketSpec(n,t)}function T3(t,e,n,r={}){t.host=`${e}:${n}`;const s=vs(e);s&&(Yg(`https://${t.host}/b`),Xg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:X1(a,t.app.options.projectId))}class Xy{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=yx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mF,this._maxUploadRetryTime=gF,this._requests=new Set,s!=null?this._bucket=jn.makeFromBucketSpec(s,this._host):this._bucket=uT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jn.makeFromBucketSpec(this._url,e):this._bucket=uT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new co(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new kF(_x());{const l=zF(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const cT="@firebase/storage",dT="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="storage";function S3(t,e,n){return t=Et(t),m3(t,e,n)}function b3(t){return t=Et(t),g3(t)}function I3(t){return t=Et(t),y3(t)}function Nx(t,e){return t=Et(t),E3(t,e)}function x3(t=ey(),e){t=Et(t);const r=Dh(t,Ox).getImmediate({identifier:e}),s=G1("storage");return s&&P3(r,...s),r}function P3(t,e,n,r={}){T3(t,e,n,r)}function C3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Xy(n,r,s,e,mo)}function R3(){oo(new us(Ox,C3,"PUBLIC").setMultipleInstances(!0)),Vr(cT,dT,""),Vr(cT,dT,"esm2017")}R3();const A3={apiKey:"AIzaSyD8n_wkEB_pghqRbvcZfJ_wOD1iZxoI778",authDomain:"mylaosmile-7642e.firebaseapp.com",projectId:"mylaosmile-7642e",storageBucket:"mylaosmile-7642e.firebasestorage.app",messagingSenderId:"344355987918",appId:"1:344355987918:web:0bb168a800969534500b9f",measurementId:"G-0H715R7HKQ"},Jy=eb(A3),ju=fF(Jy),Ts=DV(Jy),Dx=x3(Jy),Lx=async()=>{try{const t=await DI(Iy(Ts,"statistics")),e=[];return t.forEach(n=>{e.push({id:n.id,...n.data()})}),e.sort((n,r)=>n.order-r.order),e.length===0?[{id:"surgeries",label:"Surgeries Delivered",value:109,order:1},{id:"volunteers",label:"Active Volunteers",value:40,order:2},{id:"missions",label:"Medical Missions",value:5,order:3}]:e}catch(t){return console.error("Error fetching statistics:",t),[{id:"surgeries",label:"Surgeries Delivered",value:109,order:1},{id:"volunteers",label:"Active Volunteers",value:40,order:2},{id:"missions",label:"Medical Missions",value:5,order:3}]}},k3=async t=>{try{return await LI(Ua(Ts,"statistics",t.id),{label:t.label,value:t.value,order:t.order}),{success:!0}}catch(e){return console.error("Error updating statistic:",e),{success:!1,error:e.message}}},O3=async()=>{try{const t=[{id:"surgeries",label:"Surgeries Delivered",value:109,order:1},{id:"volunteers",label:"Active Volunteers",value:40,order:2},{id:"missions",label:"Medical Missions",value:5,order:3}];for(const e of t)await LI(Ua(Ts,"statistics",e.id),{label:e.label,value:e.value,order:e.order});return{success:!0}}catch(t){return console.error("Error initializing statistics:",t),{success:!1,error:t.message}}},N3=()=>{const[t,e]=X.useState([]),[n,r]=X.useState(!0),[s,a]=X.useState(null);return X.useEffect(()=>{(async()=>{try{const c=await Lx();e(c),a(null)}catch(c){console.error("Error loading statistics:",c),a("Failed to load statistics"),e([{id:"surgeries",label:"Surgeries Delivered",value:109,order:1},{id:"volunteers",label:"Active Volunteers",value:40,order:2},{id:"missions",label:"Medical Missions",value:5,order:3}])}finally{r(!1)}})()},[]),n?M.jsx("section",{id:"features",className:"w-full py-20 border-b-[1px] border-b-gray-700",children:M.jsxs(ls,{children:[M.jsx(du,{title:"Statistics",des:""}),M.jsx("section",{className:"bg-gray-100 py-16",children:M.jsx("div",{className:"max-w-6xl mx-auto px-4",children:M.jsx("div",{className:"flex justify-center items-center",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-designColor mx-auto"}),M.jsx("p",{className:"text-gray-600 mt-2",children:"Loading statistics..."})]})})})})]})}):M.jsx("section",{id:"features",className:"w-full py-20 border-b-[1px] border-b-gray-700",children:M.jsxs(ls,{children:[M.jsx(du,{title:"Statistics",des:""}),M.jsx("section",{className:"bg-gray-100 py-16",children:M.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[s&&M.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 text-center",children:s}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map((l,c)=>M.jsxs(H1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:c*.1},children:[M.jsx("div",{className:"text-4xl font-bold text-primary mb-2 text-gray-700",children:l.value.toLocaleString()}),M.jsx("div",{className:"text-xl text-gray-600",children:l.label})]},l.id))}),t.length===0&&!n&&M.jsx("div",{className:"text-center py-8",children:M.jsx("p",{className:"text-gray-600",children:"No statistics found."})})]})})]})})};var mt={},gd={},yd={},vd={},fm,hT;function D3(){if(hT)return fm;hT=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,h=typeof Xi=="object"&&Xi&&Xi.Object===Object&&Xi,p=typeof self=="object"&&self&&self.Object===Object&&self,m=h||p||Function("return this")(),y=Object.prototype,w=y.toString,I=Math.max,R=Math.min,N=function(){return m.Date.now()};function V(U,x,A){var T,E,L,O,C,G,ue=0,se=!1,P=!1,oe=!0;if(typeof U!="function")throw new TypeError(t);x=F(x)||0,z(A)&&(se=!!A.leading,P="maxWait"in A,L=P?I(F(A.maxWait)||0,x):L,oe="trailing"in A?!!A.trailing:oe);function q(ge){var _e=T,Se=E;return T=E=void 0,ue=ge,O=U.apply(Se,_e),O}function b(ge){return ue=ge,C=setTimeout(te,x),se?q(ge):O}function k(ge){var _e=ge-G,Se=ge-ue,Ae=x-_e;return P?R(Ae,L-Se):Ae}function $(ge){var _e=ge-G,Se=ge-ue;return G===void 0||_e>=x||_e<0||P&&Se>=L}function te(){var ge=N();if($(ge))return re(ge);C=setTimeout(te,k(ge))}function re(ge){return C=void 0,oe&&T?q(ge):(T=E=void 0,O)}function le(){C!==void 0&&clearTimeout(C),ue=0,T=G=E=C=void 0}function ae(){return C===void 0?O:re(N())}function ce(){var ge=N(),_e=$(ge);if(T=arguments,E=this,G=ge,_e){if(C===void 0)return b(G);if(P)return C=setTimeout(te,x),q(G)}return C===void 0&&(C=setTimeout(te,x)),O}return ce.cancel=le,ce.flush=ae,ce}function B(U,x,A){var T=!0,E=!0;if(typeof U!="function")throw new TypeError(t);return z(A)&&(T="leading"in A?!!A.leading:T,E="trailing"in A?!!A.trailing:E),V(U,x,{leading:T,maxWait:x,trailing:E})}function z(U){var x=typeof U;return!!U&&(x=="object"||x=="function")}function H(U){return!!U&&typeof U=="object"}function K(U){return typeof U=="symbol"||H(U)&&w.call(U)==n}function F(U){if(typeof U=="number")return U;if(K(U))return e;if(z(U)){var x=typeof U.valueOf=="function"?U.valueOf():U;U=z(x)?x+"":x}if(typeof U!="string")return U===0?U:+U;U=U.replace(r,"");var A=a.test(U);return A||l.test(U)?c(U.slice(2),A?2:8):s.test(U)?e:+U}return fm=B,fm}var Ul={},fT;function Zy(){if(fT)return Ul;fT=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.addPassiveEventListener=function(n,r,s){var a=s.name;a||(a=r,console.warn("Listener must be a named function.")),t.has(r)||t.set(r,new Set);var l=t.get(r);if(!l.has(a)){var c=function(){var h=!1;try{var p=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("test",null,p)}catch{}return h}();n.addEventListener(r,s,c?{passive:!0}:!1),l.add(a)}},Ul.removePassiveEventListener=function(n,r,s){n.removeEventListener(r,s),t.get(r).delete(s.name||r)};var t=new Map;return Ul}var pT;function ev(){if(pT)return vd;pT=1,Object.defineProperty(vd,"__esModule",{value:!0});var t=D3(),e=r(t),n=Zy();function r(l){return l&&l.__esModule?l:{default:l}}var s=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,e.default)(c,h)},a={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(c,h){if(c){var p=s(function(m){a.scrollHandler(c)},h);return a.scrollSpyContainers.push(c),(0,n.addPassiveEventListener)(c,"scroll",p),function(){(0,n.removePassiveEventListener)(c,"scroll",p),a.scrollSpyContainers.splice(a.scrollSpyContainers.indexOf(c),1)}}return function(){}},isMounted:function(c){return a.scrollSpyContainers.indexOf(c)!==-1},currentPositionX:function(c){if(c===document){var h=window.scrollY!==void 0,p=(document.compatMode||"")==="CSS1Compat";return h?window.scrollX:p?document.documentElement.scrollLeft:document.body.scrollLeft}else return c.scrollLeft},currentPositionY:function(c){if(c===document){var h=window.scrollX!==void 0,p=(document.compatMode||"")==="CSS1Compat";return h?window.scrollY:p?document.documentElement.scrollTop:document.body.scrollTop}else return c.scrollTop},scrollHandler:function(c){var h=a.scrollSpyContainers[a.scrollSpyContainers.indexOf(c)].spyCallbacks||[];h.forEach(function(p){return p(a.currentPositionX(c),a.currentPositionY(c))})},addStateHandler:function(c){a.spySetState.push(c)},addSpyHandler:function(c,h){var p=a.scrollSpyContainers[a.scrollSpyContainers.indexOf(h)];p.spyCallbacks||(p.spyCallbacks=[]),p.spyCallbacks.push(c)},updateStates:function(){a.spySetState.forEach(function(c){return c()})},unmount:function(c,h){a.scrollSpyContainers.forEach(function(p){return p.spyCallbacks&&p.spyCallbacks.length&&p.spyCallbacks.indexOf(h)>-1&&p.spyCallbacks.splice(p.spyCallbacks.indexOf(h),1)}),a.spySetState&&a.spySetState.length&&a.spySetState.indexOf(c)>-1&&a.spySetState.splice(a.spySetState.indexOf(c),1),document.removeEventListener("scroll",a.scrollHandler)},update:function(){return a.scrollSpyContainers.forEach(function(c){return a.scrollHandler(c)})}};return vd.default=a,vd}var _d={},wd={},mT;function rf(){if(mT)return wd;mT=1,Object.defineProperty(wd,"__esModule",{value:!0});var t=function(c,h){var p=c.indexOf("#")===0?c.substring(1):c,m=p?"#"+p:"",y=window&&window.location,w=m?y.pathname+y.search+m:y.pathname+y.search;h?history.pushState(history.state,"",w):history.replaceState(history.state,"",w)},e=function(){return window.location.hash.replace(/^#/,"")},n=function(c){return function(h){return c.contains?c!=h&&c.contains(h):!!(c.compareDocumentPosition(h)&16)}},r=function(c){return getComputedStyle(c).position!=="static"},s=function(c,h){for(var p=c.offsetTop,m=c.offsetParent;m&&!h(m);)p+=m.offsetTop,m=m.offsetParent;return{offsetTop:p,offsetParent:m}},a=function(c,h,p){if(p)return c===document?h.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(c).position!=="static"?h.offsetLeft:h.offsetLeft-c.offsetLeft;if(c===document)return h.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(r(c)){if(h.offsetParent!==c){var m=function(V){return V===c||V===document},y=s(h,m),w=y.offsetTop,I=y.offsetParent;if(I!==c)throw new Error("Seems containerElement is not an ancestor of the Element");return w}return h.offsetTop}if(h.offsetParent===c.offsetParent)return h.offsetTop-c.offsetTop;var R=function(V){return V===document};return s(h,R).offsetTop-s(c,R).offsetTop};return wd.default={updateHash:t,getHash:e,filterElementInContainer:n,scrollOffset:a},wd}var Ed={},Td={},gT;function L3(){return gT||(gT=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}),Td}var Sd={},yT;function M3(){if(yT)return Sd;yT=1,Object.defineProperty(Sd,"__esModule",{value:!0});var t=Zy(),e=["mousedown","wheel","touchmove","keydown"];return Sd.default={subscribe:function(r){return typeof document<"u"&&e.forEach(function(s){return(0,t.addPassiveEventListener)(document,s,r)})}},Sd}var bd={},vT;function tv(){if(vT)return bd;vT=1,Object.defineProperty(bd,"__esModule",{value:!0});var t={registered:{},scrollEvent:{register:function(n,r){t.registered[n]=r},remove:function(n){t.registered[n]=null}}};return bd.default=t,bd}var _T;function Mx(){if(_T)return Ed;_T=1,Object.defineProperty(Ed,"__esModule",{value:!0});var t=Object.assign||function(E){for(var L=1;L<arguments.length;L++){var O=arguments[L];for(var C in O)Object.prototype.hasOwnProperty.call(O,C)&&(E[C]=O[C])}return E},e=rf();h(e);var n=L3(),r=h(n),s=M3(),a=h(s),l=tv(),c=h(l);function h(E){return E&&E.__esModule?E:{default:E}}var p=function(L){return r.default[L.smooth]||r.default.defaultEasing},m=function(L){return typeof L=="function"?L:function(){return L}},y=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},w=function(){return y()||function(E,L,O){window.setTimeout(E,O||1e3/60,new Date().getTime())}}(),I=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},R=function(L){var O=L.data.containerElement;if(O&&O!==document&&O!==document.body)return O.scrollLeft;var C=window.pageXOffset!==void 0,G=(document.compatMode||"")==="CSS1Compat";return C?window.pageXOffset:G?document.documentElement.scrollLeft:document.body.scrollLeft},N=function(L){var O=L.data.containerElement;if(O&&O!==document&&O!==document.body)return O.scrollTop;var C=window.pageXOffset!==void 0,G=(document.compatMode||"")==="CSS1Compat";return C?window.pageYOffset:G?document.documentElement.scrollTop:document.body.scrollTop},V=function(L){var O=L.data.containerElement;if(O&&O!==document&&O!==document.body)return O.scrollWidth-O.offsetWidth;var C=document.body,G=document.documentElement;return Math.max(C.scrollWidth,C.offsetWidth,G.clientWidth,G.scrollWidth,G.offsetWidth)},B=function(L){var O=L.data.containerElement;if(O&&O!==document&&O!==document.body)return O.scrollHeight-O.offsetHeight;var C=document.body,G=document.documentElement;return Math.max(C.scrollHeight,C.offsetHeight,G.clientHeight,G.scrollHeight,G.offsetHeight)},z=function E(L,O,C){var G=O.data;if(!O.ignoreCancelEvents&&G.cancel){c.default.registered.end&&c.default.registered.end(G.to,G.target,G.currentPositionY);return}if(G.delta=Math.round(G.targetPosition-G.startPosition),G.start===null&&(G.start=C),G.progress=C-G.start,G.percent=G.progress>=G.duration?1:L(G.progress/G.duration),G.currentPosition=G.startPosition+Math.ceil(G.delta*G.percent),G.containerElement&&G.containerElement!==document&&G.containerElement!==document.body?O.horizontal?G.containerElement.scrollLeft=G.currentPosition:G.containerElement.scrollTop=G.currentPosition:O.horizontal?window.scrollTo(G.currentPosition,0):window.scrollTo(0,G.currentPosition),G.percent<1){var ue=E.bind(null,L,O);w.call(window,ue);return}c.default.registered.end&&c.default.registered.end(G.to,G.target,G.currentPosition)},H=function(L){L.data.containerElement=L?L.containerId?document.getElementById(L.containerId):L.container&&L.container.nodeType?L.container:document:null},K=function(L,O,C,G){O.data=O.data||I(),window.clearTimeout(O.data.delayTimeout);var ue=function(){O.data.cancel=!0};if(a.default.subscribe(ue),H(O),O.data.start=null,O.data.cancel=!1,O.data.startPosition=O.horizontal?R(O):N(O),O.data.targetPosition=O.absolute?L:L+O.data.startPosition,O.data.startPosition===O.data.targetPosition){c.default.registered.end&&c.default.registered.end(O.data.to,O.data.target,O.data.currentPosition);return}O.data.delta=Math.round(O.data.targetPosition-O.data.startPosition),O.data.duration=m(O.duration)(O.data.delta),O.data.duration=isNaN(parseFloat(O.data.duration))?1e3:parseFloat(O.data.duration),O.data.to=C,O.data.target=G;var se=p(O),P=z.bind(null,se,O);if(O&&O.delay>0){O.data.delayTimeout=window.setTimeout(function(){c.default.registered.begin&&c.default.registered.begin(O.data.to,O.data.target),w.call(window,P)},O.delay);return}c.default.registered.begin&&c.default.registered.begin(O.data.to,O.data.target),w.call(window,P)},F=function(L){return L=t({},L),L.data=L.data||I(),L.absolute=!0,L},U=function(L){K(0,F(L))},x=function(L,O){K(L,F(O))},A=function(L){L=F(L),H(L),K(L.horizontal?V(L):B(L),L)},T=function(L,O){O=F(O),H(O);var C=O.horizontal?R(O):N(O);K(L+C,O)};return Ed.default={animateTopScroll:K,getAnimationType:p,scrollToTop:U,scrollToBottom:A,scrollTo:x,scrollMore:T},Ed}var wT;function sf(){if(wT)return _d;wT=1,Object.defineProperty(_d,"__esModule",{value:!0});var t=Object.assign||function(m){for(var y=1;y<arguments.length;y++){var w=arguments[y];for(var I in w)Object.prototype.hasOwnProperty.call(w,I)&&(m[I]=w[I])}return m},e=rf(),n=c(e),r=Mx(),s=c(r),a=tv(),l=c(a);function c(m){return m&&m.__esModule?m:{default:m}}var h={},p=void 0;return _d.default={unmount:function(){h={}},register:function(y,w){h[y]=w},unregister:function(y){delete h[y]},get:function(y){return h[y]||document.getElementById(y)||document.getElementsByName(y)[0]||document.getElementsByClassName(y)[0]},setActiveLink:function(y){return p=y},getActiveLink:function(){return p},scrollTo:function(y,w){var I=this.get(y);if(!I){console.warn("target Element not found");return}w=t({},w,{absolute:!1});var R=w.containerId,N=w.container,V=void 0;R?V=document.getElementById(R):N&&N.nodeType?V=N:V=document,w.absolute=!0;var B=w.horizontal,z=n.default.scrollOffset(V,I,B)+(w.offset||0);if(!w.smooth){l.default.registered.begin&&l.default.registered.begin(y,I),V===document?w.horizontal?window.scrollTo(z,0):window.scrollTo(0,z):V.scrollTop=z,l.default.registered.end&&l.default.registered.end(y,I);return}s.default.animateTopScroll(z,w,y,I)}},_d}var pm={exports:{}},mm,ET;function V3(){if(ET)return mm;ET=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mm=t,mm}var gm,TT;function j3(){if(TT)return gm;TT=1;var t=V3();function e(){}function n(){}return n.resetWarningCache=e,gm=function(){function r(l,c,h,p,m,y){if(y!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},gm}var ST;function of(){return ST||(ST=1,pm.exports=j3()()),pm.exports}var Id={},bT;function Vx(){if(bT)return Id;bT=1,Object.defineProperty(Id,"__esModule",{value:!0}),Zy();var t=rf(),e=n(t);function n(s){return s&&s.__esModule?s:{default:s}}var r={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(a){this.scroller=a,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(a,l){this.containers[a]=l},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var a=this,l=this.getHash();l?window.setTimeout(function(){a.scrollTo(l,!0),a.initialized=!0},10):this.initialized=!0},scrollTo:function(a,l){var c=this.scroller,h=c.get(a);if(h&&(l||a!==c.getActiveLink())){var p=this.containers[a]||document;c.scrollTo(a,{container:p})}},getHash:function(){return e.default.getHash()},changeHash:function(a,l){this.isInitialized()&&e.default.getHash()!==a&&e.default.updateHash(a,l)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};return Id.default=r,Id}var IT;function nv(){if(IT)return yd;IT=1,Object.defineProperty(yd,"__esModule",{value:!0});var t=Object.assign||function(B){for(var z=1;z<arguments.length;z++){var H=arguments[z];for(var K in H)Object.prototype.hasOwnProperty.call(H,K)&&(B[K]=H[K])}return B},e=function(){function B(z,H){for(var K=0;K<H.length;K++){var F=H[K];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}return function(z,H,K){return H&&B(z.prototype,H),K&&B(z,K),z}}(),n=un(),r=w(n),s=ev(),a=w(s),l=sf(),c=w(l),h=of(),p=w(h),m=Vx(),y=w(m);function w(B){return B&&B.__esModule?B:{default:B}}function I(B,z){if(!(B instanceof z))throw new TypeError("Cannot call a class as a function")}function R(B,z){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:B}function N(B,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);B.prototype=Object.create(z&&z.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(B,z):B.__proto__=z)}var V={to:p.default.string.isRequired,containerId:p.default.string,container:p.default.object,activeClass:p.default.string,activeStyle:p.default.object,spy:p.default.bool,horizontal:p.default.bool,smooth:p.default.oneOfType([p.default.bool,p.default.string]),offset:p.default.number,delay:p.default.number,isDynamic:p.default.bool,onClick:p.default.func,duration:p.default.oneOfType([p.default.number,p.default.func]),absolute:p.default.bool,onSetActive:p.default.func,onSetInactive:p.default.func,ignoreCancelEvents:p.default.bool,hashSpy:p.default.bool,saveHashHistory:p.default.bool,spyThrottle:p.default.number};return yd.default=function(B,z){var H=z||c.default,K=function(U){N(x,U);function x(A){I(this,x);var T=R(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,A));return F.call(T),T.state={active:!1},T.beforeUnmountCallbacks=[],T}return e(x,[{key:"getScrollSpyContainer",value:function(){var T=this.props.containerId,E=this.props.container;return T&&!E?document.getElementById(T):E&&E.nodeType?E:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var T=this.getScrollSpyContainer();if(!a.default.isMounted(T)){var E=a.default.mount(T,this.props.spyThrottle);this.beforeUnmountCallbacks.push(E)}this.props.hashSpy&&(y.default.isMounted()||y.default.mount(H),y.default.mapContainer(this.props.to,T)),a.default.addSpyHandler(this.spyHandler,T),this.setState({container:T})}}},{key:"componentWillUnmount",value:function(){a.default.unmount(this.stateHandler,this.spyHandler),this.beforeUnmountCallbacks.forEach(function(T){return T()})}},{key:"render",value:function(){var T="";this.state&&this.state.active?T=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():T=this.props.className;var E={};this.state&&this.state.active?E=t({},this.props.style,this.props.activeStyle):E=t({},this.props.style);var L=t({},this.props);for(var O in V)L.hasOwnProperty(O)&&delete L[O];return L.className=T,L.style=E,L.onClick=this.handleClick,r.default.createElement(B,L)}}]),x}(r.default.PureComponent),F=function(){var x=this;this.scrollTo=function(A,T){H.scrollTo(A,t({},x.state,T))},this.handleClick=function(A){x.props.onClick&&x.props.onClick(A),A.stopPropagation&&A.stopPropagation(),A.preventDefault&&A.preventDefault(),x.scrollTo(x.props.to,x.props)},this.spyHandler=function(A,T){var E=x.getScrollSpyContainer();if(!(y.default.isMounted()&&!y.default.isInitialized())){var L=x.props.horizontal,O=x.props.to,C=null,G=void 0,ue=void 0;if(L){var se=0,P=0,oe=0;if(E.getBoundingClientRect){var q=E.getBoundingClientRect();oe=q.left}if(!C||x.props.isDynamic){if(C=H.get(O),!C)return;var b=C.getBoundingClientRect();se=b.left-oe+A,P=se+b.width}var k=A-x.props.offset;G=k>=Math.floor(se)&&k<Math.floor(P),ue=k<Math.floor(se)||k>=Math.floor(P)}else{var $=0,te=0,re=0;if(E.getBoundingClientRect){var le=E.getBoundingClientRect();re=le.top}if(!C||x.props.isDynamic){if(C=H.get(O),!C)return;var ae=C.getBoundingClientRect();$=ae.top-re+T,te=$+ae.height}var ce=T-x.props.offset;G=ce>=Math.floor($)&&ce<Math.floor(te),ue=ce<Math.floor($)||ce>=Math.floor(te)}var ge=H.getActiveLink();if(ue){if(O===ge&&H.setActiveLink(void 0),x.props.hashSpy&&y.default.getHash()===O){var _e=x.props.saveHashHistory,Se=_e===void 0?!1:_e;y.default.changeHash("",Se)}x.props.spy&&x.state.active&&(x.setState({active:!1}),x.props.onSetInactive&&x.props.onSetInactive(O,C))}if(G&&(ge!==O||x.state.active===!1)){H.setActiveLink(O);var Ae=x.props.saveHashHistory,ze=Ae===void 0?!1:Ae;x.props.hashSpy&&y.default.changeHash(O,ze),x.props.spy&&(x.setState({active:!0}),x.props.onSetActive&&x.props.onSetActive(O,C))}}}};return K.propTypes=V,K.defaultProps={offset:0},K},yd}var xT;function F3(){if(xT)return gd;xT=1,Object.defineProperty(gd,"__esModule",{value:!0});var t=un(),e=s(t),n=nv(),r=s(n);function s(p){return p&&p.__esModule?p:{default:p}}function a(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function l(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){c(m,p);function m(){var y,w,I,R;a(this,m);for(var N=arguments.length,V=Array(N),B=0;B<N;B++)V[B]=arguments[B];return R=(w=(I=l(this,(y=m.__proto__||Object.getPrototypeOf(m)).call.apply(y,[this].concat(V))),I),I.render=function(){return e.default.createElement("a",I.props,I.props.children)},w),l(I,R)}return m}(e.default.Component);return gd.default=(0,r.default)(h),gd}var xd={},PT;function U3(){if(PT)return xd;PT=1,Object.defineProperty(xd,"__esModule",{value:!0});var t=function(){function m(y,w){for(var I=0;I<w.length;I++){var R=w[I];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(y,R.key,R)}}return function(y,w,I){return w&&m(y.prototype,w),I&&m(y,I),y}}(),e=un(),n=a(e),r=nv(),s=a(r);function a(m){return m&&m.__esModule?m:{default:m}}function l(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function c(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function h(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var p=function(m){h(y,m);function y(){return l(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return t(y,[{key:"render",value:function(){return n.default.createElement("button",this.props,this.props.children)}}]),y}(n.default.Component);return xd.default=(0,s.default)(p),xd}var Pd={},Cd={},CT;function jx(){if(CT)return Cd;CT=1,Object.defineProperty(Cd,"__esModule",{value:!0});var t=Object.assign||function(I){for(var R=1;R<arguments.length;R++){var N=arguments[R];for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&(I[V]=N[V])}return I},e=function(){function I(R,N){for(var V=0;V<N.length;V++){var B=N[V];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(R,B.key,B)}}return function(R,N,V){return N&&I(R.prototype,N),V&&I(R,V),R}}(),n=un(),r=p(n),s=wg();p(s);var a=sf(),l=p(a),c=of(),h=p(c);function p(I){return I&&I.__esModule?I:{default:I}}function m(I,R){if(!(I instanceof R))throw new TypeError("Cannot call a class as a function")}function y(I,R){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:I}function w(I,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}return Cd.default=function(I){var R=function(N){w(V,N);function V(B){m(this,V);var z=y(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,B));return z.childBindings={domNode:null},z}return e(V,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(z){this.props.name!==z.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;l.default.unregister(this.props.name)}},{key:"registerElems",value:function(z){l.default.register(z,this.childBindings.domNode)}},{key:"render",value:function(){return r.default.createElement(I,t({},this.props,{parentBindings:this.childBindings}))}}]),V}(r.default.Component);return R.propTypes={name:h.default.string,id:h.default.string},R},Cd}var RT;function B3(){if(RT)return Pd;RT=1,Object.defineProperty(Pd,"__esModule",{value:!0});var t=Object.assign||function(I){for(var R=1;R<arguments.length;R++){var N=arguments[R];for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&(I[V]=N[V])}return I},e=function(){function I(R,N){for(var V=0;V<N.length;V++){var B=N[V];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(R,B.key,B)}}return function(R,N,V){return N&&I(R.prototype,N),V&&I(R,V),R}}(),n=un(),r=h(n),s=jx(),a=h(s),l=of(),c=h(l);function h(I){return I&&I.__esModule?I:{default:I}}function p(I,R){if(!(I instanceof R))throw new TypeError("Cannot call a class as a function")}function m(I,R){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:I}function y(I,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}var w=function(I){y(R,I);function R(){return p(this,R),m(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return e(R,[{key:"render",value:function(){var V=this,B=t({},this.props);return delete B.name,B.parentBindings&&delete B.parentBindings,r.default.createElement("div",t({},B,{ref:function(H){V.props.parentBindings.domNode=H}}),this.props.children)}}]),R}(r.default.Component);return w.propTypes={name:c.default.string,id:c.default.string},Pd.default=(0,a.default)(w),Pd}var ym,AT;function z3(){if(AT)return ym;AT=1;var t=Object.assign||function(w){for(var I=1;I<arguments.length;I++){var R=arguments[I];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(w[N]=R[N])}return w},e=function(){function w(I,R){for(var N=0;N<R.length;N++){var V=R[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(I,V.key,V)}}return function(I,R,N){return R&&w(I.prototype,R),N&&w(I,N),I}}();function n(w,I){if(!(w instanceof I))throw new TypeError("Cannot call a class as a function")}function r(w,I){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:w}function s(w,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);w.prototype=Object.create(I&&I.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(w,I):w.__proto__=I)}var a=un();wg(),rf();var l=ev(),c=sf(),h=of(),p=Vx(),m={to:h.string.isRequired,containerId:h.string,container:h.object,activeClass:h.string,spy:h.bool,smooth:h.oneOfType([h.bool,h.string]),offset:h.number,delay:h.number,isDynamic:h.bool,onClick:h.func,duration:h.oneOfType([h.number,h.func]),absolute:h.bool,onSetActive:h.func,onSetInactive:h.func,ignoreCancelEvents:h.bool,hashSpy:h.bool,spyThrottle:h.number},y={Scroll:function(I,R){console.warn("Helpers.Scroll is deprecated since v1.7.0");var N=R||c,V=function(z){s(H,z);function H(K){n(this,H);var F=r(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,K));return B.call(F),F.state={active:!1},F}return e(H,[{key:"getScrollSpyContainer",value:function(){var F=this.props.containerId,U=this.props.container;return F?document.getElementById(F):U&&U.nodeType?U:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var F=this.getScrollSpyContainer();l.isMounted(F)||l.mount(F,this.props.spyThrottle),this.props.hashSpy&&(p.isMounted()||p.mount(N),p.mapContainer(this.props.to,F)),this.props.spy&&l.addStateHandler(this.stateHandler),l.addSpyHandler(this.spyHandler,F),this.setState({container:F})}}},{key:"componentWillUnmount",value:function(){l.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var F="";this.state&&this.state.active?F=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():F=this.props.className;var U=t({},this.props);for(var x in m)U.hasOwnProperty(x)&&delete U[x];return U.className=F,U.onClick=this.handleClick,a.createElement(I,U)}}]),H}(a.Component),B=function(){var H=this;this.scrollTo=function(K,F){N.scrollTo(K,t({},H.state,F))},this.handleClick=function(K){H.props.onClick&&H.props.onClick(K),K.stopPropagation&&K.stopPropagation(),K.preventDefault&&K.preventDefault(),H.scrollTo(H.props.to,H.props)},this.stateHandler=function(){N.getActiveLink()!==H.props.to&&(H.state!==null&&H.state.active&&H.props.onSetInactive&&H.props.onSetInactive(),H.setState({active:!1}))},this.spyHandler=function(K){var F=H.getScrollSpyContainer();if(!(p.isMounted()&&!p.isInitialized())){var U=H.props.to,x=null,A=0,T=0,E=0;if(F.getBoundingClientRect){var L=F.getBoundingClientRect();E=L.top}if(!x||H.props.isDynamic){if(x=N.get(U),!x)return;var O=x.getBoundingClientRect();A=O.top-E+K,T=A+O.height}var C=K-H.props.offset,G=C>=Math.floor(A)&&C<Math.floor(T),ue=C<Math.floor(A)||C>=Math.floor(T),se=N.getActiveLink();if(ue)return U===se&&N.setActiveLink(void 0),H.props.hashSpy&&p.getHash()===U&&p.changeHash(),H.props.spy&&H.state.active&&(H.setState({active:!1}),H.props.onSetInactive&&H.props.onSetInactive()),l.updateStates();if(G&&se!==U)return N.setActiveLink(U),H.props.hashSpy&&p.changeHash(U),H.props.spy&&(H.setState({active:!0}),H.props.onSetActive&&H.props.onSetActive(U)),l.updateStates()}}};return V.propTypes=m,V.defaultProps={offset:0},V},Element:function(I){console.warn("Helpers.Element is deprecated since v1.7.0");var R=function(N){s(V,N);function V(B){n(this,V);var z=r(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,B));return z.childBindings={domNode:null},z}return e(V,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(z){this.props.name!==z.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;c.unregister(this.props.name)}},{key:"registerElems",value:function(z){c.register(z,this.childBindings.domNode)}},{key:"render",value:function(){return a.createElement(I,t({},this.props,{parentBindings:this.childBindings}))}}]),V}(a.Component);return R.propTypes={name:h.string,id:h.string},R}};return ym=y,ym}var kT;function H3(){if(kT)return mt;kT=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.Helpers=mt.ScrollElement=mt.ScrollLink=mt.animateScroll=mt.scrollSpy=mt.Events=mt.scroller=mt.Element=mt.Button=mt.Link=void 0;var t=F3(),e=K(t),n=U3(),r=K(n),s=B3(),a=K(s),l=sf(),c=K(l),h=tv(),p=K(h),m=ev(),y=K(m),w=Mx(),I=K(w),R=nv(),N=K(R),V=jx(),B=K(V),z=z3(),H=K(z);function K(F){return F&&F.__esModule?F:{default:F}}return mt.Link=e.default,mt.Button=r.default,mt.Element=a.default,mt.scroller=c.default,mt.Events=p.default,mt.scrollSpy=y.default,mt.animateScroll=I.default,mt.ScrollLink=N.default,mt.ScrollElement=B.default,mt.Helpers=H.default,mt.default={Link:e.default,Button:r.default,Element:a.default,scroller:c.default,Events:p.default,scrollSpy:y.default,animateScroll:I.default,ScrollLink:N.default,ScrollElement:B.default,Helpers:H.default},mt}var OT=H3();function $3(t){return ho({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function W3(t){return ho({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}const NT=[{_id:1001,title:"Home",link:"home"},{_id:1002,title:"Statistics",link:"features"},{_id:1003,title:"Missions",link:"projects"},{_id:1004,title:"About Us",link:"Resume"},{_id:1005,title:"Photo gallery",link:"testimonial"}],q3=()=>{const[t,e]=X.useState(!1);return M.jsxs("div",{className:"w-full h-24 sticky top-0 z-50 backdrop-blur-2xl transition-colors bg-bodyColor/70 mx-auto flex justify-between items-center font-titleFont border-b-[1px] border-b-gray-600 px-4",children:[M.jsx("div",{children:M.jsx("img",{src:Rw,alt:"logo"})}),M.jsxs("div",{children:[M.jsx("ul",{className:"hidden mdl:inline-flex items-center gap-6 lg:gap-10",children:NT.map(({_id:n,title:r,link:s})=>M.jsx("li",{className:"text-base font-normal text-gray-400 tracking-wide cursor-pointer hover:text-designColor duration-300",children:M.jsx(OT.Link,{activeClass:"active",to:s,spy:!0,smooth:!0,offset:-70,duration:500,children:r})},n))}),M.jsx("span",{onClick:()=>e(!t),className:"text-xl mdl:hidden bg-black w-10 h-10 inline-flex items-center justify-center rounded-full text-designColor cursor-pointer",children:M.jsx($3,{})}),t&&M.jsx("div",{className:"w-[80%] h-screen mdl:hidden overflow-scroll absolute top-0 left-0 bg-gray-900 p-4 scrollbar-hide",children:M.jsxs("div",{className:"flex flex-col gap-8 py-2 relative",children:[M.jsxs("div",{children:[M.jsx("img",{className:"w-32",src:Rw,alt:"logo"}),M.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Bringing smiles one surgery at a time"})]}),M.jsx("ul",{className:"flex flex-col gap-4",children:NT.map(n=>M.jsx("li",{className:"text-base font-normal text-gray-400 tracking-wide cursor-pointer hover:text-designColor duration-300",children:M.jsx(OT.Link,{onClick:()=>e(!1),activeClass:"active",to:n.link,spy:!0,smooth:!0,offset:-70,duration:500,children:n.title})},n._id))}),M.jsxs("div",{className:"flex flex-col gap-4",children:[M.jsx("h2",{className:"text-base uppercase font-titleFont mb-4",children:"Find us at"}),M.jsxs("div",{className:"flex gap-4",children:[M.jsx("a",{href:"https://youtu.be/_dih2JOb2C8",target:"_blank",children:M.jsx("span",{className:"bannerIcon",children:M.jsx(ES,{})})}),M.jsx("a",{href:"https://www.instagram.com/mountelizabethhospitals/p/C0d2R7lInFg/?next=%2Frubykantor%2F&hl=ja&img_index=1",target:"_blank",children:M.jsx("span",{className:"bannerIcon",children:M.jsx(wS,{})})}),M.jsx("a",{href:"https://www.facebook.com/watch/?v=1032449527847176",target:"_blank",children:M.jsx("span",{className:"bannerIcon",children:M.jsx(_S,{})})})]})]}),M.jsx("span",{onClick:()=>e(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-designColor duration-300 text-2xl cursor-pointer",children:M.jsx(W3,{})})]})})]})]})},Fu="missions",wh=async()=>{try{const t=WV(Iy(Ts,Fu),qV("order","asc"));return(await DI(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error fetching missions:",t),t}},K3=async(t,e)=>{try{const n=Ua(Ts,Fu,t);await MI(n,e)}catch(n){throw console.error("Error updating mission:",n),n}},Fx=async t=>{try{return(await ZV(Iy(Ts,Fu),t)).id}catch(e){throw console.error("Error adding mission:",e),e}},G3=async t=>{try{await JV(Ua(Ts,Fu,t))}catch(e){throw console.error("Error deleting mission:",e),e}},Q3=async(t,e)=>{try{const n=t.name.split(".").pop(),r=`mission-${e}-${Date.now()}.${n}`,s=Nx(Dx,`mission-reports/${r}`),a=await S3(s,t);return{url:await b3(a.ref),fileName:t.name,storageFileName:r}}catch(n){throw console.error("Error uploading file:",n),n}},Y3=async t=>{try{console.log("Attempting to delete file:",t),console.log("Auth user:",ju.currentUser);const e=Nx(Dx,`mission-reports/${t}`);console.log("Storage reference path:",e.fullPath),await I3(e),console.log("File deleted successfully")}catch(e){throw console.error("Error deleting file:",e),e}},DT=async(t,e)=>{try{const n=Ua(Ts,Fu,t);await MI(n,e)}catch(n){throw console.error("Error updating mission with file:",n),n}},X3=()=>{const[t,e]=X.useState([]),[n,r]=X.useState(!0),[s,a]=X.useState(null);return X.useEffect(()=>{(async()=>{try{const c=await wh();e(c)}catch(c){console.error("Error loading missions:",c),a("Failed to load missions"),e([{id:"1",title:"February 2025",description:"33 Surgeries delivered",order:1,reportUrl:void 0,reportFileName:void 0},{id:"2",title:"June 2024",description:"8 Surgeries delivered",order:2,reportUrl:void 0,reportFileName:void 0},{id:"3",title:"March 2024",description:"23 Surgeries delivered",order:3,reportUrl:void 0,reportFileName:void 0},{id:"4",title:"October 2023",description:"28 Surgeries delivered",order:4,reportUrl:void 0,reportFileName:void 0},{id:"5",title:"February 2023",description:"17 Surgeries delivered",order:5,reportUrl:void 0,reportFileName:void 0}])}finally{r(!1)}})()},[]),n?M.jsx("section",{id:"missions",className:"bg-center w-full py-20 border-b-[1px] border-b-gray-700",children:M.jsxs(ls,{children:[M.jsx("div",{className:"flex justify-center items-center text-center",children:M.jsx(du,{title:"What we do",des:"Missions"})}),M.jsx("div",{className:"flex justify-center items-center mt-8",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-designColor mx-auto"}),M.jsx("p",{className:"text-gray-600 mt-2",children:"Loading missions..."})]})})]})}):M.jsx("section",{id:"missions",className:"bg-center w-full py-20 border-b-[1px] border-b-gray-700",children:M.jsxs(ls,{children:[M.jsx("div",{className:"flex justify-center items-center text-center",children:M.jsx(du,{title:"What we do",des:"Missions"})}),M.jsx("div",{className:"flex justify-center mt-8",children:M.jsxs("div",{className:"w-full max-w-4xl px-4",children:[s&&M.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:s}),M.jsx("h3",{className:"text-xl font-semibold mb-6 text-center text-gray-800",children:"Our Recent Missions"}),M.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(l=>M.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[M.jsx("div",{className:"mb-3",children:M.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:l.title})}),M.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:l.description}),l.reportUrl&&M.jsx("div",{className:"mt-auto",children:M.jsxs("a",{href:l.reportUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[M.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"View Mission Report"]})})]},l.id))}),t.length===0&&!n&&M.jsx("div",{className:"text-center py-8",children:M.jsx("p",{className:"text-gray-600",children:"No missions found."})})]})})]})})},J3="/assets/Cordelia-Bag0ks2u.jpeg",Z3={Doctors:["Kuek Bak Kim Leslie","Por Yong Chen","Wu Tze Liang Woffles","Michael Hsieh Ku-Hung","Robert Yap Tze Jin","Lim Jue Shuang Gale","Savitha Ramachandran","Cai Zhengyang Elijah","Ang Shu Yan Divya","Lai Yu Ming","Loh Mei Ling","Lim Hsien Jer","Tan Swee Kim Josephine","Tan Geok Mui","Davies Lucy Jennifer","Rachael Peirera","Claire Ang Sze Teng","Neo Hong Jye","Ng Bang Teen","Philip Tseng Seng Sou","Stephanie Glarbo Jia Xing","Angela Tan Yun June","Yap Si Hui","Ma Wai Wai Zaw","Catherine Lee Tong How","Jonathan See"],Nurses:["Ong ShiHui","Lew Lian Choo","Cassandra Leong","Ho Liping  Michelle","Chua Sin Yee","Cordelia Xavier","Ng Sau Foong","Yvonne Yap Yan Yan","Manoranjitham Harikrishnan","Sheena Wong Xiu Wen","Nur Diyana Binte Jamial","Tan Hwee Min"],"Speech Therapist":["Jasmin Teo Lee Ping"],"Photographer / Web designer":["John Tow"]},LT={leaders:[{name:"Dr. Leslie Kuek",role:"Team Leader",image:"https://www.farrerpark.com/dam/jcr:5f16b4d2-012c-4bf3-9062-974f94ac7b5e/LeslieKuek.jpg"},{name:"Nurse Cordelia",role:"Lead Nurse",image:J3},{name:"Prof. Lee Seng Teik",role:"Founder",image:"https://mindfulnessacademy.org/images/events/conferences/2015-MTeachers/speakers/LeeSengTeik-pt.jpg"},{name:"Dr. Woffles Wu",role:"Lead Plastic Surgeon",image:"https://www.woffleswu.com/wp-content/uploads/2020/06/AN-EYELID-FOR-BEAUTY-cover.jpg"}]},e6=()=>{const[t,e]=X.useState(!1);return M.jsx("section",{id:"Resume",className:"w-full py-20 border-b-[1px] border-b-gray-700",children:M.jsxs(ls,{children:[M.jsxs("div",{className:"container mx-auto py-12",children:[M.jsx("h1",{className:"text-4xl font-bold text-center mb-12",children:"Our Story"}),M.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-16",children:[M.jsxs("div",{className:"w-full md:w-1/2 aspect-video relative",children:[!t&&M.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:M.jsx("p",{className:"text-gray-500",children:"Loading video..."})}),M.jsx("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/_dih2JOb2C8",title:"MyLaoSmile Story",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:()=>e(!0),className:`absolute inset-0 ${t?"opacity-100":"opacity-0"}`})]}),M.jsxs("div",{className:"w-full md:w-1/2",children:[M.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The History of MyLaoSmile"}),M.jsx("p",{className:"text-gray-700 mb-4",children:"The MyLaoSMILE project was started in 2023 by Prof. Lee Seng Teik and is now led by Dr Leslie Kuek and Dr. Woffles Wu. With the support of many medical professionals from Singapore, the team strives to continue restore basic human functions to children in Laos which every child should enjoy."}),M.jsx("p",{className:"text-gray-700 mb-4",children:"In partnership with Lao Friends Hospital for Children, the surgical team has fostered many connections and works together to provide free reconstructive surgeries that help children eat, speak, and smile without fear. Our team performs a wide range of procedures including cleft lip repair, cleft palate repair, burns contracture scar release and congenital hand surgery."}),M.jsx("p",{className:"text-gray-700 mb-4",children:"  "}),M.jsx("p",{className:"text-gray-700 mb-4",children:"Beyond surgery, the team is deeply committed to making a lasting impact by training local doctors, equipping them with the skills and knowledge to continue treating cleft conditions. This ensures that future generations of children will receive the care they need long after the mission ends."})]})]}),M.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Our Team"}),Object.keys(LT).map(n=>M.jsxs("div",{className:"mb-8",children:[M.jsx("h3",{className:"text-2xl font-semibold mb-4 capitalize",children:n.replace(/([A-Z])/g," $1")}),M.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:LT[n].map((r,s)=>M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"aspect-square relative mb-4",children:M.jsx("img",{src:r.image,alt:r.name,className:"rounded-lg object-cover w-full h-full",onError:a=>{a.currentTarget.src="fallback-image-url",a.currentTarget.alt="Fallback Image"}})}),M.jsx("h3",{className:"font-semibold text-lg",children:r.name}),r.role&&M.jsx("p",{className:"text-gray-600",children:r.role})]},s))})]},n))]}),M.jsxs("div",{className:"container mx-auto p-4 text-center",children:[M.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Our Team"}),M.jsx("div",{className:"flex flex-col items-center space-y-8",children:Object.entries(Z3).map(([n,r])=>M.jsxs("div",{className:"w-full max-w-md",children:[M.jsx("h3",{className:"text-xl font-semibold text-blue-600 mb-3",children:n}),M.jsx("ul",{className:"space-y-1",children:r.map((s,a)=>M.jsx("li",{className:"text-gray-700",children:s},a))})]},n))})]})]})})};var vm={},_m={},Bl={},wm={},MT;function t6(){return MT||(MT=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e}(wm)),wm}var Em,VT;function n6(){if(VT)return Em;VT=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,h=typeof Xi=="object"&&Xi&&Xi.Object===Object&&Xi,p=typeof self=="object"&&self&&self.Object===Object&&self,m=h||p||Function("return this")(),y=Object.prototype,w=y.toString,I=Math.max,R=Math.min,N=function(){return m.Date.now()};function V(F,U,x){var A,T,E,L,O,C,G=0,ue=!1,se=!1,P=!0;if(typeof F!="function")throw new TypeError(t);U=K(U)||0,B(x)&&(ue=!!x.leading,se="maxWait"in x,E=se?I(K(x.maxWait)||0,U):E,P="trailing"in x?!!x.trailing:P);function oe(ce){var ge=A,_e=T;return A=T=void 0,G=ce,L=F.apply(_e,ge),L}function q(ce){return G=ce,O=setTimeout($,U),ue?oe(ce):L}function b(ce){var ge=ce-C,_e=ce-G,Se=U-ge;return se?R(Se,E-_e):Se}function k(ce){var ge=ce-C,_e=ce-G;return C===void 0||ge>=U||ge<0||se&&_e>=E}function $(){var ce=N();if(k(ce))return te(ce);O=setTimeout($,b(ce))}function te(ce){return O=void 0,P&&A?oe(ce):(A=T=void 0,L)}function re(){O!==void 0&&clearTimeout(O),G=0,A=C=T=O=void 0}function le(){return O===void 0?L:te(N())}function ae(){var ce=N(),ge=k(ce);if(A=arguments,T=this,C=ce,ge){if(O===void 0)return q(C);if(se)return O=setTimeout($,U),oe(C)}return O===void 0&&(O=setTimeout($,U)),L}return ae.cancel=re,ae.flush=le,ae}function B(F){var U=typeof F;return!!F&&(U=="object"||U=="function")}function z(F){return!!F&&typeof F=="object"}function H(F){return typeof F=="symbol"||z(F)&&w.call(F)==n}function K(F){if(typeof F=="number")return F;if(H(F))return e;if(B(F)){var U=typeof F.valueOf=="function"?F.valueOf():F;F=B(U)?U+"":U}if(typeof F!="string")return F===0?F:+F;F=F.replace(r,"");var x=a.test(F);return x||l.test(F)?c(F.slice(2),x?2:8):s.test(F)?e:+F}return Em=V,Em}var Tm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var jT;function af(){return jT||(jT=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=s(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=s(l,c));return l}function s(a,l){return l?a?a+" "+l:a+l:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(Tm)),Tm.exports}var we={},Sm={},FT;function Ux(){return FT||(FT=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(un());function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(a){return e.default.createElement("ul",{style:{display:"block"}},a)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(a){return e.default.createElement("button",null,a+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r}(Sm)),Sm}var UT;function Uu(){if(UT)return we;UT=1,Object.defineProperty(we,"__esModule",{value:!0}),we.checkSpecKeys=we.checkNavigable=we.changeSlide=we.canUseDOM=we.canGoNext=void 0,we.clamp=p,we.extractObject=void 0,we.filterSettings=oe,we.validSettings=we.swipeStart=we.swipeMove=we.swipeEnd=we.slidesOnRight=we.slidesOnLeft=we.slideHandler=we.siblingDirection=we.safePreventDefault=we.lazyStartIndex=we.lazySlidesOnRight=we.lazySlidesOnLeft=we.lazyEndIndex=we.keyHandler=we.initializedState=we.getWidth=we.getTrackLeft=we.getTrackCSS=we.getTrackAnimateCSS=we.getTotalSlides=we.getSwipeDirection=we.getSlideCount=we.getRequiredLazySlides=we.getPreClones=we.getPostClones=we.getOnDemandLazySlides=we.getNavigableIndexes=we.getHeight=void 0;var t=n(un()),e=n(Ux());function n(q){return q&&q.__esModule?q:{default:q}}function r(q){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},r(q)}function s(q,b){var k=Object.keys(q);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(q);b&&($=$.filter(function(te){return Object.getOwnPropertyDescriptor(q,te).enumerable})),k.push.apply(k,$)}return k}function a(q){for(var b=1;b<arguments.length;b++){var k=arguments[b]!=null?arguments[b]:{};b%2?s(Object(k),!0).forEach(function($){l(q,$,k[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(k)):s(Object(k)).forEach(function($){Object.defineProperty(q,$,Object.getOwnPropertyDescriptor(k,$))})}return q}function l(q,b,k){return b=c(b),b in q?Object.defineProperty(q,b,{value:k,enumerable:!0,configurable:!0,writable:!0}):q[b]=k,q}function c(q){var b=h(q,"string");return r(b)=="symbol"?b:String(b)}function h(q,b){if(r(q)!="object"||!q)return q;var k=q[Symbol.toPrimitive];if(k!==void 0){var $=k.call(q,b);if(r($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(q)}function p(q,b,k){return Math.max(b,Math.min(q,k))}var m=we.safePreventDefault=function(b){var k=["onTouchStart","onTouchMove","onWheel"];k.includes(b._reactName)||b.preventDefault()},y=we.getOnDemandLazySlides=function(b){for(var k=[],$=w(b),te=I(b),re=$;re<te;re++)b.lazyLoadedList.indexOf(re)<0&&k.push(re);return k};we.getRequiredLazySlides=function(b){for(var k=[],$=w(b),te=I(b),re=$;re<te;re++)k.push(re);return k};var w=we.lazyStartIndex=function(b){return b.currentSlide-R(b)},I=we.lazyEndIndex=function(b){return b.currentSlide+N(b)},R=we.lazySlidesOnLeft=function(b){return b.centerMode?Math.floor(b.slidesToShow/2)+(parseInt(b.centerPadding)>0?1:0):0},N=we.lazySlidesOnRight=function(b){return b.centerMode?Math.floor((b.slidesToShow-1)/2)+1+(parseInt(b.centerPadding)>0?1:0):b.slidesToShow},V=we.getWidth=function(b){return b&&b.offsetWidth||0},B=we.getHeight=function(b){return b&&b.offsetHeight||0},z=we.getSwipeDirection=function(b){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,$,te,re,le;return $=b.startX-b.curX,te=b.startY-b.curY,re=Math.atan2(te,$),le=Math.round(re*180/Math.PI),le<0&&(le=360-Math.abs(le)),le<=45&&le>=0||le<=360&&le>=315?"left":le>=135&&le<=225?"right":k===!0?le>=35&&le<=135?"up":"down":"vertical"},H=we.canGoNext=function(b){var k=!0;return b.infinite||(b.centerMode&&b.currentSlide>=b.slideCount-1||b.slideCount<=b.slidesToShow||b.currentSlide>=b.slideCount-b.slidesToShow)&&(k=!1),k};we.extractObject=function(b,k){var $={};return k.forEach(function(te){return $[te]=b[te]}),$},we.initializedState=function(b){var k=t.default.Children.count(b.children),$=b.listRef,te=Math.ceil(V($)),re=b.trackRef&&b.trackRef.node,le=Math.ceil(V(re)),ae;if(b.vertical)ae=te;else{var ce=b.centerMode&&parseInt(b.centerPadding)*2;typeof b.centerPadding=="string"&&b.centerPadding.slice(-1)==="%"&&(ce*=te/100),ae=Math.ceil((te-ce)/b.slidesToShow)}var ge=$&&B($.querySelector('[data-index="0"]')),_e=ge*b.slidesToShow,Se=b.currentSlide===void 0?b.initialSlide:b.currentSlide;b.rtl&&b.currentSlide===void 0&&(Se=k-1-b.initialSlide);var Ae=b.lazyLoadedList||[],ze=y(a(a({},b),{},{currentSlide:Se,lazyLoadedList:Ae}));Ae=Ae.concat(ze);var Be={slideCount:k,slideWidth:ae,listWidth:te,trackWidth:le,currentSlide:Se,slideHeight:ge,listHeight:_e,lazyLoadedList:Ae};return b.autoplaying===null&&b.autoplay&&(Be.autoplaying="playing"),Be},we.slideHandler=function(b){var k=b.waitForAnimate,$=b.animating,te=b.fade,re=b.infinite,le=b.index,ae=b.slideCount,ce=b.lazyLoad,ge=b.currentSlide,_e=b.centerMode,Se=b.slidesToScroll,Ae=b.slidesToShow,ze=b.useCSS,Be=b.lazyLoadedList;if(k&&$)return{};var je=le,We,ot,Ue,at={},lt={},nt=re?le:p(le,0,ae-1);if(te){if(!re&&(le<0||le>=ae))return{};le<0?je=le+ae:le>=ae&&(je=le-ae),ce&&Be.indexOf(je)<0&&(Be=Be.concat(je)),at={animating:!0,currentSlide:je,lazyLoadedList:Be,targetSlide:je},lt={animating:!1,targetSlide:je}}else We=je,je<0?(We=je+ae,re?ae%Se!==0&&(We=ae-ae%Se):We=0):!H(b)&&je>ge?je=We=ge:_e&&je>=ae?(je=re?ae:ae-1,We=re?0:ae-1):je>=ae&&(We=je-ae,re?ae%Se!==0&&(We=0):We=ae-Ae),!re&&je+Ae>=ae&&(We=ae-Ae),ot=E(a(a({},b),{},{slideIndex:je})),Ue=E(a(a({},b),{},{slideIndex:We})),re||(ot===Ue&&(je=We),ot=Ue),ce&&(Be=Be.concat(y(a(a({},b),{},{currentSlide:je})))),ze?(at={animating:!0,currentSlide:We,trackStyle:T(a(a({},b),{},{left:ot})),lazyLoadedList:Be,targetSlide:nt},lt={animating:!1,currentSlide:We,trackStyle:A(a(a({},b),{},{left:Ue})),swipeLeft:null,targetSlide:nt}):at={currentSlide:We,trackStyle:A(a(a({},b),{},{left:Ue})),lazyLoadedList:Be,targetSlide:nt};return{state:at,nextState:lt}},we.changeSlide=function(b,k){var $,te,re,le,ae,ce=b.slidesToScroll,ge=b.slidesToShow,_e=b.slideCount,Se=b.currentSlide,Ae=b.targetSlide,ze=b.lazyLoad,Be=b.infinite;if(le=_e%ce!==0,$=le?0:(_e-Se)%ce,k.message==="previous")re=$===0?ce:ge-$,ae=Se-re,ze&&!Be&&(te=Se-re,ae=te===-1?_e-1:te),Be||(ae=Ae-ce);else if(k.message==="next")re=$===0?ce:$,ae=Se+re,ze&&!Be&&(ae=(Se+ce)%_e+$),Be||(ae=Ae+ce);else if(k.message==="dots")ae=k.index*k.slidesToScroll;else if(k.message==="children"){if(ae=k.index,Be){var je=G(a(a({},b),{},{targetSlide:ae}));ae>k.currentSlide&&je==="left"?ae=ae-_e:ae<k.currentSlide&&je==="right"&&(ae=ae+_e)}}else k.message==="index"&&(ae=Number(k.index));return ae},we.keyHandler=function(b,k,$){return b.target.tagName.match("TEXTAREA|INPUT|SELECT")||!k?"":b.keyCode===37?$?"next":"previous":b.keyCode===39?$?"previous":"next":""},we.swipeStart=function(b,k,$){return b.target.tagName==="IMG"&&m(b),!k||!$&&b.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:b.touches?b.touches[0].pageX:b.clientX,startY:b.touches?b.touches[0].pageY:b.clientY,curX:b.touches?b.touches[0].pageX:b.clientX,curY:b.touches?b.touches[0].pageY:b.clientY}}},we.swipeMove=function(b,k){var $=k.scrolling,te=k.animating,re=k.vertical,le=k.swipeToSlide,ae=k.verticalSwiping,ce=k.rtl,ge=k.currentSlide,_e=k.edgeFriction,Se=k.edgeDragged,Ae=k.onEdge,ze=k.swiped,Be=k.swiping,je=k.slideCount,We=k.slidesToScroll,ot=k.infinite,Ue=k.touchObject,at=k.swipeEvent,lt=k.listHeight,nt=k.listWidth;if(!$){if(te)return m(b);re&&le&&ae&&m(b);var yt,Rn={},er=E(k);Ue.curX=b.touches?b.touches[0].pageX:b.clientX,Ue.curY=b.touches?b.touches[0].pageY:b.clientY,Ue.swipeLength=Math.round(Math.sqrt(Math.pow(Ue.curX-Ue.startX,2)));var Wr=Math.round(Math.sqrt(Math.pow(Ue.curY-Ue.startY,2)));if(!ae&&!Be&&Wr>10)return{scrolling:!0};ae&&(Ue.swipeLength=Wr);var tr=(ce?-1:1)*(Ue.curX>Ue.startX?1:-1);ae&&(tr=Ue.curY>Ue.startY?1:-1);var xt=Math.ceil(je/We),tt=z(k.touchObject,ae),cn=Ue.swipeLength;return ot||(ge===0&&(tt==="right"||tt==="down")||ge+1>=xt&&(tt==="left"||tt==="up")||!H(k)&&(tt==="left"||tt==="up"))&&(cn=Ue.swipeLength*_e,Se===!1&&Ae&&(Ae(tt),Rn.edgeDragged=!0)),!ze&&at&&(at(tt),Rn.swiped=!0),re?yt=er+cn*(lt/nt)*tr:ce?yt=er-cn*tr:yt=er+cn*tr,ae&&(yt=er+cn*tr),Rn=a(a({},Rn),{},{touchObject:Ue,swipeLeft:yt,trackStyle:A(a(a({},k),{},{left:yt}))}),Math.abs(Ue.curX-Ue.startX)<Math.abs(Ue.curY-Ue.startY)*.8||Ue.swipeLength>10&&(Rn.swiping=!0,m(b)),Rn}},we.swipeEnd=function(b,k){var $=k.dragging,te=k.swipe,re=k.touchObject,le=k.listWidth,ae=k.touchThreshold,ce=k.verticalSwiping,ge=k.listHeight,_e=k.swipeToSlide,Se=k.scrolling,Ae=k.onSwipe,ze=k.targetSlide,Be=k.currentSlide,je=k.infinite;if(!$)return te&&m(b),{};var We=ce?ge/ae:le/ae,ot=z(re,ce),Ue={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Se||!re.swipeLength)return Ue;if(re.swipeLength>We){m(b),Ae&&Ae(ot);var at,lt,nt=je?Be:ze;switch(ot){case"left":case"up":lt=nt+U(k),at=_e?F(k,lt):lt,Ue.currentDirection=0;break;case"right":case"down":lt=nt-U(k),at=_e?F(k,lt):lt,Ue.currentDirection=1;break;default:at=nt}Ue.triggerSlideHandler=at}else{var yt=E(k);Ue.trackStyle=T(a(a({},k),{},{left:yt}))}return Ue};var K=we.getNavigableIndexes=function(b){for(var k=b.infinite?b.slideCount*2:b.slideCount,$=b.infinite?b.slidesToShow*-1:0,te=b.infinite?b.slidesToShow*-1:0,re=[];$<k;)re.push($),$=te+b.slidesToScroll,te+=Math.min(b.slidesToScroll,b.slidesToShow);return re},F=we.checkNavigable=function(b,k){var $=K(b),te=0;if(k>$[$.length-1])k=$[$.length-1];else for(var re in $){if(k<$[re]){k=te;break}te=$[re]}return k},U=we.getSlideCount=function(b){var k=b.centerMode?b.slideWidth*Math.floor(b.slidesToShow/2):0;if(b.swipeToSlide){var $,te=b.listRef,re=te.querySelectorAll&&te.querySelectorAll(".slick-slide")||[];if(Array.from(re).every(function(ce){if(b.vertical){if(ce.offsetTop+B(ce)/2>b.swipeLeft*-1)return $=ce,!1}else if(ce.offsetLeft-k+V(ce)/2>b.swipeLeft*-1)return $=ce,!1;return!0}),!$)return 0;var le=b.rtl===!0?b.slideCount-b.currentSlide:b.currentSlide,ae=Math.abs($.dataset.index-le)||1;return ae}else return b.slidesToScroll},x=we.checkSpecKeys=function(b,k){return k.reduce(function($,te){return $&&b.hasOwnProperty(te)},!0)?null:console.error("Keys Missing:",b)},A=we.getTrackCSS=function(b){x(b,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var k,$,te=b.slideCount+2*b.slidesToShow;b.vertical?$=te*b.slideHeight:k=C(b)*b.slideWidth;var re={opacity:1,transition:"",WebkitTransition:""};if(b.useTransform){var le=b.vertical?"translate3d(0px, "+b.left+"px, 0px)":"translate3d("+b.left+"px, 0px, 0px)",ae=b.vertical?"translate3d(0px, "+b.left+"px, 0px)":"translate3d("+b.left+"px, 0px, 0px)",ce=b.vertical?"translateY("+b.left+"px)":"translateX("+b.left+"px)";re=a(a({},re),{},{WebkitTransform:le,transform:ae,msTransform:ce})}else b.vertical?re.top=b.left:re.left=b.left;return b.fade&&(re={opacity:1}),k&&(re.width=k),$&&(re.height=$),window&&!window.addEventListener&&window.attachEvent&&(b.vertical?re.marginTop=b.left+"px":re.marginLeft=b.left+"px"),re},T=we.getTrackAnimateCSS=function(b){x(b,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var k=A(b);return b.useTransform?(k.WebkitTransition="-webkit-transform "+b.speed+"ms "+b.cssEase,k.transition="transform "+b.speed+"ms "+b.cssEase):b.vertical?k.transition="top "+b.speed+"ms "+b.cssEase:k.transition="left "+b.speed+"ms "+b.cssEase,k},E=we.getTrackLeft=function(b){if(b.unslick)return 0;x(b,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var k=b.slideIndex,$=b.trackRef,te=b.infinite,re=b.centerMode,le=b.slideCount,ae=b.slidesToShow,ce=b.slidesToScroll,ge=b.slideWidth,_e=b.listWidth,Se=b.variableWidth,Ae=b.slideHeight,ze=b.fade,Be=b.vertical,je=0,We,ot,Ue=0;if(ze||b.slideCount===1)return 0;var at=0;if(te?(at=-L(b),le%ce!==0&&k+ce>le&&(at=-(k>le?ae-(k-le):le%ce)),re&&(at+=parseInt(ae/2))):(le%ce!==0&&k+ce>le&&(at=ae-le%ce),re&&(at=parseInt(ae/2))),je=at*ge,Ue=at*Ae,Be?We=k*Ae*-1+Ue:We=k*ge*-1+je,Se===!0){var lt,nt=$&&$.node;if(lt=k+L(b),ot=nt&&nt.childNodes[lt],We=ot?ot.offsetLeft*-1:0,re===!0){lt=te?k+L(b):k,ot=nt&&nt.children[lt],We=0;for(var yt=0;yt<lt;yt++)We-=nt&&nt.children[yt]&&nt.children[yt].offsetWidth;We-=parseInt(b.centerPadding),We+=ot&&(_e-ot.offsetWidth)/2}}return We},L=we.getPreClones=function(b){return b.unslick||!b.infinite?0:b.variableWidth?b.slideCount:b.slidesToShow+(b.centerMode?1:0)},O=we.getPostClones=function(b){return b.unslick||!b.infinite?0:b.slideCount},C=we.getTotalSlides=function(b){return b.slideCount===1?1:L(b)+b.slideCount+O(b)},G=we.siblingDirection=function(b){return b.targetSlide>b.currentSlide?b.targetSlide>b.currentSlide+ue(b)?"left":"right":b.targetSlide<b.currentSlide-se(b)?"right":"left"},ue=we.slidesOnRight=function(b){var k=b.slidesToShow,$=b.centerMode,te=b.rtl,re=b.centerPadding;if($){var le=(k-1)/2+1;return parseInt(re)>0&&(le+=1),te&&k%2===0&&(le+=1),le}return te?0:k-1},se=we.slidesOnLeft=function(b){var k=b.slidesToShow,$=b.centerMode,te=b.rtl,re=b.centerPadding;if($){var le=(k-1)/2+1;return parseInt(re)>0&&(le+=1),!te&&k%2===0&&(le+=1),le}return te?k-1:0};we.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var P=we.validSettings=Object.keys(e.default);function oe(q){return P.reduce(function(b,k){return q.hasOwnProperty(k)&&(b[k]=q[k]),b},{})}return we}var zl={},BT;function r6(){if(BT)return zl;BT=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.Track=void 0;var t=r(un()),e=r(af()),n=Uu();function r(T){return T&&T.__esModule?T:{default:T}}function s(T){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s(T)}function a(){return a=Object.assign?Object.assign.bind():function(T){for(var E=1;E<arguments.length;E++){var L=arguments[E];for(var O in L)Object.prototype.hasOwnProperty.call(L,O)&&(T[O]=L[O])}return T},a.apply(this,arguments)}function l(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function c(T,E){for(var L=0;L<E.length;L++){var O=E[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(T,H(O.key),O)}}function h(T,E,L){return E&&c(T.prototype,E),Object.defineProperty(T,"prototype",{writable:!1}),T}function p(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),E&&m(T,E)}function m(T,E){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,C){return O.__proto__=C,O},m(T,E)}function y(T){var E=R();return function(){var O=N(T),C;if(E){var G=N(this).constructor;C=Reflect.construct(O,arguments,G)}else C=O.apply(this,arguments);return w(this,C)}}function w(T,E){if(E&&(s(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(T)}function I(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function R(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!T})()}function N(T){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},N(T)}function V(T,E){var L=Object.keys(T);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(T);E&&(O=O.filter(function(C){return Object.getOwnPropertyDescriptor(T,C).enumerable})),L.push.apply(L,O)}return L}function B(T){for(var E=1;E<arguments.length;E++){var L=arguments[E]!=null?arguments[E]:{};E%2?V(Object(L),!0).forEach(function(O){z(T,O,L[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(L)):V(Object(L)).forEach(function(O){Object.defineProperty(T,O,Object.getOwnPropertyDescriptor(L,O))})}return T}function z(T,E,L){return E=H(E),E in T?Object.defineProperty(T,E,{value:L,enumerable:!0,configurable:!0,writable:!0}):T[E]=L,T}function H(T){var E=K(T,"string");return s(E)=="symbol"?E:String(E)}function K(T,E){if(s(T)!="object"||!T)return T;var L=T[Symbol.toPrimitive];if(L!==void 0){var O=L.call(T,E);if(s(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(T)}var F=function(E){var L,O,C,G,ue;E.rtl?ue=E.slideCount-1-E.index:ue=E.index,C=ue<0||ue>=E.slideCount,E.centerMode?(G=Math.floor(E.slidesToShow/2),O=(ue-E.currentSlide)%E.slideCount===0,ue>E.currentSlide-G-1&&ue<=E.currentSlide+G&&(L=!0)):L=E.currentSlide<=ue&&ue<E.currentSlide+E.slidesToShow;var se;E.targetSlide<0?se=E.targetSlide+E.slideCount:E.targetSlide>=E.slideCount?se=E.targetSlide-E.slideCount:se=E.targetSlide;var P=ue===se;return{"slick-slide":!0,"slick-active":L,"slick-center":O,"slick-cloned":C,"slick-current":P}},U=function(E){var L={};return(E.variableWidth===void 0||E.variableWidth===!1)&&(L.width=E.slideWidth),E.fade&&(L.position="relative",E.vertical?L.top=-E.index*parseInt(E.slideHeight):L.left=-E.index*parseInt(E.slideWidth),L.opacity=E.currentSlide===E.index?1:0,L.zIndex=E.currentSlide===E.index?999:998,E.useCSS&&(L.transition="opacity "+E.speed+"ms "+E.cssEase+", visibility "+E.speed+"ms "+E.cssEase)),L},x=function(E,L){return E.key||L},A=function(E){var L,O=[],C=[],G=[],ue=t.default.Children.count(E.children),se=(0,n.lazyStartIndex)(E),P=(0,n.lazyEndIndex)(E);return t.default.Children.forEach(E.children,function(oe,q){var b,k={message:"children",index:q,slidesToScroll:E.slidesToScroll,currentSlide:E.currentSlide};!E.lazyLoad||E.lazyLoad&&E.lazyLoadedList.indexOf(q)>=0?b=oe:b=t.default.createElement("div",null);var $=U(B(B({},E),{},{index:q})),te=b.props.className||"",re=F(B(B({},E),{},{index:q}));if(O.push(t.default.cloneElement(b,{key:"original"+x(b,q),"data-index":q,className:(0,e.default)(re,te),tabIndex:"-1","aria-hidden":!re["slick-active"],style:B(B({outline:"none"},b.props.style||{}),$),onClick:function(ce){b.props&&b.props.onClick&&b.props.onClick(ce),E.focusOnSelect&&E.focusOnSelect(k)}})),E.infinite&&E.fade===!1){var le=ue-q;le<=(0,n.getPreClones)(E)&&(L=-le,L>=se&&(b=oe),re=F(B(B({},E),{},{index:L})),C.push(t.default.cloneElement(b,{key:"precloned"+x(b,L),"data-index":L,tabIndex:"-1",className:(0,e.default)(re,te),"aria-hidden":!re["slick-active"],style:B(B({},b.props.style||{}),$),onClick:function(ce){b.props&&b.props.onClick&&b.props.onClick(ce),E.focusOnSelect&&E.focusOnSelect(k)}}))),L=ue+q,L<P&&(b=oe),re=F(B(B({},E),{},{index:L})),G.push(t.default.cloneElement(b,{key:"postcloned"+x(b,L),"data-index":L,tabIndex:"-1",className:(0,e.default)(re,te),"aria-hidden":!re["slick-active"],style:B(B({},b.props.style||{}),$),onClick:function(ce){b.props&&b.props.onClick&&b.props.onClick(ce),E.focusOnSelect&&E.focusOnSelect(k)}}))}}),E.rtl?C.concat(O,G).reverse():C.concat(O,G)};return zl.Track=function(T){p(L,T);var E=y(L);function L(){var O;l(this,L);for(var C=arguments.length,G=new Array(C),ue=0;ue<C;ue++)G[ue]=arguments[ue];return O=E.call.apply(E,[this].concat(G)),z(I(O),"node",null),z(I(O),"handleRef",function(se){O.node=se}),O}return h(L,[{key:"render",value:function(){var C=A(this.props),G=this.props,ue=G.onMouseEnter,se=G.onMouseOver,P=G.onMouseLeave,oe={onMouseEnter:ue,onMouseOver:se,onMouseLeave:P};return t.default.createElement("div",a({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},oe),C)}}]),L}(t.default.PureComponent),zl}var Hl={},zT;function i6(){if(zT)return Hl;zT=1;function t(F){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},t(F)}Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.Dots=void 0;var e=s(un()),n=s(af()),r=Uu();function s(F){return F&&F.__esModule?F:{default:F}}function a(F,U){var x=Object.keys(F);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(F);U&&(A=A.filter(function(T){return Object.getOwnPropertyDescriptor(F,T).enumerable})),x.push.apply(x,A)}return x}function l(F){for(var U=1;U<arguments.length;U++){var x=arguments[U]!=null?arguments[U]:{};U%2?a(Object(x),!0).forEach(function(A){c(F,A,x[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(x)):a(Object(x)).forEach(function(A){Object.defineProperty(F,A,Object.getOwnPropertyDescriptor(x,A))})}return F}function c(F,U,x){return U=y(U),U in F?Object.defineProperty(F,U,{value:x,enumerable:!0,configurable:!0,writable:!0}):F[U]=x,F}function h(F,U){if(!(F instanceof U))throw new TypeError("Cannot call a class as a function")}function p(F,U){for(var x=0;x<U.length;x++){var A=U[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(F,y(A.key),A)}}function m(F,U,x){return U&&p(F.prototype,U),Object.defineProperty(F,"prototype",{writable:!1}),F}function y(F){var U=w(F,"string");return t(U)=="symbol"?U:String(U)}function w(F,U){if(t(F)!="object"||!F)return F;var x=F[Symbol.toPrimitive];if(x!==void 0){var A=x.call(F,U);if(t(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}function I(F,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),U&&R(F,U)}function R(F,U){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,T){return A.__proto__=T,A},R(F,U)}function N(F){var U=z();return function(){var A=H(F),T;if(U){var E=H(this).constructor;T=Reflect.construct(A,arguments,E)}else T=A.apply(this,arguments);return V(this,T)}}function V(F,U){if(U&&(t(U)==="object"||typeof U=="function"))return U;if(U!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(F)}function B(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function z(){try{var F=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z=function(){return!!F})()}function H(F){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},H(F)}var K=function(U){var x;return U.infinite?x=Math.ceil(U.slideCount/U.slidesToScroll):x=Math.ceil((U.slideCount-U.slidesToShow)/U.slidesToScroll)+1,x};return Hl.Dots=function(F){I(x,F);var U=N(x);function x(){return h(this,x),U.apply(this,arguments)}return m(x,[{key:"clickHandler",value:function(T,E){E.preventDefault(),this.props.clickHandler(T)}},{key:"render",value:function(){for(var T=this.props,E=T.onMouseEnter,L=T.onMouseOver,O=T.onMouseLeave,C=T.infinite,G=T.slidesToScroll,ue=T.slidesToShow,se=T.slideCount,P=T.currentSlide,oe=K({slideCount:se,slidesToScroll:G,slidesToShow:ue,infinite:C}),q={onMouseEnter:E,onMouseOver:L,onMouseLeave:O},b=[],k=0;k<oe;k++){var $=(k+1)*G-1,te=C?$:(0,r.clamp)($,0,se-1),re=te-(G-1),le=C?re:(0,r.clamp)(re,0,se-1),ae=(0,n.default)({"slick-active":C?P>=le&&P<=te:P===le}),ce={message:"dots",index:k,slidesToScroll:G,currentSlide:P},ge=this.clickHandler.bind(this,ce);b=b.concat(e.default.createElement("li",{key:k,className:ae},e.default.cloneElement(this.props.customPaging(k),{onClick:ge})))}return e.default.cloneElement(this.props.appendDots(b),l({className:this.props.dotsClass},q))}}]),x}(e.default.PureComponent),Hl}var Xs={},HT;function s6(){if(HT)return Xs;HT=1;function t(F){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},t(F)}Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.PrevArrow=Xs.NextArrow=void 0;var e=s(un()),n=s(af()),r=Uu();function s(F){return F&&F.__esModule?F:{default:F}}function a(){return a=Object.assign?Object.assign.bind():function(F){for(var U=1;U<arguments.length;U++){var x=arguments[U];for(var A in x)Object.prototype.hasOwnProperty.call(x,A)&&(F[A]=x[A])}return F},a.apply(this,arguments)}function l(F,U){var x=Object.keys(F);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(F);U&&(A=A.filter(function(T){return Object.getOwnPropertyDescriptor(F,T).enumerable})),x.push.apply(x,A)}return x}function c(F){for(var U=1;U<arguments.length;U++){var x=arguments[U]!=null?arguments[U]:{};U%2?l(Object(x),!0).forEach(function(A){h(F,A,x[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(x)):l(Object(x)).forEach(function(A){Object.defineProperty(F,A,Object.getOwnPropertyDescriptor(x,A))})}return F}function h(F,U,x){return U=w(U),U in F?Object.defineProperty(F,U,{value:x,enumerable:!0,configurable:!0,writable:!0}):F[U]=x,F}function p(F,U){if(!(F instanceof U))throw new TypeError("Cannot call a class as a function")}function m(F,U){for(var x=0;x<U.length;x++){var A=U[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(F,w(A.key),A)}}function y(F,U,x){return U&&m(F.prototype,U),Object.defineProperty(F,"prototype",{writable:!1}),F}function w(F){var U=I(F,"string");return t(U)=="symbol"?U:String(U)}function I(F,U){if(t(F)!="object"||!F)return F;var x=F[Symbol.toPrimitive];if(x!==void 0){var A=x.call(F,U);if(t(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}function R(F,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),U&&N(F,U)}function N(F,U){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,T){return A.__proto__=T,A},N(F,U)}function V(F){var U=H();return function(){var A=K(F),T;if(U){var E=K(this).constructor;T=Reflect.construct(A,arguments,E)}else T=A.apply(this,arguments);return B(this,T)}}function B(F,U){if(U&&(t(U)==="object"||typeof U=="function"))return U;if(U!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(F)}function z(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function H(){try{var F=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H=function(){return!!F})()}function K(F){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},K(F)}return Xs.PrevArrow=function(F){R(x,F);var U=V(x);function x(){return p(this,x),U.apply(this,arguments)}return y(x,[{key:"clickHandler",value:function(T,E){E&&E.preventDefault(),this.props.clickHandler(T,E)}},{key:"render",value:function(){var T={"slick-arrow":!0,"slick-prev":!0},E=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(T["slick-disabled"]=!0,E=null);var L={key:"0","data-role":"none",className:(0,n.default)(T),style:{display:"block"},onClick:E},O={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},C;return this.props.prevArrow?C=e.default.cloneElement(this.props.prevArrow,c(c({},L),O)):C=e.default.createElement("button",a({key:"0",type:"button"},L)," ","Previous"),C}}]),x}(e.default.PureComponent),Xs.NextArrow=function(F){R(x,F);var U=V(x);function x(){return p(this,x),U.apply(this,arguments)}return y(x,[{key:"clickHandler",value:function(T,E){E&&E.preventDefault(),this.props.clickHandler(T,E)}},{key:"render",value:function(){var T={"slick-arrow":!0,"slick-next":!0},E=this.clickHandler.bind(this,{message:"next"});(0,r.canGoNext)(this.props)||(T["slick-disabled"]=!0,E=null);var L={key:"1","data-role":"none",className:(0,n.default)(T),style:{display:"block"},onClick:E},O={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},C;return this.props.nextArrow?C=e.default.cloneElement(this.props.nextArrow,c(c({},L),O)):C=e.default.createElement("button",a({key:"1",type:"button"},L)," ","Next"),C}}]),x}(e.default.PureComponent),Xs}var Bx=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(s,a){return s[0]===n?(r=a,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),s=this.__entries__[r];return s&&s[1]},e.prototype.set=function(n,r){var s=t(this.__entries__,n);~s?this.__entries__[s][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,s=t(r,n);~s&&r.splice(s,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var s=0,a=this.__entries__;s<a.length;s++){var l=a[s];n.call(r,l[1],l[0])}},e}()}(),vg=typeof window<"u"&&typeof document<"u"&&window.document===document,Eh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),o6=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Eh):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),a6=2;function l6(t,e){var n=!1,r=!1,s=0;function a(){n&&(n=!1,t()),r&&c()}function l(){o6(a)}function c(){var h=Date.now();if(n){if(h-s<a6)return;r=!0}else n=!0,r=!1,setTimeout(l,e);s=h}return c}var u6=20,c6=["top","right","bottom","left","width","height","size","weight"],d6=typeof MutationObserver<"u",h6=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=l6(this.refresh.bind(this),u6)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!vg||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),d6?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!vg||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,s=c6.some(function(a){return!!~r.indexOf(a)});s&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),zx=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var s=r[n];Object.defineProperty(t,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return t},ka=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Eh},Hx=lf(0,0,0,0);function Th(t){return parseFloat(t)||0}function $T(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,s){var a=t["border-"+s+"-width"];return r+Th(a)},0)}function f6(t){for(var e=["top","right","bottom","left"],n={},r=0,s=e;r<s.length;r++){var a=s[r],l=t["padding-"+a];n[a]=Th(l)}return n}function p6(t){var e=t.getBBox();return lf(0,0,e.width,e.height)}function m6(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Hx;var r=ka(t).getComputedStyle(t),s=f6(r),a=s.left+s.right,l=s.top+s.bottom,c=Th(r.width),h=Th(r.height);if(r.boxSizing==="border-box"&&(Math.round(c+a)!==e&&(c-=$T(r,"left","right")+a),Math.round(h+l)!==n&&(h-=$T(r,"top","bottom")+l)),!y6(t)){var p=Math.round(c+a)-e,m=Math.round(h+l)-n;Math.abs(p)!==1&&(c-=p),Math.abs(m)!==1&&(h-=m)}return lf(s.left,s.top,c,h)}var g6=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof ka(t).SVGGraphicsElement}:function(t){return t instanceof ka(t).SVGElement&&typeof t.getBBox=="function"}}();function y6(t){return t===ka(t).document.documentElement}function v6(t){return vg?g6(t)?p6(t):m6(t):Hx}function _6(t){var e=t.x,n=t.y,r=t.width,s=t.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(a.prototype);return zx(l,{x:e,y:n,width:r,height:s,top:n,right:e+r,bottom:s+n,left:e}),l}function lf(t,e,n,r){return{x:t,y:e,width:n,height:r}}var w6=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=lf(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=v6(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),E6=function(){function t(e,n){var r=_6(n);zx(this,{target:e,contentRect:r})}return t}(),T6=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new Bx,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ka(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new w6(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ka(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new E6(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),$x=typeof WeakMap<"u"?new WeakMap:new Bx,Wx=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=h6.getInstance(),r=new T6(e,n,this);$x.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Wx.prototype[t]=function(){var e;return(e=$x.get(this))[t].apply(e,arguments)}});var S6=function(){return typeof Eh.ResizeObserver<"u"?Eh.ResizeObserver:Wx}();const b6=Object.freeze(Object.defineProperty({__proto__:null,default:S6},Symbol.toStringTag,{value:"Module"})),I6=YP(b6);var WT;function x6(){if(WT)return Bl;WT=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.InnerSlider=void 0;var t=p(un()),e=p(t6()),n=p(n6()),r=p(af()),s=Uu(),a=r6(),l=i6(),c=s6(),h=p(I6);function p(C){return C&&C.__esModule?C:{default:C}}function m(C){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},m(C)}function y(){return y=Object.assign?Object.assign.bind():function(C){for(var G=1;G<arguments.length;G++){var ue=arguments[G];for(var se in ue)Object.prototype.hasOwnProperty.call(ue,se)&&(C[se]=ue[se])}return C},y.apply(this,arguments)}function w(C,G){if(C==null)return{};var ue=I(C,G),se,P;if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(C);for(P=0;P<oe.length;P++)se=oe[P],!(G.indexOf(se)>=0)&&Object.prototype.propertyIsEnumerable.call(C,se)&&(ue[se]=C[se])}return ue}function I(C,G){if(C==null)return{};var ue={},se=Object.keys(C),P,oe;for(oe=0;oe<se.length;oe++)P=se[oe],!(G.indexOf(P)>=0)&&(ue[P]=C[P]);return ue}function R(C,G){var ue=Object.keys(C);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(C);G&&(se=se.filter(function(P){return Object.getOwnPropertyDescriptor(C,P).enumerable})),ue.push.apply(ue,se)}return ue}function N(C){for(var G=1;G<arguments.length;G++){var ue=arguments[G]!=null?arguments[G]:{};G%2?R(Object(ue),!0).forEach(function(se){E(C,se,ue[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(ue)):R(Object(ue)).forEach(function(se){Object.defineProperty(C,se,Object.getOwnPropertyDescriptor(ue,se))})}return C}function V(C,G){if(!(C instanceof G))throw new TypeError("Cannot call a class as a function")}function B(C,G){for(var ue=0;ue<G.length;ue++){var se=G[ue];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(C,L(se.key),se)}}function z(C,G,ue){return G&&B(C.prototype,G),Object.defineProperty(C,"prototype",{writable:!1}),C}function H(C,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(G&&G.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),G&&K(C,G)}function K(C,G){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,P){return se.__proto__=P,se},K(C,G)}function F(C){var G=A();return function(){var se=T(C),P;if(G){var oe=T(this).constructor;P=Reflect.construct(se,arguments,oe)}else P=se.apply(this,arguments);return U(this,P)}}function U(C,G){if(G&&(m(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(C)}function x(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function A(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A=function(){return!!C})()}function T(C){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ue){return ue.__proto__||Object.getPrototypeOf(ue)},T(C)}function E(C,G,ue){return G=L(G),G in C?Object.defineProperty(C,G,{value:ue,enumerable:!0,configurable:!0,writable:!0}):C[G]=ue,C}function L(C){var G=O(C,"string");return m(G)=="symbol"?G:String(G)}function O(C,G){if(m(C)!="object"||!C)return C;var ue=C[Symbol.toPrimitive];if(ue!==void 0){var se=ue.call(C,G);if(m(se)!="object")return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(C)}return Bl.InnerSlider=function(C){H(ue,C);var G=F(ue);function ue(se){var P;V(this,ue),P=G.call(this,se),E(x(P),"listRefHandler",function(q){return P.list=q}),E(x(P),"trackRefHandler",function(q){return P.track=q}),E(x(P),"adaptHeight",function(){if(P.props.adaptiveHeight&&P.list){var q=P.list.querySelector('[data-index="'.concat(P.state.currentSlide,'"]'));P.list.style.height=(0,s.getHeight)(q)+"px"}}),E(x(P),"componentDidMount",function(){if(P.props.onInit&&P.props.onInit(),P.props.lazyLoad){var q=(0,s.getOnDemandLazySlides)(N(N({},P.props),P.state));q.length>0&&(P.setState(function(k){return{lazyLoadedList:k.lazyLoadedList.concat(q)}}),P.props.onLazyLoad&&P.props.onLazyLoad(q))}var b=N({listRef:P.list,trackRef:P.track},P.props);P.updateState(b,!0,function(){P.adaptHeight(),P.props.autoplay&&P.autoPlay("update")}),P.props.lazyLoad==="progressive"&&(P.lazyLoadTimer=setInterval(P.progressiveLazyLoad,1e3)),P.ro=new h.default(function(){P.state.animating?(P.onWindowResized(!1),P.callbackTimers.push(setTimeout(function(){return P.onWindowResized()},P.props.speed))):P.onWindowResized()}),P.ro.observe(P.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(k){k.onfocus=P.props.pauseOnFocus?P.onSlideFocus:null,k.onblur=P.props.pauseOnFocus?P.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",P.onWindowResized):window.attachEvent("onresize",P.onWindowResized)}),E(x(P),"componentWillUnmount",function(){P.animationEndCallback&&clearTimeout(P.animationEndCallback),P.lazyLoadTimer&&clearInterval(P.lazyLoadTimer),P.callbackTimers.length&&(P.callbackTimers.forEach(function(q){return clearTimeout(q)}),P.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",P.onWindowResized):window.detachEvent("onresize",P.onWindowResized),P.autoplayTimer&&clearInterval(P.autoplayTimer),P.ro.disconnect()}),E(x(P),"componentDidUpdate",function(q){if(P.checkImagesLoad(),P.props.onReInit&&P.props.onReInit(),P.props.lazyLoad){var b=(0,s.getOnDemandLazySlides)(N(N({},P.props),P.state));b.length>0&&(P.setState(function(te){return{lazyLoadedList:te.lazyLoadedList.concat(b)}}),P.props.onLazyLoad&&P.props.onLazyLoad(b))}P.adaptHeight();var k=N(N({listRef:P.list,trackRef:P.track},P.props),P.state),$=P.didPropsChange(q);$&&P.updateState(k,$,function(){P.state.currentSlide>=t.default.Children.count(P.props.children)&&P.changeSlide({message:"index",index:t.default.Children.count(P.props.children)-P.props.slidesToShow,currentSlide:P.state.currentSlide}),P.props.autoplay?P.autoPlay("update"):P.pause("paused")})}),E(x(P),"onWindowResized",function(q){P.debouncedResize&&P.debouncedResize.cancel(),P.debouncedResize=(0,n.default)(function(){return P.resizeWindow(q)},50),P.debouncedResize()}),E(x(P),"resizeWindow",function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,b=!!(P.track&&P.track.node);if(b){var k=N(N({listRef:P.list,trackRef:P.track},P.props),P.state);P.updateState(k,q,function(){P.props.autoplay?P.autoPlay("update"):P.pause("paused")}),P.setState({animating:!1}),clearTimeout(P.animationEndCallback),delete P.animationEndCallback}}),E(x(P),"updateState",function(q,b,k){var $=(0,s.initializedState)(q);q=N(N(N({},q),$),{},{slideIndex:$.currentSlide});var te=(0,s.getTrackLeft)(q);q=N(N({},q),{},{left:te});var re=(0,s.getTrackCSS)(q);(b||t.default.Children.count(P.props.children)!==t.default.Children.count(q.children))&&($.trackStyle=re),P.setState($,k)}),E(x(P),"ssrInit",function(){if(P.props.variableWidth){var q=0,b=0,k=[],$=(0,s.getPreClones)(N(N(N({},P.props),P.state),{},{slideCount:P.props.children.length})),te=(0,s.getPostClones)(N(N(N({},P.props),P.state),{},{slideCount:P.props.children.length}));P.props.children.forEach(function(ot){k.push(ot.props.style.width),q+=ot.props.style.width});for(var re=0;re<$;re++)b+=k[k.length-1-re],q+=k[k.length-1-re];for(var le=0;le<te;le++)q+=k[le];for(var ae=0;ae<P.state.currentSlide;ae++)b+=k[ae];var ce={width:q+"px",left:-b+"px"};if(P.props.centerMode){var ge="".concat(k[P.state.currentSlide],"px");ce.left="calc(".concat(ce.left," + (100% - ").concat(ge,") / 2 ) ")}return{trackStyle:ce}}var _e=t.default.Children.count(P.props.children),Se=N(N(N({},P.props),P.state),{},{slideCount:_e}),Ae=(0,s.getPreClones)(Se)+(0,s.getPostClones)(Se)+_e,ze=100/P.props.slidesToShow*Ae,Be=100/Ae,je=-Be*((0,s.getPreClones)(Se)+P.state.currentSlide)*ze/100;P.props.centerMode&&(je+=(100-Be*ze/100)/2);var We={width:ze+"%",left:je+"%"};return{slideWidth:Be+"%",trackStyle:We}}),E(x(P),"checkImagesLoad",function(){var q=P.list&&P.list.querySelectorAll&&P.list.querySelectorAll(".slick-slide img")||[],b=q.length,k=0;Array.prototype.forEach.call(q,function($){var te=function(){return++k&&k>=b&&P.onWindowResized()};if(!$.onclick)$.onclick=function(){return $.parentNode.focus()};else{var re=$.onclick;$.onclick=function(le){re(le),$.parentNode.focus()}}$.onload||(P.props.lazyLoad?$.onload=function(){P.adaptHeight(),P.callbackTimers.push(setTimeout(P.onWindowResized,P.props.speed))}:($.onload=te,$.onerror=function(){te(),P.props.onLazyLoadError&&P.props.onLazyLoadError()}))})}),E(x(P),"progressiveLazyLoad",function(){for(var q=[],b=N(N({},P.props),P.state),k=P.state.currentSlide;k<P.state.slideCount+(0,s.getPostClones)(b);k++)if(P.state.lazyLoadedList.indexOf(k)<0){q.push(k);break}for(var $=P.state.currentSlide-1;$>=-(0,s.getPreClones)(b);$--)if(P.state.lazyLoadedList.indexOf($)<0){q.push($);break}q.length>0?(P.setState(function(te){return{lazyLoadedList:te.lazyLoadedList.concat(q)}}),P.props.onLazyLoad&&P.props.onLazyLoad(q)):P.lazyLoadTimer&&(clearInterval(P.lazyLoadTimer),delete P.lazyLoadTimer)}),E(x(P),"slideHandler",function(q){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=P.props,$=k.asNavFor,te=k.beforeChange,re=k.onLazyLoad,le=k.speed,ae=k.afterChange,ce=P.state.currentSlide,ge=(0,s.slideHandler)(N(N(N({index:q},P.props),P.state),{},{trackRef:P.track,useCSS:P.props.useCSS&&!b})),_e=ge.state,Se=ge.nextState;if(_e){te&&te(ce,_e.currentSlide);var Ae=_e.lazyLoadedList.filter(function(ze){return P.state.lazyLoadedList.indexOf(ze)<0});re&&Ae.length>0&&re(Ae),!P.props.waitForAnimate&&P.animationEndCallback&&(clearTimeout(P.animationEndCallback),ae&&ae(ce),delete P.animationEndCallback),P.setState(_e,function(){$&&P.asNavForIndex!==q&&(P.asNavForIndex=q,$.innerSlider.slideHandler(q)),Se&&(P.animationEndCallback=setTimeout(function(){var ze=Se.animating,Be=w(Se,["animating"]);P.setState(Be,function(){P.callbackTimers.push(setTimeout(function(){return P.setState({animating:ze})},10)),ae&&ae(_e.currentSlide),delete P.animationEndCallback})},le))})}}),E(x(P),"changeSlide",function(q){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=N(N({},P.props),P.state),$=(0,s.changeSlide)(k,q);if(!($!==0&&!$)&&(b===!0?P.slideHandler($,b):P.slideHandler($),P.props.autoplay&&P.autoPlay("update"),P.props.focusOnSelect)){var te=P.list.querySelectorAll(".slick-current");te[0]&&te[0].focus()}}),E(x(P),"clickHandler",function(q){P.clickable===!1&&(q.stopPropagation(),q.preventDefault()),P.clickable=!0}),E(x(P),"keyHandler",function(q){var b=(0,s.keyHandler)(q,P.props.accessibility,P.props.rtl);b!==""&&P.changeSlide({message:b})}),E(x(P),"selectHandler",function(q){P.changeSlide(q)}),E(x(P),"disableBodyScroll",function(){var q=function(k){k=k||window.event,k.preventDefault&&k.preventDefault(),k.returnValue=!1};window.ontouchmove=q}),E(x(P),"enableBodyScroll",function(){window.ontouchmove=null}),E(x(P),"swipeStart",function(q){P.props.verticalSwiping&&P.disableBodyScroll();var b=(0,s.swipeStart)(q,P.props.swipe,P.props.draggable);b!==""&&P.setState(b)}),E(x(P),"swipeMove",function(q){var b=(0,s.swipeMove)(q,N(N(N({},P.props),P.state),{},{trackRef:P.track,listRef:P.list,slideIndex:P.state.currentSlide}));b&&(b.swiping&&(P.clickable=!1),P.setState(b))}),E(x(P),"swipeEnd",function(q){var b=(0,s.swipeEnd)(q,N(N(N({},P.props),P.state),{},{trackRef:P.track,listRef:P.list,slideIndex:P.state.currentSlide}));if(b){var k=b.triggerSlideHandler;delete b.triggerSlideHandler,P.setState(b),k!==void 0&&(P.slideHandler(k),P.props.verticalSwiping&&P.enableBodyScroll())}}),E(x(P),"touchEnd",function(q){P.swipeEnd(q),P.clickable=!0}),E(x(P),"slickPrev",function(){P.callbackTimers.push(setTimeout(function(){return P.changeSlide({message:"previous"})},0))}),E(x(P),"slickNext",function(){P.callbackTimers.push(setTimeout(function(){return P.changeSlide({message:"next"})},0))}),E(x(P),"slickGoTo",function(q){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(q=Number(q),isNaN(q))return"";P.callbackTimers.push(setTimeout(function(){return P.changeSlide({message:"index",index:q,currentSlide:P.state.currentSlide},b)},0))}),E(x(P),"play",function(){var q;if(P.props.rtl)q=P.state.currentSlide-P.props.slidesToScroll;else if((0,s.canGoNext)(N(N({},P.props),P.state)))q=P.state.currentSlide+P.props.slidesToScroll;else return!1;P.slideHandler(q)}),E(x(P),"autoPlay",function(q){P.autoplayTimer&&clearInterval(P.autoplayTimer);var b=P.state.autoplaying;if(q==="update"){if(b==="hovered"||b==="focused"||b==="paused")return}else if(q==="leave"){if(b==="paused"||b==="focused")return}else if(q==="blur"&&(b==="paused"||b==="hovered"))return;P.autoplayTimer=setInterval(P.play,P.props.autoplaySpeed+50),P.setState({autoplaying:"playing"})}),E(x(P),"pause",function(q){P.autoplayTimer&&(clearInterval(P.autoplayTimer),P.autoplayTimer=null);var b=P.state.autoplaying;q==="paused"?P.setState({autoplaying:"paused"}):q==="focused"?(b==="hovered"||b==="playing")&&P.setState({autoplaying:"focused"}):b==="playing"&&P.setState({autoplaying:"hovered"})}),E(x(P),"onDotsOver",function(){return P.props.autoplay&&P.pause("hovered")}),E(x(P),"onDotsLeave",function(){return P.props.autoplay&&P.state.autoplaying==="hovered"&&P.autoPlay("leave")}),E(x(P),"onTrackOver",function(){return P.props.autoplay&&P.pause("hovered")}),E(x(P),"onTrackLeave",function(){return P.props.autoplay&&P.state.autoplaying==="hovered"&&P.autoPlay("leave")}),E(x(P),"onSlideFocus",function(){return P.props.autoplay&&P.pause("focused")}),E(x(P),"onSlideBlur",function(){return P.props.autoplay&&P.state.autoplaying==="focused"&&P.autoPlay("blur")}),E(x(P),"render",function(){var q=(0,r.default)("slick-slider",P.props.className,{"slick-vertical":P.props.vertical,"slick-initialized":!0}),b=N(N({},P.props),P.state),k=(0,s.extractObject)(b,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),$=P.props.pauseOnHover;k=N(N({},k),{},{onMouseEnter:$?P.onTrackOver:null,onMouseLeave:$?P.onTrackLeave:null,onMouseOver:$?P.onTrackOver:null,focusOnSelect:P.props.focusOnSelect&&P.clickable?P.selectHandler:null});var te;if(P.props.dots===!0&&P.state.slideCount>=P.props.slidesToShow){var re=(0,s.extractObject)(b,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),le=P.props.pauseOnDotsHover;re=N(N({},re),{},{clickHandler:P.changeSlide,onMouseEnter:le?P.onDotsLeave:null,onMouseOver:le?P.onDotsOver:null,onMouseLeave:le?P.onDotsLeave:null}),te=t.default.createElement(l.Dots,re)}var ae,ce,ge=(0,s.extractObject)(b,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);ge.clickHandler=P.changeSlide,P.props.arrows&&(ae=t.default.createElement(c.PrevArrow,ge),ce=t.default.createElement(c.NextArrow,ge));var _e=null;P.props.vertical&&(_e={height:P.state.listHeight});var Se=null;P.props.vertical===!1?P.props.centerMode===!0&&(Se={padding:"0px "+P.props.centerPadding}):P.props.centerMode===!0&&(Se={padding:P.props.centerPadding+" 0px"});var Ae=N(N({},_e),Se),ze=P.props.touchMove,Be={className:"slick-list",style:Ae,onClick:P.clickHandler,onMouseDown:ze?P.swipeStart:null,onMouseMove:P.state.dragging&&ze?P.swipeMove:null,onMouseUp:ze?P.swipeEnd:null,onMouseLeave:P.state.dragging&&ze?P.swipeEnd:null,onTouchStart:ze?P.swipeStart:null,onTouchMove:P.state.dragging&&ze?P.swipeMove:null,onTouchEnd:ze?P.touchEnd:null,onTouchCancel:P.state.dragging&&ze?P.swipeEnd:null,onKeyDown:P.props.accessibility?P.keyHandler:null},je={className:q,dir:"ltr",style:P.props.style};return P.props.unslick&&(Be={className:"slick-list"},je={className:q}),t.default.createElement("div",je,P.props.unslick?"":ae,t.default.createElement("div",y({ref:P.listRefHandler},Be),t.default.createElement(a.Track,y({ref:P.trackRefHandler},k),P.props.children)),P.props.unslick?"":ce,P.props.unslick?"":te)}),P.list=null,P.track=null,P.state=N(N({},e.default),{},{currentSlide:P.props.initialSlide,targetSlide:P.props.initialSlide?P.props.initialSlide:0,slideCount:t.default.Children.count(P.props.children)}),P.callbackTimers=[],P.clickable=!0,P.debouncedResize=null;var oe=P.ssrInit();return P.state=N(N({},P.state),oe),P}return z(ue,[{key:"didPropsChange",value:function(P){for(var oe=!1,q=0,b=Object.keys(this.props);q<b.length;q++){var k=b[q];if(!P.hasOwnProperty(k)){oe=!0;break}if(!(m(P[k])==="object"||typeof P[k]=="function"||isNaN(P[k]))&&P[k]!==this.props[k]){oe=!0;break}}return oe||t.default.Children.count(this.props.children)!==t.default.Children.count(P.children)}}]),ue}(t.default.Component),Bl}var bm,qT;function P6(){if(qT)return bm;qT=1;var t=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return bm=t,bm}var Im,KT;function C6(){if(KT)return Im;KT=1;var t=P6(),e=function(s){var a=/[height|width]$/;return a.test(s)},n=function(s){var a="",l=Object.keys(s);return l.forEach(function(c,h){var p=s[c];c=t(c),e(c)&&typeof p=="number"&&(p=p+"px"),p===!0?a+=c:p===!1?a+="not "+c:a+="("+c+": "+p+")",h<l.length-1&&(a+=" and ")}),a},r=function(s){var a="";return typeof s=="string"?s:s instanceof Array?(s.forEach(function(l,c){a+=n(l),c<s.length-1&&(a+=", ")}),a):n(s)};return Im=r,Im}var xm,GT;function R6(){if(GT)return xm;GT=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},xm=t,xm}var Pm,QT;function qx(){if(QT)return Pm;QT=1;function t(r,s){var a=0,l=r.length,c;for(a;a<l&&(c=s(r[a],a),c!==!1);a++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return Pm={isFunction:n,isArray:e,each:t},Pm}var Cm,YT;function A6(){if(YT)return Cm;YT=1;var t=R6(),e=qx().each;function n(r,s){this.query=r,this.isUnconditional=s,this.handlers=[],this.mql=window.matchMedia(r);var a=this;this.listener=function(l){a.mql=l.currentTarget||l,a.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var s=new t(r);this.handlers.push(s),this.matches()&&s.on()},removeHandler:function(r){var s=this.handlers;e(s,function(a,l){if(a.equals(r))return a.destroy(),!s.splice(l,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(s){s[r]()})}},Cm=n,Cm}var Rm,XT;function k6(){if(XT)return Rm;XT=1;var t=A6(),e=qx(),n=e.each,r=e.isFunction,s=e.isArray;function a(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return a.prototype={constructor:a,register:function(l,c,h){var p=this.queries,m=h&&this.browserIsIncapable;return p[l]||(p[l]=new t(l,m)),r(c)&&(c={match:c}),s(c)||(c=[c]),n(c,function(y){r(y)&&(y={match:y}),p[l].addHandler(y)}),this},unregister:function(l,c){var h=this.queries[l];return h&&(c?h.removeHandler(c):(h.clear(),delete this.queries[l])),this}},Rm=a,Rm}var Am,JT;function O6(){if(JT)return Am;JT=1;var t=k6();return Am=new t,Am}var ZT;function N6(){return ZT||(ZT=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=l(un()),n=x6(),r=l(C6()),s=l(Ux()),a=Uu();function l(T){return T&&T.__esModule?T:{default:T}}function c(T){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},c(T)}function h(){return h=Object.assign?Object.assign.bind():function(T){for(var E=1;E<arguments.length;E++){var L=arguments[E];for(var O in L)Object.prototype.hasOwnProperty.call(L,O)&&(T[O]=L[O])}return T},h.apply(this,arguments)}function p(T,E){var L=Object.keys(T);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(T);E&&(O=O.filter(function(C){return Object.getOwnPropertyDescriptor(T,C).enumerable})),L.push.apply(L,O)}return L}function m(T){for(var E=1;E<arguments.length;E++){var L=arguments[E]!=null?arguments[E]:{};E%2?p(Object(L),!0).forEach(function(O){F(T,O,L[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(L)):p(Object(L)).forEach(function(O){Object.defineProperty(T,O,Object.getOwnPropertyDescriptor(L,O))})}return T}function y(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function w(T,E){for(var L=0;L<E.length;L++){var O=E[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(T,U(O.key),O)}}function I(T,E,L){return E&&w(T.prototype,E),Object.defineProperty(T,"prototype",{writable:!1}),T}function R(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),E&&N(T,E)}function N(T,E){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,C){return O.__proto__=C,O},N(T,E)}function V(T){var E=H();return function(){var O=K(T),C;if(E){var G=K(this).constructor;C=Reflect.construct(O,arguments,G)}else C=O.apply(this,arguments);return B(this,C)}}function B(T,E){if(E&&(c(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(T)}function z(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function H(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H=function(){return!!T})()}function K(T){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},K(T)}function F(T,E,L){return E=U(E),E in T?Object.defineProperty(T,E,{value:L,enumerable:!0,configurable:!0,writable:!0}):T[E]=L,T}function U(T){var E=x(T,"string");return c(E)=="symbol"?E:String(E)}function x(T,E){if(c(T)!="object"||!T)return T;var L=T[Symbol.toPrimitive];if(L!==void 0){var O=L.call(T,E);if(c(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(T)}var A=(0,a.canUseDOM)()&&O6();t.default=function(T){R(L,T);var E=V(L);function L(O){var C;return y(this,L),C=E.call(this,O),F(z(C),"innerSliderRefHandler",function(G){return C.innerSlider=G}),F(z(C),"slickPrev",function(){return C.innerSlider.slickPrev()}),F(z(C),"slickNext",function(){return C.innerSlider.slickNext()}),F(z(C),"slickGoTo",function(G){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return C.innerSlider.slickGoTo(G,ue)}),F(z(C),"slickPause",function(){return C.innerSlider.pause("paused")}),F(z(C),"slickPlay",function(){return C.innerSlider.autoPlay("play")}),C.state={breakpoint:null},C._responsiveMediaHandlers=[],C}return I(L,[{key:"media",value:function(C,G){A.register(C,G),this._responsiveMediaHandlers.push({query:C,handler:G})}},{key:"componentDidMount",value:function(){var C=this;if(this.props.responsive){var G=this.props.responsive.map(function(se){return se.breakpoint});G.sort(function(se,P){return se-P}),G.forEach(function(se,P){var oe;P===0?oe=(0,r.default)({minWidth:0,maxWidth:se}):oe=(0,r.default)({minWidth:G[P-1]+1,maxWidth:se}),(0,a.canUseDOM)()&&C.media(oe,function(){C.setState({breakpoint:se})})});var ue=(0,r.default)({minWidth:G.slice(-1)[0]});(0,a.canUseDOM)()&&this.media(ue,function(){C.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(C){A.unregister(C.query,C.handler)})}},{key:"render",value:function(){var C=this,G,ue;this.state.breakpoint?(ue=this.props.responsive.filter(function(le){return le.breakpoint===C.state.breakpoint}),G=ue[0].settings==="unslick"?"unslick":m(m(m({},s.default),this.props),ue[0].settings)):G=m(m({},s.default),this.props),G.centerMode&&(G.slidesToScroll>1,G.slidesToScroll=1),G.fade&&(G.slidesToShow>1,G.slidesToScroll>1,G.slidesToShow=1,G.slidesToScroll=1);var se=e.default.Children.toArray(this.props.children);se=se.filter(function(le){return typeof le=="string"?!!le.trim():!!le}),G.variableWidth&&(G.rows>1||G.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),G.variableWidth=!1);for(var P=[],oe=null,q=0;q<se.length;q+=G.rows*G.slidesPerRow){for(var b=[],k=q;k<q+G.rows*G.slidesPerRow;k+=G.slidesPerRow){for(var $=[],te=k;te<k+G.slidesPerRow&&(G.variableWidth&&se[te].props.style&&(oe=se[te].props.style.width),!(te>=se.length));te+=1)$.push(e.default.cloneElement(se[te],{key:100*q+10*k+te,tabIndex:-1,style:{width:"".concat(100/G.slidesPerRow,"%"),display:"inline-block"}}));b.push(e.default.createElement("div",{key:10*q+k},$))}G.variableWidth?P.push(e.default.createElement("div",{key:q,style:{width:oe}},b)):P.push(e.default.createElement("div",{key:q},b))}if(G==="unslick"){var re="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:re},se)}else P.length<=G.slidesToShow&&!G.infinite&&(G.unslick=!0);return e.default.createElement(n.InnerSlider,h({style:this.props.style,ref:this.innerSliderRefHandler},(0,a.filterSettings)(G)),P)}}]),L}(e.default.Component)}(_m)),_m}var eS;function D6(){return eS||(eS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(N6());function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default}(vm)),vm}var L6=D6();const M6=_g(L6);function V6(t){return ho({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(t)}function j6(t){return ho({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}const F6="/assets/Pic2-nQ2_BtIA.JPG",U6="/assets/Pic3-CuwZeuVv.JPG",B6="/assets/pic1-D7Vdz94T.JPG",z6="/assets/Pic4-B8Jxyhbi.JPG",H6="/assets/Pic5-C689OrAK.JPG",$6="/assets/Pic6-DVPVSws9.JPG";function W6(t){const{onClick:e}=t;return M.jsx("div",{className:"w-14 h-12 bg-[#0c1821] hover:bg-black duration-300 rounded-md text-2xl text-gray-400 flex justify-center items-center absolute top-0 right-0 shadow-shadowOne cursor-pointer z-10",onClick:e,children:M.jsx(j6,{})})}function q6(t){const{onClick:e}=t;return M.jsx("div",{className:"w-14 h-12 bg-[#0c1821] hover:bg-black duration-300 rounded-md text-2xl text-gray-400 flex justify-center items-center absolute top-0 right-20 shadow-shadowOne cursor-pointer z-10",onClick:e,children:M.jsx(V6,{})})}const K6=()=>{const[t,e]=X.useState(0),n={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,nextArrow:M.jsx(W6,{}),prevArrow:M.jsx(q6,{}),beforeChange:r=>{e(r)},appendDots:r=>M.jsx("div",{style:{borderRadius:"10px",padding:"10px"},children:M.jsxs("ul",{style:{display:"flex",gap:"15px",justifyContent:"center",marginTop:"20px"},children:[" ",r," "]})}),customPaging:r=>M.jsx("div",{style:r===t?{width:"12px",height:"12px",color:"blue",background:"#ff014f",borderRadius:"50%",cursor:"pointer"}:{width:"12px",height:"12px",color:"blue",background:"gray",borderRadius:"50%",cursor:"pointer"}})};return M.jsx("section",{id:"testimonial",className:"w-full py-20 border-b-[1px] border-b-gray-700",children:M.jsxs(ls,{children:[M.jsx("div",{className:"flex justify-center items-center text-center",children:M.jsx(du,{title:"Our impact",des:"Photo Gallery"})}),M.jsx("div",{className:"max-w-6xl mx-auto",children:M.jsxs(M6,{...n,children:[M.jsx("div",{className:"w-full",children:M.jsx("div",{children:M.jsx("img",{src:F6,alt:"Client Testimonial",onError:r=>{r.currentTarget.src="https://drive.google.com/drive/u/4/folders/1ZBu_o2OsLBGAf_7P5HtiPZUMy32-gjJE",r.currentTarget.alt="Fallback Image"}})})}),M.jsx("div",{className:"w-full",children:M.jsx("div",{children:M.jsx("img",{src:U6,alt:"Client Testimonial",onError:r=>{r.currentTarget.src="https://www.google.com/imgres?q=leslie%20kuek&imgurl=https%3A%2F%2Fwww.farrerpark.com%2Fdam%2Fjcr%3A5f16b4d2-012c-4bf3-9062-974f94ac7b5e%2FLeslieKuek.jpg&imgrefurl=https%3A%2F%2Fwww.farrerpark.com%2Fpatients-and-visitors%2Fdoctor%2Fdetail.html%3Fid%3D257&docid=J2LqkHkJwl93pM&tbnid=DMD93QCv4I8QPM&vet=12ahUKEwjF2vH6xImKAxWZ7zgGHba3LSEQM3oECBgQAA..i&w=518&h=518&hcb=2&ved=2ahUKEwjF2vH6xImKAxWZ7zgGHba3LSEQM3oECBgQAA",r.currentTarget.alt="Fallback Image"}})})}),M.jsx("div",{className:"w-full",children:M.jsx("div",{children:M.jsx("img",{src:B6,alt:"Client Testimonial",onError:r=>{r.currentTarget.src="https://www.google.com/imgres?q=leslie%20kuek&imgurl=https%3A%2F%2Fwww.farrerpark.com%2Fdam%2Fjcr%3A5f16b4d2-012c-4bf3-9062-974f94ac7b5e%2FLeslieKuek.jpg&imgrefurl=https%3A%2F%2Fwww.farrerpark.com%2Fpatients-and-visitors%2Fdoctor%2Fdetail.html%3Fid%3D257&docid=J2LqkHkJwl93pM&tbnid=DMD93QCv4I8QPM&vet=12ahUKEwjF2vH6xImKAxWZ7zgGHba3LSEQM3oECBgQAA..i&w=518&h=518&hcb=2&ved=2ahUKEwjF2vH6xImKAxWZ7zgGHba3LSEQM3oECBgQAA",r.currentTarget.alt="Fallback Image"}})})}),M.jsx("div",{className:"w-full",children:M.jsx("div",{children:M.jsx("img",{src:z6,alt:"Client Testimonial",onError:r=>{r.currentTarget.src="https://www.google.com/imgres?q=leslie%20kuek&imgurl=https%3A%2F%2Fwww.farrerpark.com%2Fdam%2Fjcr%3A5f16b4d2-012c-4bf3-9062-974f94ac7b5e%2FLeslieKuek.jpg&imgrefurl=https%3A%2F%2Fwww.farrerpark.com%2Fpatients-and-visitors%2Fdoctor%2Fdetail.html%3Fid%3D257&docid=J2LqkHkJwl93pM&tbnid=DMD93QCv4I8QPM&vet=12ahUKEwjF2vH6xImKAxWZ7zgGHba3LSEQM3oECBgQAA..i&w=518&h=518&hcb=2&ved=2ahUKEwjF2vH6xImKAxWZ7zgGHba3LSEQM3oECBgQAA",r.currentTarget.alt="Fallback Image"}})})}),M.jsx("div",{className:"w-full",children:M.jsx("div",{children:M.jsx("img",{src:H6,alt:"Client Testimonial",onError:r=>{r.currentTarget.src="https://www.google.com/imgres?q=leslie%20kuek&imgurl=https%3A%2F%2Fwww.farrerpark.com%2Fdam%2Fjcr%3A5f16b4d2-012c-4bf3-9062-974f94ac7b5e%2FLeslieKuek.jpg&imgrefurl=https%3A%2F%2Fwww.farrerpark.com%2Fpatients-and-visitors%2Fdoctor%2Fdetail.html%3Fid%3D257&docid=J2LqkHkJwl93pM&tbnid=DMD93QCv4I8QPM&vet=12ahUKEwjF2vH6xImKAxWZ7zgGHba3LSEQM3oECBgQAA..i&w=518&h=518&hcb=2&ved=2ahUKEwjF2vH6xImKAxWZ7zgGHba3LSEQM3oECBgQAA",r.currentTarget.alt="Fallback Image"}})})}),M.jsx("div",{className:"w-full",children:M.jsx("div",{children:M.jsx("img",{src:$6,alt:"Client Testimonial",onError:r=>{r.currentTarget.src="https://www.google.com/imgres?q=leslie%20kuek&imgurl=https%3A%2F%2Fwww.farrerpark.com%2Fdam%2Fjcr%3A5f16b4d2-012c-4bf3-9062-974f94ac7b5e%2FLeslieKuek.jpg&imgrefurl=https%3A%2F%2Fwww.farrerpark.com%2Fpatients-and-visitors%2Fdoctor%2Fdetail.html%3Fid%3D257&docid=J2LqkHkJwl93pM&tbnid=DMD93QCv4I8QPM&vet=12ahUKEwjF2vH6xImKAxWZ7zgGHba3LSEQM3oECBgQAA..i&w=518&h=518&hcb=2&ved=2ahUKEwjF2vH6xImKAxWZ7zgGHba3LSEQM3oECBgQAA",r.currentTarget.alt="Fallback Image"}})})})]})})]})})},G6=async(t,e)=>{try{return{success:!0,user:(await Z4(ju,t,e)).user}}catch(n){return{success:!1,error:n.message}}},Q6=async()=>{try{return await nj(ju),{success:!0}}catch(t){return{success:!1,error:t.message}}},tS=()=>{const[t,e]=X.useState(""),[n,r]=X.useState(""),[s,a]=X.useState(!1),[l,c]=X.useState(""),h=bh(),p=async m=>{m.preventDefault(),a(!0),c("");const y=await G6(t,n);y.success?h("/admin/console"):c(y.error||"Failed to sign in"),a(!1)};return M.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"max-w-md w-full space-y-8",children:[M.jsxs("div",{children:[M.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"🔐 Admin Sign In"}),M.jsx("p",{className:"mt-2 text-center text-sm text-gray-300",children:"Access the admin console"}),M.jsx("p",{className:"mt-2 text-center text-xs text-red-400",children:"DEBUG: This is the AdminSignIn component!"})]}),M.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[M.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),M.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-700 placeholder-gray-400 text-white bg-gray-800 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:t,onChange:m=>e(m.target.value)})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),M.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-700 placeholder-gray-400 text-white bg-gray-800 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:m=>r(m.target.value)})]})]}),l&&M.jsx("div",{className:"rounded-md bg-red-900 bg-opacity-50 p-4",children:M.jsx("div",{className:"text-sm text-red-200",children:l})}),M.jsx("div",{children:M.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign in"})})]})]})})},Y6=()=>{const[t,e]=X.useState([]),[n,r]=X.useState(!0),[s,a]=X.useState(null),[l,c]=X.useState(null),[h,p]=X.useState(null);X.useEffect(()=>{m()},[]);const m=async()=>{try{r(!0);const R=await Lx();e(R)}catch(R){c("Failed to load statistics: "+R.message)}finally{r(!1)}},y=async R=>{a(R.id),c(null),p(null);const N=await k3(R);N.success?(p(`Updated ${R.label} successfully!`),await m(),setTimeout(()=>p(null),3e3)):c(`Failed to update ${R.label}: ${N.error}`),a(null)},w=(R,N,V)=>{e(B=>B.map(z=>z.id===R?{...z,[N]:N==="value"||N==="order"?Number(V):V}:z))},I=async()=>{a("initializing"),c(null),p(null);const R=await O3();R.success?(p("Default statistics initialized successfully!"),await m(),setTimeout(()=>p(null),3e3)):c(`Failed to initialize defaults: ${R.error}`),a(null)};return n?M.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[M.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Statistics Editor"}),M.jsx("div",{className:"text-center py-8",children:M.jsx("div",{className:"text-gray-600",children:"Loading statistics..."})})]}):M.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[M.jsxs("div",{className:"flex justify-between items-center mb-6",children:[M.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Statistics Editor"}),M.jsx("button",{onClick:I,disabled:s==="initializing",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:s==="initializing"?"Initializing...":"Initialize Defaults"})]}),l&&M.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:M.jsx("div",{className:"text-red-800 text-sm",children:l})}),h&&M.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:M.jsx("div",{className:"text-green-800 text-sm",children:h})}),M.jsx("div",{className:"space-y-6",children:t.map(R=>M.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label"}),M.jsx("input",{type:"text",value:R.label,onChange:N=>w(R.id,"label",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),M.jsx("input",{type:"number",value:R.value,onChange:N=>w(R.id,"value",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),M.jsx("input",{type:"number",value:R.order,onChange:N=>w(R.id,"order",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),M.jsx("div",{className:"flex items-end",children:M.jsx("button",{onClick:()=>y(R),disabled:s===R.id,className:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:s===R.id?"Saving...":"Save"})})]})},R.id))}),M.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[M.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Instructions"}),M.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[M.jsx("li",{children:"• Edit the label, value, and order for each statistic"}),M.jsx("li",{children:'• Click "Save" to update individual statistics'}),M.jsx("li",{children:'• Use "Initialize Defaults" to reset to default values'}),M.jsx("li",{children:"• Order determines the display sequence on the website"})]})]})]})},X6=()=>{const[t,e]=X.useState([]),[n,r]=X.useState(!0),[s,a]=X.useState(null),[l,c]=X.useState(null),[h,p]=X.useState(!1),[m,y]=X.useState({title:"",description:"",order:0}),[w,I]=X.useState(new Set);X.useEffect(()=>{R()},[]);const R=async()=>{try{r(!0);const K=await wh();e(K),a(null)}catch(K){a("Failed to load missions"),console.error("Error loading missions:",K)}finally{r(!1)}},N=async(K,F)=>{try{await K3(K,F),e(t.map(U=>U.id===K?{...U,...F}:U)),c(null),a(null)}catch(U){a("Failed to update mission"),console.error("Error updating mission:",U)}},V=async()=>{try{const K=await Fx(m),F={...m,id:K};e([...t,F]),y({title:"",description:"",order:0}),p(!1),a(null)}catch(K){a("Failed to add mission"),console.error("Error adding mission:",K)}},B=async K=>{if(window.confirm("Are you sure you want to delete this mission?"))try{await G3(K),e(t.filter(F=>F.id!==K)),a(null)}catch(F){a("Failed to delete mission"),console.error("Error deleting mission:",F)}},z=async(K,F)=>{if(!F.type.includes("pdf")){a("Only PDF files are allowed");return}if(F.size>10*1024*1024){a("File size must be less than 10MB");return}try{I(T=>new Set(T).add(K)),a(null);const{url:U,fileName:x,storageFileName:A}=await Q3(F,K);await DT(K,{reportUrl:U,reportFileName:x,storageFileName:A}),e(t.map(T=>T.id===K?{...T,reportUrl:U,reportFileName:x,storageFileName:A}:T)),I(T=>{const E=new Set(T);return E.delete(K),E})}catch(U){console.error("Error uploading file:",U),a("Failed to upload file"),I(x=>{const A=new Set(x);return A.delete(K),A})}},H=async(K,F)=>{if(window.confirm("Are you sure you want to delete this report?"))try{console.log("handleFileDelete called with:",{missionId:K,storageFileName:F});const U=t.find(A=>A.id===K);console.log("Mission data:",U);let x=F;if(!x&&(U!=null&&U.reportUrl)){const T=U.reportUrl.match(/mission-reports%2F([^?&]+)/);T&&(x=decodeURIComponent(T[1]),console.log("Extracted filename from URL:",x))}if(!x)throw new Error("Cannot determine file to delete");x.includes("?")&&(x=x.split("?")[0]),x.includes("mission-reports/")?x=x.split("mission-reports/")[1]:x.includes("%2F")&&(x=x.split("%2F")[1]),console.log("Final filename for deletion:",x),await Y3(x),await DT(K,{reportUrl:"",reportFileName:"",storageFileName:""}),e(t.map(A=>A.id===K?{...A,reportUrl:void 0,reportFileName:void 0,storageFileName:void 0}:A)),a(null)}catch(U){console.error("Error deleting file:",U),a("Failed to delete file")}};return n?M.jsx("div",{className:"flex justify-center items-center py-8",children:M.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):M.jsxs("div",{className:"p-6",children:[M.jsxs("div",{className:"flex justify-between items-center mb-6",children:[M.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Missions Editor"}),M.jsx("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Add New Mission"})]}),s&&M.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:M.jsx("p",{className:"text-red-800",children:s})}),h&&M.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[M.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Mission"}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),M.jsx("input",{type:"text",value:m.title,onChange:K=>y({...m,title:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., February 2025 Mission"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),M.jsx("input",{type:"number",value:m.order,onChange:K=>y({...m,order:parseInt(K.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Display order"})]}),M.jsxs("div",{className:"md:col-span-2",children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),M.jsx("input",{type:"text",value:m.description,onChange:K=>y({...m,description:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 33 Surgeries delivered"})]})]}),M.jsxs("div",{className:"mt-4 flex gap-2",children:[M.jsx("button",{onClick:V,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",children:"Add Mission"}),M.jsx("button",{onClick:()=>{p(!1),y({title:"",description:"",order:0})},className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}),M.jsx("div",{className:"space-y-4",children:t.map(K=>M.jsx(J6,{mission:K,isEditing:l===K.id,onEdit:()=>c(K.id||null),onSave:N,onCancel:()=>c(null),onDelete:B,onFileUpload:z,onFileDelete:H,uploadingFiles:w},K.id))}),t.length===0&&!n&&M.jsx("div",{className:"text-center py-8",children:M.jsx("p",{className:"text-gray-500",children:"No missions found. Add your first mission above."})})]})},J6=({mission:t,isEditing:e,onEdit:n,onSave:r,onCancel:s,onDelete:a,onFileUpload:l,onFileDelete:c,uploadingFiles:h})=>{const[p,m]=X.useState({...t}),y=()=>{r(t.id||"",p)};return e?M.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-white shadow-sm",children:[M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),M.jsx("input",{type:"text",value:p.title,onChange:w=>m({...p,title:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),M.jsx("input",{type:"number",value:p.order,onChange:w=>m({...p,order:parseInt(w.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),M.jsxs("div",{className:"md:col-span-2",children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),M.jsx("input",{type:"text",value:p.description,onChange:w=>m({...p,description:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),M.jsxs("div",{className:"mt-4 flex gap-2",children:[M.jsx("button",{onClick:y,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",children:"Save"}),M.jsx("button",{onClick:s,className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}):M.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-white shadow-sm",children:M.jsxs("div",{className:"flex justify-between items-start",children:[M.jsxs("div",{className:"flex-1",children:[M.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[M.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title}),M.jsxs("span",{className:"text-xs text-gray-400",children:["Order: ",t.order]})]}),M.jsx("p",{className:"text-gray-700",children:t.description}),M.jsxs("div",{className:"mt-4 p-3 border border-gray-200 rounded-lg bg-gray-50",children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mission Report (PDF only, max 10MB)"}),!t.reportUrl&&M.jsx("input",{type:"file",accept:"application/pdf",onChange:w=>{var R;const I=(R=w.target.files)==null?void 0:R[0];I&&(l(t.id||"",I),w.target.value="")},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:h.has(t.id||"")}),t.reportUrl&&M.jsxs("div",{className:"flex items-center justify-between bg-green-50 border border-green-200 rounded-md p-3",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),M.jsxs("span",{className:"text-sm text-green-800",children:["Report uploaded: ",t.reportFileName]})]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("a",{href:t.reportUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"View"}),M.jsx("button",{onClick:()=>c(t.id||"",t.storageFileName||t.reportUrl||""),className:"text-sm text-red-600 hover:underline",children:"Delete"})]})]}),h.has(t.id||"")&&M.jsxs("div",{className:"flex items-center text-sm text-blue-600 mt-2",children:[M.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading file..."]})]})]}),M.jsxs("div",{className:"flex gap-2 ml-4",children:[M.jsx("button",{onClick:n,className:"bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700 transition-colors text-sm",children:"Edit"}),M.jsx("button",{onClick:()=>a(t.id||""),className:"bg-red-600 text-white px-3 py-1 rounded-md hover:bg-red-700 transition-colors text-sm",children:"Delete"})]})]})})},Z6=()=>{const[t,e]=X.useState(null),[n,r]=X.useState(!0),[s,a]=X.useState("dashboard"),l=bh();X.useEffect(()=>{const h=ox(ju,p=>{p?e(p):l("/admin/signin"),r(!1)});return()=>h()},[l]);const c=async()=>{(await Q6()).success&&l("/admin/signin")};return n?M.jsx("div",{className:"min-h-screen bg-bodyColor flex items-center justify-center",children:M.jsx("div",{className:"text-lightText",children:"Loading..."})}):M.jsxs("div",{className:"min-h-screen bg-gray-900",children:[M.jsx("div",{className:"bg-gray-800 shadow",children:M.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"flex justify-between items-center py-6",children:[M.jsx("div",{className:"flex items-center",children:M.jsx("h1",{className:"text-3xl font-bold text-white",children:"Admin Console"})}),M.jsxs("div",{className:"flex items-center space-x-4",children:[M.jsxs("span",{className:"text-gray-300",children:["Welcome, ",t==null?void 0:t.email]}),M.jsx("button",{onClick:c,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Sign Out"})]})]})})}),M.jsx("div",{className:"bg-gray-800 border-b border-gray-700",children:M.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:M.jsxs("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[M.jsx("button",{onClick:()=>a("dashboard"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="dashboard"?"border-blue-500 text-blue-400":"border-transparent text-gray-300 hover:text-white hover:border-gray-300"}`,children:"Dashboard"}),M.jsx("button",{onClick:()=>a("statistics"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="statistics"?"border-blue-500 text-blue-400":"border-transparent text-gray-300 hover:text-white hover:border-gray-300"}`,children:"Statistics"}),M.jsx("button",{onClick:()=>a("missions"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="missions"?"border-blue-500 text-blue-400":"border-transparent text-gray-300 hover:text-white hover:border-gray-300"}`,children:"Missions"})]})})}),M.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[s==="dashboard"&&M.jsx("div",{className:"border-4 border-dashed border-gray-600 rounded-lg h-96 p-8",children:M.jsxs("div",{className:"text-center",children:[M.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Admin Dashboard"}),M.jsx("p",{className:"text-gray-400 mb-8",children:"Welcome to the admin console. Here you can manage your website content and settings."}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[M.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[M.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Statistics"}),M.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Manage website statistics and numbers"}),M.jsx("button",{onClick:()=>a("statistics"),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Edit Statistics →"})]}),M.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[M.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Missions"}),M.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Manage mission history and updates"}),M.jsx("button",{onClick:()=>a("missions"),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Edit Missions →"})]}),M.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[M.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Analytics"}),M.jsx("p",{className:"text-gray-400 text-sm",children:"View website analytics and reports"})]})]})]})}),s==="statistics"&&M.jsx(Y6,{}),s==="missions"&&M.jsx(X6,{})]})})]})},eU=({children:t})=>{const[e,n]=X.useState(null),[r,s]=X.useState(!0);return X.useEffect(()=>{const a=ox(ju,l=>{n(l),s(!1)});return()=>a()},[]),r?M.jsx("div",{className:"min-h-screen bg-bodyColor flex items-center justify-center",children:M.jsx("div",{className:"text-lightText",children:"Loading..."})}):e?M.jsx(M.Fragment,{children:t}):M.jsx(QC,{to:"/admin/signin",replace:!0})},tU=async()=>{console.log("Testing missions service...");try{console.log("Fetching missions...");const t=await wh();console.log("Missions fetched:",t),console.log("Adding test mission...");const n=await Fx({title:"Test Mission",description:"Test mission description",order:999});console.log("Mission added:",n);const r=await wh();return console.log("Updated missions:",r),{success:!0,missions:r}}catch(t){return console.error("Error testing missions service:",t),{success:!1,error:t}}};window.testMissionsService=tU;const nU=()=>M.jsxs("main",{className:"font-bodyFont w-full h-auto bg-bodyColor text-lightText",children:[M.jsx(q3,{}),M.jsx("div",{className:"px-4",children:M.jsxs("div",{className:"max-w-screen-xl mx-auto",children:[M.jsx(eN,{}),M.jsx(N3,{}),M.jsx(X3,{}),M.jsx(e6,{}),M.jsx(K6,{})]})})]});function rU(){return M.jsx(ER,{children:M.jsxs(XC,{children:[M.jsx(aa,{path:"/",element:M.jsx(nU,{})}),M.jsx(aa,{path:"/test",element:M.jsx("div",{className:"min-h-screen bg-red-500 flex items-center justify-center text-white text-4xl",children:"ROUTING WORKS!"})}),M.jsx(aa,{path:"/admin/signin",element:M.jsx(tS,{})}),M.jsx(aa,{path:"/admin/console",element:M.jsx(eU,{children:M.jsx(Z6,{})})}),M.jsx(aa,{path:"/admin",element:M.jsx(tS,{})})]})})}sC.createRoot(document.getElementById("root")).render(M.jsx(Lr.StrictMode,{children:M.jsx(rU,{})}));
